(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{9208:(fn,at,O)=>{"use strict";O.d(at,{C:()=>qc});var l=O(1528),x=O(4496),K=O(4580),we=(O(6858),O(1368)),ce=O(6176),ae=O(6e3),be=O(5657),Xe=O(2700),de=O(3252),le=O(9900),Ge=O(267),je=O(560),He=O(8960),qe=O(9472),Ye=O(3920),Ve=O(7368),Se=O(4704),it=O(5960);class We extends be.E{constructor(v=1/0,$=1/0,H=it.K){super(),this._bufferSize=v,this._windowTime=$,this._timestampProvider=H,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=$===1/0,this._bufferSize=Math.max(1,v),this._windowTime=Math.max(1,$)}next(v){const{isStopped:$,_buffer:H,_infiniteTimeWindow:Ie,_timestampProvider:st,_windowTime:$t}=this;$||(H.push(v),!Ie&&H.push(st.now()+$t)),this._trimBuffer(),super.next(v)}_subscribe(v){this._throwIfClosed(),this._trimBuffer();const $=this._innerSubscribe(v),{_infiniteTimeWindow:H,_buffer:Ie}=this,st=Ie.slice();for(let $t=0;$t<st.length&&!v.closed;$t+=H?1:2)v.next(st[$t]);return this._checkFinalizedStatuses(v),$}_trimBuffer(){const{_bufferSize:v,_timestampProvider:$,_buffer:H,_infiniteTimeWindow:Ie}=this,st=(Ie?1:2)*v;if(v<1/0&&st<H.length&&H.splice(0,H.length-st),!Ie){const $t=$.now();let ln=0;for(let pn=1;pn<H.length&&H[pn]<=$t;pn+=2)ln=pn;ln&&H.splice(0,ln+1)}}}var Ke=O(1760),Qe=O(5448);function me(S,v,...$){if(!0===v)return void S();if(!1===v)return;const H=new Ke.ot({next:()=>{H.unsubscribe(),S()}});return(0,je.Uv)(v(...$)).subscribe(H)}function z(S,v,$){let H,Ie=!1;return S&&"object"==typeof S?({bufferSize:H=1/0,windowTime:v=1/0,refCount:Ie=!1,scheduler:$}=S):H=null!=S?S:1/0,function ot(S={}){const{connector:v=(()=>new be.E),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:Ie=!0}=S;return st=>{let $t,ln,pn,Wn=0,rr=!1,Vr=!1;const si=()=>{null==ln||ln.unsubscribe(),ln=void 0},ni=()=>{si(),$t=pn=void 0,rr=Vr=!1},$r=()=>{const Ri=$t;ni(),null==Ri||Ri.unsubscribe()};return(0,Qe.i)((Ri,Wr)=>{Wn++,!Vr&&!rr&&si();const hi=pn=null!=pn?pn:v();Wr.add(()=>{Wn--,0===Wn&&!Vr&&!rr&&(ln=me($r,Ie))}),hi.subscribe(Wr),!$t&&Wn>0&&($t=new Ke.ot({next:mo=>hi.next(mo),error:mo=>{Vr=!0,si(),ln=me(ni,$,mo),hi.error(mo)},complete:()=>{rr=!0,si(),ln=me(ni,H),hi.complete()}}),(0,je.Uv)(Ri).subscribe($t))})(st)}}({connector:()=>new We(H,v,$),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ie})}var $e=O(5084),Be=O(8880);function Le(S,v){return(0,Be.m)(v)?(0,Ve.G)(()=>S,v):(0,Ve.G)(()=>S)}var Ae=O(2924),ze=O(6684);O(9252);const Pt=new x.UbH("angularfire2.auth.use-emulator"),nt=new x.UbH("angularfire2.auth.settings"),Ee=new x.UbH("angularfire2.auth.tenant-id"),ve=new x.UbH("angularfire2.auth.langugage-code"),Me=new x.UbH("angularfire2.auth.use-device-language"),Oe=new x.UbH("angularfire.auth.persistence"),ut=(S,v,$,H,Ie,st,$t,ln)=>(0,ae.PQ)(`${S.name}.auth`,"AngularFireAuth",S.name,()=>{const pn=v.runOutsideAngular(()=>S.auth());if($&&pn.useEmulator(...$),H&&(pn.tenantId=H),pn.languageCode=Ie,st&&pn.useDeviceLanguage(),$t)for(const[Wn,rr]of Object.entries($t))pn.settings[Wn]=rr;return ln&&pn.setPersistence(ln),pn},[$,H,Ie,st,$t,ln]);let Ue=(()=>{var S;class v{constructor(H,Ie,st,$t,ln,pn,Wn,rr,Vr,si,ni,$r){(0,K.c)(this,"authState",void 0),(0,K.c)(this,"idToken",void 0),(0,K.c)(this,"user",void 0),(0,K.c)(this,"idTokenResult",void 0),(0,K.c)(this,"credential",void 0);const Ri=new be.E,Wr=(0,Xe.of)(void 0).pipe((0,Ye.y)(ln.outsideAngular),(0,Ve.G)(()=>$t.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,6858)))),(0,Se.k)(()=>(0,ae._G)(H,$t,Ie)),(0,Se.k)(hi=>ut(hi,$t,pn,rr,Vr,si,Wn,ni)),z({bufferSize:1,refCount:!1}));if((0,we.uf)(st))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{Wr.pipe((0,$e.K)()).subscribe();const hi=Wr.pipe((0,Ve.G)(ar=>ar.getRedirectResult().then(io=>io,()=>null)),ce.wH,z({bufferSize:1,refCount:!1})),mo=Wr.pipe((0,Ve.G)(ar=>new de._(io=>({unsubscribe:$t.runOutsideAngular(()=>ar.onAuthStateChanged($i=>io.next($i),$i=>io.error($i),()=>io.complete()))})))),Mi=Wr.pipe((0,Ve.G)(ar=>new de._(io=>({unsubscribe:$t.runOutsideAngular(()=>ar.onIdTokenChanged($i=>io.next($i),$i=>io.error($i),()=>io.complete()))}))));this.authState=hi.pipe(Le(mo),(0,Ae.y)(ln.outsideAngular),(0,Ye.y)(ln.insideAngular)),this.user=hi.pipe(Le(Mi),(0,Ae.y)(ln.outsideAngular),(0,Ye.y)(ln.insideAngular)),this.idToken=this.user.pipe((0,Ve.G)(ar=>ar?(0,le.Q)(ar.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe((0,Ve.G)(ar=>ar?(0,le.Q)(ar.getIdTokenResult()):(0,Xe.of)(null))),this.credential=function ft(...S){const v=(0,qe.e_)(S),$=(0,qe._8)(S,1/0),H=S;return H.length?1===H.length?(0,je.Uv)(H[0]):(0,Ge.u)($)((0,le.Q)(H,v)):He.k}(hi,Ri,this.authState.pipe((0,ze.I)(ar=>!ar))).pipe((0,Se.k)(ar=>null!=ar&&ar.user?ar:null),(0,Ae.y)(ln.outsideAngular),(0,Ye.y)(ln.insideAngular))}return(0,ae._w)(this,Wr,$t,{spy:{apply:(hi,mo,Mi)=>{(hi.startsWith("signIn")||hi.startsWith("createUser"))&&Mi.then(ar=>Ri.next(ar))}}})}}return S=v,(0,K.c)(v,"\u0275fac",function(H){return new(H||S)(x.CoB(ae.E9),x.CoB(ae.Ml,8),x.CoB(x.AHE),x.CoB(x.WW2),x.CoB(ce.u),x.CoB(Pt,8),x.CoB(nt,8),x.CoB(Ee,8),x.CoB(ve,8),x.CoB(Me,8),x.CoB(Oe,8),x.CoB(ce.gJ,8))}),(0,K.c)(v,"\u0275prov",x.wxM({token:S,factory:S.\u0275fac,providedIn:"any"})),v})();var on=O(7888),Kt=O(7144),Bt=O(9360),tr=(O(5976),O(4920)),qn=O(112),Ft=O(5568),Dt=O(7773);function wt(){return(0,Qe.i)((S,v)=>{let $,H=!1;S.subscribe((0,Dt.e)(v,Ie=>{const st=$;$=Ie,H&&v.next([st,Ie]),H=!0}))})}var Ht=O(208),hn=O(4e3),qt=O(8368),mt=O(5718);function pr(S,v){if(void 0===v)return{merge:!1};if(void 0!==v.mergeFields&&void 0!==v.merge)throw new mt.Mm("invalid-argument",`Invalid options passed to function ${S}(): You cannot specify both "merge" and "mergeFields".`);return v}function mr(){if(typeof Uint8Array>"u")throw new mt.Mm("unimplemented","Uint8Arrays are not available in this environment.")}function lr(){if(!(0,mt.Qj)())throw new mt.Mm("unimplemented","Blobs are unavailable in Firestore in this environment.")}class An{constructor(v){this._delegate=v}static fromBase64String(v){return lr(),new An(mt.Km.fromBase64String(v))}static fromUint8Array(v){return mr(),new An(mt.Km.fromUint8Array(v))}toBase64(){return lr(),this._delegate.toBase64()}toUint8Array(){return mr(),this._delegate.toUint8Array()}isEqual(v){return this._delegate.isEqual(v._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $n(S){return function vr(S,v){if("object"!=typeof S||null===S)return!1;const $=S;for(const H of v)if(H in $&&"function"==typeof $[H])return!0;return!1}(S,["next","error","complete"])}class di{enableIndexedDbPersistence(v,$){return(0,mt._Q)(v._delegate,{forceOwnership:$})}enableMultiTabIndexedDbPersistence(v){return(0,mt.Ej)(v._delegate)}clearIndexedDbPersistence(v){return(0,mt.y0)(v._delegate)}}class zn{constructor(v,$,H){this._delegate=$,this._persistenceProvider=H,this.INTERNAL={delete:()=>this.terminate()},v instanceof mt.K2||(this._appCompat=v)}get _databaseId(){return this._delegate._databaseId}settings(v){const $=this._delegate._getSettings();!v.merge&&$.host!==v.host&&(0,mt.ss)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),v.merge&&delete(v=Object.assign(Object.assign({},$),v)).merge,this._delegate._setSettings(v)}useEmulator(v,$,H={}){(0,mt.Cw)(this._delegate,v,$,H)}enableNetwork(){return(0,mt.If)(this._delegate)}disableNetwork(){return(0,mt.Mp)(this._delegate)}enablePersistence(v){let $=!1,H=!1;return v&&($=!!v.synchronizeTabs,H=!!v.experimentalForceOwningTab,(0,mt.k1)("synchronizeTabs",$,"experimentalForceOwningTab",H)),$?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,H)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,mt.cl)(this._delegate)}onSnapshotsInSync(v){return(0,mt.oX)(this._delegate,v)}get app(){if(!this._appCompat)throw new mt.Mm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(v){try{return new et(this,(0,mt.oV)(this._delegate,v))}catch($){throw sr($,"collection()","Firestore.collection()")}}doc(v){try{return new vn(this,(0,mt.UN)(this._delegate,v))}catch($){throw sr($,"doc()","Firestore.doc()")}}collectionGroup(v){try{return new wr(this,(0,mt.c7)(this._delegate,v))}catch($){throw sr($,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(v){return(0,mt.k9)(this._delegate,$=>v(new Fn(this,$)))}batch(){return(0,mt.Ws)(this._delegate),new Sn(new mt.k5(this._delegate,v=>(0,mt._M)(this._delegate,v)))}loadBundle(v){return(0,mt.uG)(this._delegate,v)}namedQuery(v){return(0,mt.ee)(this._delegate,v).then($=>$?new wr(this,$):null)}}class Cn extends mt.wP{constructor(v){super(),this.firestore=v}convertBytes(v){return new An(new mt.Km(v))}convertReference(v){const $=this.convertDocumentKey(v,this.firestore._databaseId);return vn.forKey($,this.firestore,null)}}class Fn{constructor(v,$){this._firestore=v,this._delegate=$,this._userDataWriter=new Cn(v)}get(v){const $=Tt(v);return this._delegate.get($).then(H=>new Bn(this._firestore,new mt.E3(this._firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,$.converter)))}set(v,$,H){const Ie=Tt(v);return H?(pr("Transaction.set",H),this._delegate.set(Ie,$,H)):this._delegate.set(Ie,$),this}update(v,$,H,...Ie){const st=Tt(v);return 2===arguments.length?this._delegate.update(st,$):this._delegate.update(st,$,H,...Ie),this}delete(v){const $=Tt(v);return this._delegate.delete($),this}}class Sn{constructor(v){this._delegate=v}set(v,$,H){const Ie=Tt(v);return H?(pr("WriteBatch.set",H),this._delegate.set(Ie,$,H)):this._delegate.set(Ie,$),this}update(v,$,H,...Ie){const st=Tt(v);return 2===arguments.length?this._delegate.update(st,$):this._delegate.update(st,$,H,...Ie),this}delete(v){const $=Tt(v);return this._delegate.delete($),this}commit(){return this._delegate.commit()}}class Un{constructor(v,$,H){this._firestore=v,this._userDataWriter=$,this._delegate=H}fromFirestore(v,$){const H=new mt.EL(this._firestore._delegate,this._userDataWriter,v._key,v._document,v.metadata,null);return this._delegate.fromFirestore(new Zn(this._firestore,H),null!=$?$:{})}toFirestore(v,$){return $?this._delegate.toFirestore(v,$):this._delegate.toFirestore(v)}static getInstance(v,$){const H=Un.INSTANCES;let Ie=H.get(v);Ie||(Ie=new WeakMap,H.set(v,Ie));let st=Ie.get($);return st||(st=new Un(v,new Cn(v),$),Ie.set($,st)),st}}Un.INSTANCES=new WeakMap;class vn{constructor(v,$){this.firestore=v,this._delegate=$,this._userDataWriter=new Cn(v)}static forPath(v,$,H){if(v.length%2!=0)throw new mt.Mm("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${v.canonicalString()} has ${v.length}`);return new vn($,new mt.YD($._delegate,H,new mt.o1(v)))}static forKey(v,$,H){return new vn($,new mt.YD($._delegate,H,v))}get id(){return this._delegate.id}get parent(){return new et(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(v){try{return new et(this.firestore,(0,mt.oV)(this._delegate,v))}catch($){throw sr($,"collection()","DocumentReference.collection()")}}isEqual(v){return(v=(0,Kt.Yj)(v))instanceof mt.YD&&(0,mt.G6)(this._delegate,v)}set(v,$){$=pr("DocumentReference.set",$);try{return $?(0,mt.Sm)(this._delegate,v,$):(0,mt.Sm)(this._delegate,v)}catch(H){throw sr(H,"setDoc()","DocumentReference.set()")}}update(v,$,...H){try{return 1===arguments.length?(0,mt.gD)(this._delegate,v):(0,mt.gD)(this._delegate,v,$,...H)}catch(Ie){throw sr(Ie,"updateDoc()","DocumentReference.update()")}}delete(){return(0,mt.oh)(this._delegate)}onSnapshot(...v){const $=ai(v),H=Dr(v,Ie=>new Bn(this.firestore,new mt.E3(this.firestore._delegate,this._userDataWriter,Ie._key,Ie._document,Ie.metadata,this._delegate.converter)));return(0,mt.ag)(this._delegate,$,H)}get(v){let $;return $="cache"===(null==v?void 0:v.source)?(0,mt.yS)(this._delegate):"server"===(null==v?void 0:v.source)?(0,mt.cb)(this._delegate):(0,mt.i4)(this._delegate),$.then(H=>new Bn(this.firestore,new mt.E3(this.firestore._delegate,this._userDataWriter,H._key,H._document,H.metadata,this._delegate.converter)))}withConverter(v){return new vn(this.firestore,this._delegate.withConverter(v?Un.getInstance(this.firestore,v):null))}}function sr(S,v,$){return S.message=S.message.replace(v,$),S}function ai(S){for(const v of S)if("object"==typeof v&&!$n(v))return v;return{}}function Dr(S,v){var $,H;let Ie;return Ie=$n(S[0])?S[0]:$n(S[1])?S[1]:"function"==typeof S[0]?{next:S[0],error:S[1],complete:S[2]}:{next:S[1],error:S[2],complete:S[3]},{next:st=>{Ie.next&&Ie.next(v(st))},error:null===($=Ie.error)||void 0===$?void 0:$.bind(Ie),complete:null===(H=Ie.complete)||void 0===H?void 0:H.bind(Ie)}}class Bn{constructor(v,$){this._firestore=v,this._delegate=$}get ref(){return new vn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(v){return this._delegate.data(v)}get(v,$){return this._delegate.get(v,$)}isEqual(v){return(0,mt.iW)(this._delegate,v._delegate)}}class Zn extends Bn{data(v){const $=this._delegate.data(v);return this._delegate._converter||(0,mt.K4)(void 0!==$,"Document in a QueryDocumentSnapshot should exist"),$}}class wr{constructor(v,$){this.firestore=v,this._delegate=$,this._userDataWriter=new Cn(v)}where(v,$,H){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.A9)(v,$,H)))}catch(Ie){throw sr(Ie,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(v,$){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.k$)(v,$)))}catch(H){throw sr(H,/(orderBy|where)\(\)/,"Query.$1()")}}limit(v){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.Yf)(v)))}catch($){throw sr($,"limit()","Query.limit()")}}limitToLast(v){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt._6)(v)))}catch($){throw sr($,"limitToLast()","Query.limitToLast()")}}startAt(...v){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.kf)(...v)))}catch($){throw sr($,"startAt()","Query.startAt()")}}startAfter(...v){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.SQ)(...v)))}catch($){throw sr($,"startAfter()","Query.startAfter()")}}endBefore(...v){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.Ar)(...v)))}catch($){throw sr($,"endBefore()","Query.endBefore()")}}endAt(...v){try{return new wr(this.firestore,(0,mt.kt)(this._delegate,(0,mt.eg)(...v)))}catch($){throw sr($,"endAt()","Query.endAt()")}}isEqual(v){return(0,mt.C)(this._delegate,v._delegate)}get(v){let $;return $="cache"===(null==v?void 0:v.source)?(0,mt.MP)(this._delegate):"server"===(null==v?void 0:v.source)?(0,mt.aC)(this._delegate):(0,mt.uY)(this._delegate),$.then(H=>new Rt(this.firestore,new mt.uI(this.firestore._delegate,this._userDataWriter,this._delegate,H._snapshot)))}onSnapshot(...v){const $=ai(v),H=Dr(v,Ie=>new Rt(this.firestore,new mt.uI(this.firestore._delegate,this._userDataWriter,this._delegate,Ie._snapshot)));return(0,mt.ag)(this._delegate,$,H)}withConverter(v){return new wr(this.firestore,this._delegate.withConverter(v?Un.getInstance(this.firestore,v):null))}}class Ei{constructor(v,$){this._firestore=v,this._delegate=$}get type(){return this._delegate.type}get doc(){return new Zn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rt{constructor(v,$){this._firestore=v,this._delegate=$}get query(){return new wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(v=>new Zn(this._firestore,v))}docChanges(v){return this._delegate.docChanges(v).map($=>new Ei(this._firestore,$))}forEach(v,$){this._delegate.forEach(H=>{v.call($,new Zn(this._firestore,H))})}isEqual(v){return(0,mt.iW)(this._delegate,v._delegate)}}class et extends wr{constructor(v,$){super(v,$),this.firestore=v,this._delegate=$}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const v=this._delegate.parent;return v?new vn(this.firestore,v):null}doc(v){try{return new vn(this.firestore,void 0===v?(0,mt.UN)(this._delegate):(0,mt.UN)(this._delegate,v))}catch($){throw sr($,"doc()","CollectionReference.doc()")}}add(v){return(0,mt.sB)(this._delegate,v).then($=>new vn(this.firestore,$))}isEqual(v){return(0,mt.G6)(this._delegate,v._delegate)}withConverter(v){return new et(this.firestore,this._delegate.withConverter(v?Un.getInstance(this.firestore,v):null))}}function Tt(S){return(0,mt.YX)(S,mt.YD)}class tt{constructor(...v){this._delegate=new mt.UD(...v)}static documentId(){return new tt(mt.gH.keyField().canonicalString())}isEqual(v){return(v=(0,Kt.Yj)(v))instanceof mt.UD&&this._delegate._internalPath.isEqual(v._internalPath)}}class oe{constructor(v){this._delegate=v}static serverTimestamp(){const v=(0,mt.S)();return v._methodName="FieldValue.serverTimestamp",new oe(v)}static delete(){const v=(0,mt.cr)();return v._methodName="FieldValue.delete",new oe(v)}static arrayUnion(...v){const $=(0,mt.cT)(...v);return $._methodName="FieldValue.arrayUnion",new oe($)}static arrayRemove(...v){const $=(0,mt.AX)(...v);return $._methodName="FieldValue.arrayRemove",new oe($)}static increment(v){const $=(0,mt.AF)(v);return $._methodName="FieldValue.increment",new oe($)}isEqual(v){return this._delegate.isEqual(v._delegate)}}const he={Firestore:zn,GeoPoint:mt.Ez,Timestamp:mt.kR,Blob:An,Transaction:Fn,WriteBatch:Sn,DocumentReference:vn,DocumentSnapshot:Bn,Query:wr,QueryDocumentSnapshot:Zn,QuerySnapshot:Rt,CollectionReference:et,FieldPath:tt,FieldValue:oe,setLogLevel:function Ir(S){(0,mt.QN)(S)},CACHE_SIZE_UNLIMITED:mt.Om};function pe(S,v){return function F(S,v=qn.M){return new de._($=>{let H;return null!=v?v.schedule(()=>{H=S.onSnapshot({includeMetadataChanges:!0},$)}):H=S.onSnapshot({includeMetadataChanges:!0},$),()=>{null!=H&&H()}})}(S,v)}function ct(S,v){return pe(S,v).pipe((0,Se.k)($=>({payload:$,type:"query"})))}!function R(S){(function Z(S,v){S.INTERNAL.registerComponent(new tr.Yl("firestore-compat",$=>{const H=$.getProvider("app-compat").getImmediate(),Ie=$.getProvider("firestore").getImmediate();return v(H,Ie)},"PUBLIC").setServiceProps(Object.assign({},he)))})(S,(v,$)=>new zn(v,$,new di)),S.registerVersion("@firebase/firestore-compat","0.3.26")}(qt.c);class Mt{constructor(v,$){(0,K.c)(this,"ref",void 0),(0,K.c)(this,"afs",void 0),this.ref=v,this.afs=$}set(v,$){return this.ref.set(v,$)}update(v){return this.ref.update(v)}delete(){return this.ref.delete()}collection(v,$){const H=this.ref.collection(v),{ref:Ie,query:st}=Hn(H,$);return new Jn(Ie,st,this.afs)}snapshotChanges(){return function Pe(S,v){return pe(S,v).pipe((0,Ft.W)(void 0),wt(),(0,Se.k)($=>{const[H,Ie]=$;return Ie.exists?null!=H&&H.exists?{payload:Ie,type:"modified"}:{payload:Ie,type:"added"}:{payload:Ie,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ce.wH)}valueChanges(v={}){return this.snapshotChanges().pipe((0,Se.k)(({payload:$})=>v.idField?{...$.data(),[v.idField]:$.id}:$.data()))}get(v){return(0,le.Q)(this.ref.get(v)).pipe(ce.wH)}}function xt(S,v){return ct(S,v).pipe((0,Ft.W)(void 0),wt(),(0,Se.k)($=>{const[H,Ie]=$,st=Ie.payload.docChanges(),$t=st.map(ln=>({type:ln.type,payload:ln}));return H&&JSON.stringify(H.payload.metadata)!==JSON.stringify(Ie.payload.metadata)&&Ie.payload.docs.forEach((ln,pn)=>{const Wn=st.find(Vr=>Vr.doc.ref.isEqual(ln.ref)),rr=null==H?void 0:H.payload.docs.find(Vr=>Vr.ref.isEqual(ln.ref));Wn&&JSON.stringify(Wn.doc.metadata)===JSON.stringify(ln.metadata)||!Wn&&rr&&JSON.stringify(rr.metadata)===JSON.stringify(ln.metadata)||$t.push({type:"modified",payload:{oldIndex:pn,newIndex:pn,type:"modified",doc:ln}})}),$t}))}function tn(S,v,$){return xt(S,$).pipe((0,Ht.K)((H,Ie)=>function Vt(S,v,$){return v.forEach(H=>{$.indexOf(H.type)>-1&&(S=function Rn(S,v){switch(v.type){case"added":if(!S[v.newIndex]||!S[v.newIndex].doc.ref.isEqual(v.doc.ref))return dn(S,v.newIndex,0,v);break;case"modified":if(null==S[v.oldIndex]||S[v.oldIndex].doc.ref.isEqual(v.doc.ref)){if(v.oldIndex!==v.newIndex){const $=S.slice();return $.splice(v.oldIndex,1),$.splice(v.newIndex,0,v),$}return dn(S,v.newIndex,1,v)}break;case"removed":if(S[v.oldIndex]&&S[v.oldIndex].doc.ref.isEqual(v.doc.ref))return dn(S,v.oldIndex,1)}return S}(S,H))}),S}(H,Ie.map(st=>st.payload),v),[]),(0,hn.a)(),(0,Se.k)(H=>H.map(Ie=>({type:Ie.type,payload:Ie}))))}function dn(S,v,$,...H){const Ie=S.slice();return Ie.splice(v,$,...H),Ie}function Gn(S){return(!S||0===S.length)&&(S=["added","removed","modified"]),S}class Jn{constructor(v,$,H){(0,K.c)(this,"ref",void 0),(0,K.c)(this,"query",void 0),(0,K.c)(this,"afs",void 0),this.ref=v,this.query=$,this.afs=H}stateChanges(v){let $=xt(this.query,this.afs.schedulers.outsideAngular);return v&&v.length>0&&($=$.pipe((0,Se.k)(H=>H.filter(Ie=>v.indexOf(Ie.type)>-1)))),$.pipe((0,Ft.W)(void 0),wt(),(0,ze.I)(([H,Ie])=>Ie.length>0||!H),(0,Se.k)(([,H])=>H),ce.wH)}auditTrail(v){return this.stateChanges(v).pipe((0,Ht.K)(($,H)=>[...$,...H],[]))}snapshotChanges(v){const $=Gn(v);return tn(this.query,$,this.afs.schedulers.outsideAngular).pipe(ce.wH)}valueChanges(v={}){return ct(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.k)($=>$.payload.docs.map(H=>v.idField?{...H.data(),[v.idField]:H.id}:H.data())),ce.wH)}get(v){return(0,le.Q)(this.query.get(v)).pipe(ce.wH)}add(v){return this.ref.add(v)}doc(v){return new Mt(this.ref.doc(v),this.afs)}}class gt{constructor(v,$){(0,K.c)(this,"query",void 0),(0,K.c)(this,"afs",void 0),this.query=v,this.afs=$}stateChanges(v){return v&&0!==v.length?xt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.k)($=>$.filter(H=>v.indexOf(H.type)>-1)),(0,ze.I)($=>$.length>0),ce.wH):xt(this.query,this.afs.schedulers.outsideAngular).pipe(ce.wH)}auditTrail(v){return this.stateChanges(v).pipe((0,Ht.K)(($,H)=>[...$,...H],[]))}snapshotChanges(v){const $=Gn(v);return tn(this.query,$,this.afs.schedulers.outsideAngular).pipe(ce.wH)}valueChanges(v={}){return ct(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.k)(H=>H.payload.docs.map(Ie=>v.idField?{[v.idField]:Ie.id,...Ie.data()}:Ie.data())),ce.wH)}get(v){return(0,le.Q)(this.query.get(v)).pipe(ce.wH)}}const _t=new x.UbH("angularfire2.enableFirestorePersistence"),Gt=new x.UbH("angularfire2.firestore.persistenceSettings"),_n=new x.UbH("angularfire2.firestore.settings"),ir=new x.UbH("angularfire2.firestore.use-emulator");function Hn(S,v=($=>$)){return{query:v(S),ref:S}}let er=(()=>{var S;class v{constructor(H,Ie,st,$t,ln,pn,Wn,rr,Vr,si,ni,$r,Ri,Wr,hi,mo,Mi){(0,K.c)(this,"schedulers",void 0),(0,K.c)(this,"firestore",void 0),(0,K.c)(this,"persistenceEnabled$",void 0),this.schedulers=Wn;const ar=(0,ae._G)(H,pn,Ie),io=Vr;si&&ut(ar,pn,ni,Ri,Wr,hi,$r,mo),[this.firestore,this.persistenceEnabled$]=(0,ae.PQ)(`${ar.name}.firestore`,"AngularFirestore",ar.name,()=>{const $i=pn.runOutsideAngular(()=>ar.firestore());if($t&&$i.settings($t),io&&$i.useEmulator(...io),st&&!(0,we.uf)(ln)){const Ea=()=>{try{return(0,le.Q)($i.enablePersistence(rr||void 0).then(()=>!0,()=>!1))}catch(ko){return typeof console<"u"&&console.warn(ko),(0,Xe.of)(!1)}};return[$i,pn.runOutsideAngular(Ea)]}return[$i,(0,Xe.of)(!1)]},[$t,io,st])}collection(H,Ie){let st;st="string"==typeof H?this.firestore.collection(H):H;const{ref:$t,query:ln}=Hn(st,Ie),pn=this.schedulers.ngZone.run(()=>$t);return new Jn(pn,ln,this)}collectionGroup(H,Ie){const st=Ie||(ln=>ln),$t=this.firestore.collectionGroup(H);return new gt(st($t),this)}doc(H){let Ie;Ie="string"==typeof H?this.firestore.doc(H):H;const st=this.schedulers.ngZone.run(()=>Ie);return new Mt(st,this)}createId(){return this.firestore.collection("_").doc().id}}return S=v,(0,K.c)(v,"\u0275fac",function(H){return new(H||S)(x.CoB(ae.E9),x.CoB(ae.Ml,8),x.CoB(_t,8),x.CoB(_n,8),x.CoB(x.AHE),x.CoB(x.WW2),x.CoB(ce.u),x.CoB(Gt,8),x.CoB(ir,8),x.CoB(Ue,8),x.CoB(Pt,8),x.CoB(nt,8),x.CoB(Ee,8),x.CoB(ve,8),x.CoB(Me,8),x.CoB(Oe,8),x.CoB(ce.gJ,8))}),(0,K.c)(v,"\u0275prov",x.wxM({token:S,factory:S.\u0275fac,providedIn:"any"})),v})();O(3680);var Vn=O(872),Qn=function(){return Qn=Object.assign||function(v){for(var $,H=1,Ie=arguments.length;H<Ie;H++)for(var st in $=arguments[H])Object.prototype.hasOwnProperty.call($,st)&&(v[st]=$[st]);return v},Qn.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Et={includeMetadataChanges:!1};function D(S,v){return void 0===v&&(v={}),function or(S){return function q(S,v){return void 0===v&&(v=Et),new de._(function($){return{unsubscribe:(0,Vn.ag)(S,v,{next:$.next.bind($),error:$.error.bind($),complete:$.complete.bind($)})}})}(S,{includeMetadataChanges:!0}).pipe((0,Se.k)(function(v){return v.docs}))}(S).pipe((0,Se.k)(function($){return $.map(function(H){return function rt(S,v){var $;void 0===v&&(v={});var H=S.data(v);return S.exists()&&"object"==typeof H&&null!==H&&v.idField?Qn(Qn({},H),(($={})[v.idField]=S.id,$)):H}(H,v)})}))}const vi=(0,ce.qo)(D,!0),ta=(0,ce.qo)(Vn.sB,!0),Si=(0,ce.qo)(Vn.oV,!0),Qo=(0,ce.qo)(Vn.oh,!0),Xo=(0,ce.qo)(Vn.UN,!0),Bs=(0,ce.qo)(Vn.i4,!0),Zo=(0,ce.qo)(Vn.gZ,!0),Sa=(0,ce.qo)(Vn.kt,!0),_o=(0,ce.qo)(Vn.Sm,!0),Ra=(0,ce.qo)(Vn.gD,!0);var Rs=O(7284);const Ma="firebasestorage.googleapis.com",Ul="storageBucket";class yi extends Kt.kx{constructor(v,$,H=0){super(Ws(v),`Firebase Storage: ${$} (${Ws(v)})`),this.status_=H,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(v){this.status_=v}_codeEquals(v){return Ws(v)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(v){this.customData.serverResponse=v,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ii=function(S){return S.UNKNOWN="unknown",S.OBJECT_NOT_FOUND="object-not-found",S.BUCKET_NOT_FOUND="bucket-not-found",S.PROJECT_NOT_FOUND="project-not-found",S.QUOTA_EXCEEDED="quota-exceeded",S.UNAUTHENTICATED="unauthenticated",S.UNAUTHORIZED="unauthorized",S.UNAUTHORIZED_APP="unauthorized-app",S.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",S.INVALID_CHECKSUM="invalid-checksum",S.CANCELED="canceled",S.INVALID_EVENT_NAME="invalid-event-name",S.INVALID_URL="invalid-url",S.INVALID_DEFAULT_BUCKET="invalid-default-bucket",S.NO_DEFAULT_BUCKET="no-default-bucket",S.CANNOT_SLICE_BLOB="cannot-slice-blob",S.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",S.NO_DOWNLOAD_URL="no-download-url",S.INVALID_ARGUMENT="invalid-argument",S.INVALID_ARGUMENT_COUNT="invalid-argument-count",S.APP_DELETED="app-deleted",S.INVALID_ROOT_OPERATION="invalid-root-operation",S.INVALID_FORMAT="invalid-format",S.INTERNAL_ERROR="internal-error",S.UNSUPPORTED_ENVIRONMENT="unsupported-environment",S}(Ii||{});function Ws(S){return"storage/"+S}function ia(){return new yi(Ii.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function oi(){return new yi(Ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bl(){return new yi(Ii.CANCELED,"User canceled the upload/download.")}function yl(){return new yi(Ii.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kr(S){return new yi(Ii.INVALID_ARGUMENT,S)}function qi(){return new yi(Ii.APP_DELETED,"The Firebase app was deleted.")}function ms(S){return new yi(Ii.INVALID_ROOT_OPERATION,"The operation '"+S+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Di(S,v){return new yi(Ii.INVALID_FORMAT,"String does not match format '"+S+"': "+v)}function E(S){throw new yi(Ii.INTERNAL_ERROR,"Internal error: "+S)}class M{constructor(v,$){this.bucket=v,this.path_=$}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const v=encodeURIComponent;return"/b/"+v(this.bucket)+"/o/"+v(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(v,$){let H;try{H=M.makeFromUrl(v,$)}catch{return new M(v,"")}if(""===H.path)return H;throw function gs(S){return new yi(Ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+S+"'.")}(v)}static makeFromUrl(v,$){let H=null;const Ie="([A-Za-z0-9.\\-_]+)",ln=new RegExp("^gs://"+Ie+"(/(.*))?$","i");function Wn(ar){ar.path_=decodeURIComponent(ar.path)}const Vr=$.replace(/[.]/g,"\\."),Mi=[{regex:ln,indices:{bucket:1,path:3},postModify:function st(ar){"/"===ar.path.charAt(ar.path.length-1)&&(ar.path_=ar.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Vr}/v[A-Za-z0-9_]+/b/${Ie}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Wn},{regex:new RegExp(`^https?://${$===Ma?"(?:storage.googleapis.com|storage.cloud.google.com)":$}/${Ie}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Wn}];for(let ar=0;ar<Mi.length;ar++){const io=Mi[ar],$i=io.regex.exec(v);if($i){let ko=$i[io.indices.path];ko||(ko=""),H=new M($i[io.indices.bucket],ko),io.postModify(H);break}}if(null==H)throw function oa(S){return new yi(Ii.INVALID_URL,"Invalid URL '"+S+"'.")}(v);return H}}class De{constructor(v){this.promise_=Promise.reject(v)}getPromise(){return this.promise_}cancel(v=!1){}}function Xt(S){return"string"==typeof S||S instanceof String}function vt(S){return Ut()&&S instanceof Blob}function Ut(){return typeof Blob<"u"}function Xn(S,v,$,H){if(H<v)throw kr(`Invalid value for '${S}'. Expected ${v} or greater.`);if(H>$)throw kr(`Invalid value for '${S}'. Expected ${$} or less.`)}function Pr(S,v,$){let H=v;return null==$&&(H=`https://${v}`),`${$}://${H}/v0${S}`}function ti(S){const v=encodeURIComponent;let $="?";for(const H in S)S.hasOwnProperty(H)&&($=$+(v(H)+"=")+v(S[H])+"&");return $=$.slice(0,-1),$}var Oi=function(S){return S[S.NO_ERROR=0]="NO_ERROR",S[S.NETWORK_ERROR=1]="NETWORK_ERROR",S[S.ABORT=2]="ABORT",S}(Oi||{});function Ps(S,v){const $=S>=500&&S<600,Ie=-1!==[408,429].indexOf(S),st=-1!==v.indexOf(S);return $||Ie||st}class es{constructor(v,$,H,Ie,st,$t,ln,pn,Wn,rr,Vr,si=!0){this.url_=v,this.method_=$,this.headers_=H,this.body_=Ie,this.successCodes_=st,this.additionalRetryCodes_=$t,this.callback_=ln,this.errorCallback_=pn,this.timeout_=Wn,this.progressCallback_=rr,this.connectionFactory_=Vr,this.retry=si,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ni,$r)=>{this.resolve_=ni,this.reject_=$r,this.start_()})}start_(){const $=(H,Ie)=>{const st=this.resolve_,$t=this.reject_,ln=Ie.connection;if(Ie.wasSuccessCode)try{const pn=this.callback_(ln,ln.getResponse());!function _e(S){return void 0!==S}(pn)?st():st(pn)}catch(pn){$t(pn)}else if(null!==ln){const pn=ia();pn.serverResponse=ln.getErrorText(),$t(this.errorCallback_?this.errorCallback_(ln,pn):pn)}else $t(Ie.canceled?this.appDelete_?qi():Bl():oi())};this.canceled_?$(0,new Xi(!1,null,!0)):this.backoffId_=function B(S,v,$){let H=1,Ie=null,st=null,$t=!1,ln=0;function pn(){return 2===ln}let Wn=!1;function rr(...Wr){Wn||(Wn=!0,v.apply(null,Wr))}function Vr(Wr){Ie=setTimeout(()=>{Ie=null,S(ni,pn())},Wr)}function si(){st&&clearTimeout(st)}function ni(Wr,...hi){if(Wn)return void si();if(Wr)return si(),void rr.call(null,Wr,...hi);if(pn()||$t)return si(),void rr.call(null,Wr,...hi);let Mi;H<64&&(H*=2),1===ln?(ln=2,Mi=0):Mi=1e3*(H+Math.random()),Vr(Mi)}let $r=!1;function Ri(Wr){$r||($r=!0,si(),!Wn&&(null!==Ie?(Wr||(ln=2),clearTimeout(Ie),Vr(0)):Wr||(ln=1)))}return Vr(0),st=setTimeout(()=>{$t=!0,Ri(!0)},$),Ri}((H,Ie)=>{if(Ie)return void H(!1,new Xi(!1,null,!0));const st=this.connectionFactory_();this.pendingConnection_=st;const $t=ln=>{null!==this.progressCallback_&&this.progressCallback_(ln.loaded,ln.lengthComputable?ln.total:-1)};null!==this.progressCallback_&&st.addUploadProgressListener($t),st.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&st.removeUploadProgressListener($t),this.pendingConnection_=null;const ln=st.getErrorCode()===Oi.NO_ERROR,pn=st.getStatus();if(!ln||Ps(pn,this.additionalRetryCodes_)&&this.retry){const rr=st.getErrorCode()===Oi.ABORT;return void H(!1,new Xi(!1,null,rr))}const Wn=-1!==this.successCodes_.indexOf(pn);H(!0,new Xi(Wn,st))})},$,this.timeout_)}getPromise(){return this.promise_}cancel(v){this.canceled_=!0,this.appDelete_=v||!1,null!==this.backoffId_&&function ue(S){S(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xi{constructor(v,$,H){this.wasSuccessCode=v,this.connection=$,this.canceled=!!H}}function Il(...S){const v=function Tr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==v){const $=new v;for(let H=0;H<S.length;H++)$.append(S[H]);return $.getBlob()}if(Ut())return new Blob(S);throw new yi(Ii.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Io{constructor(v,$){this.data=v,this.contentType=$||null}}function zr(S,v){switch(S){case Ln.RAW:return new Io(xs(v));case Ln.BASE64:case Ln.BASE64URL:return new Io(Mn(S,v));case Ln.DATA_URL:return new Io(function Oo(S){const v=new rl(S);return v.base64?Mn(Ln.BASE64,v.rest):function Fr(S){let v;try{v=decodeURIComponent(S)}catch{throw Di(Ln.DATA_URL,"Malformed data URL.")}return xs(v)}(v.rest)}(v),function qs(S){return new rl(S).contentType}(v))}throw ia()}function xs(S){const v=[];for(let $=0;$<S.length;$++){let H=S.charCodeAt($);H<=127?v.push(H):H<=2047?v.push(192|H>>6,128|63&H):55296==(64512&H)?$<S.length-1&&56320==(64512&S.charCodeAt($+1))?(H=65536|(1023&H)<<10|1023&S.charCodeAt(++$),v.push(240|H>>18,128|H>>12&63,128|H>>6&63,128|63&H)):v.push(239,191,189):56320==(64512&H)?v.push(239,191,189):v.push(224|H>>12,128|H>>6&63,128|63&H)}return new Uint8Array(v)}function Mn(S,v){switch(S){case Ln.BASE64:{const Ie=-1!==v.indexOf("-"),st=-1!==v.indexOf("_");if(Ie||st)throw Di(S,"Invalid character '"+(Ie?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const Ie=-1!==v.indexOf("+"),st=-1!==v.indexOf("/");if(Ie||st)throw Di(S,"Invalid character '"+(Ie?"+":"/")+"' found: is it base64 encoded?");v=v.replace(/-/g,"+").replace(/_/g,"/");break}}let $;try{$=function Ni(S){if(typeof atob>"u")throw function tl(S){return new yi(Ii.UNSUPPORTED_ENVIRONMENT,`${S} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(S)}(v)}catch(Ie){throw Ie.message.includes("polyfill")?Ie:Di(S,"Invalid character found")}const H=new Uint8Array($.length);for(let Ie=0;Ie<$.length;Ie++)H[Ie]=$.charCodeAt(Ie);return H}class rl{constructor(v){this.base64=!1,this.contentType=null;const $=v.match(/^data:([^,]+)?,/);if(null===$)throw Di(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const H=$[1]||null;null!=H&&(this.base64=function Gl(S,v){return S.length>=v.length&&S.substring(S.length-v.length)===v}(H,";base64"),this.contentType=this.base64?H.substring(0,H.length-7):H),this.rest=v.substring(v.indexOf(",")+1)}}class ao{constructor(v,$){let H=0,Ie="";vt(v)?(this.data_=v,H=v.size,Ie=v.type):v instanceof ArrayBuffer?($?this.data_=new Uint8Array(v):(this.data_=new Uint8Array(v.byteLength),this.data_.set(new Uint8Array(v))),H=this.data_.length):v instanceof Uint8Array&&($?this.data_=v:(this.data_=new Uint8Array(v.length),this.data_.set(v)),H=v.length),this.size_=H,this.type_=Ie}size(){return this.size_}type(){return this.type_}slice(v,$){if(vt(this.data_)){const Ie=function Au(S,v,$){return S.webkitSlice?S.webkitSlice(v,$):S.mozSlice?S.mozSlice(v,$):S.slice?S.slice(v,$):null}(this.data_,v,$);return null===Ie?null:new ao(Ie)}{const H=new Uint8Array(this.data_.buffer,v,$-v);return new ao(H,!0)}}static getBlob(...v){if(Ut()){const $=v.map(H=>H instanceof ao?H.data_:H);return new ao(Il.apply(null,$))}{const $=v.map($t=>Xt($t)?zr(Ln.RAW,$t).data:$t.data_);let H=0;$.forEach($t=>{H+=$t.byteLength});const Ie=new Uint8Array(H);let st=0;return $.forEach($t=>{for(let ln=0;ln<$t.length;ln++)Ie[st++]=$t[ln]}),new ao(Ie,!0)}}uploadData(){return this.data_}}function Ks(S){let v;try{v=JSON.parse(S)}catch{return null}return function mn(S){return"object"==typeof S&&!Array.isArray(S)}(v)?v:null}function xa(S){const v=S.lastIndexOf("/",S.length-2);return-1===v?S:S.slice(v+1)}function ts(S,v){return v}class Cr{constructor(v,$,H,Ie){this.server=v,this.local=$||v,this.writable=!!H,this.xform=Ie||ts}}let il=null;function Ys(){if(il)return il;const S=[];S.push(new Cr("bucket")),S.push(new Cr("generation")),S.push(new Cr("metageneration")),S.push(new Cr("name","fullPath",!0));const $=new Cr("name");$.xform=function v(st,$t){return function pa(S){return!Xt(S)||S.length<2?S:xa(S)}($t)},S.push($);const Ie=new Cr("size");return Ie.xform=function H(st,$t){return void 0!==$t?Number($t):$t},S.push(Ie),S.push(new Cr("timeCreated")),S.push(new Cr("updated")),S.push(new Cr("md5Hash",null,!0)),S.push(new Cr("cacheControl",null,!0)),S.push(new Cr("contentDisposition",null,!0)),S.push(new Cr("contentEncoding",null,!0)),S.push(new Cr("contentLanguage",null,!0)),S.push(new Cr("contentType",null,!0)),S.push(new Cr("metadata","customMetadata",!0)),il=S,il}function sl(S,v,$){const H=Ks(v);return null===H?null:function bt(S,v,$){const H={type:"file"},Ie=$.length;for(let st=0;st<Ie;st++){const $t=$[st];H[$t.local]=$t.xform(H,v[$t.server])}return function ol(S,v){Object.defineProperty(S,"ref",{get:function $(){const st=new M(S.bucket,S.fullPath);return v._makeStorageReference(st)}})}(H,S),H}(S,H,$)}function iu(S,v){const $={},H=v.length;for(let Ie=0;Ie<H;Ie++){const st=v[Ie];st.writable&&($[st.server]=S[st.local])}return JSON.stringify($)}const Qs="prefixes",Os="items";class rs{constructor(v,$,H,Ie){this.url=v,this.method=$,this.handler=H,this.timeout=Ie,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bo(S){if(!S)throw ia()}function is(S,v){return function $(H,Ie){const st=sl(S,Ie,v);return Bo(null!==st),st}}function Go(S){return function v($,H){let Ie;return Ie=401===$.getStatus()?$.getErrorText().includes("Firebase App Check token is invalid")?function el(){return new yi(Ii.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function jr(){return new yi(Ii.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===$.getStatus()?function jt(S){return new yi(Ii.QUOTA_EXCEEDED,"Quota for bucket '"+S+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(S.bucket):403===$.getStatus()?function Pa(S){return new yi(Ii.UNAUTHORIZED,"User does not have permission to access '"+S+"'.")}(S.path):H,Ie.status=$.getStatus(),Ie.serverResponse=H.serverResponse,Ie}}function vs(S){const v=Go(S);return function $(H,Ie){let st=v(H,Ie);return 404===H.getStatus()&&(st=function ru(S){return new yi(Ii.OBJECT_NOT_FOUND,"Object '"+S+"' does not exist.")}(S.path)),st.serverResponse=Ie.serverResponse,st}}function Su(S,v,$){const Ie=Pr(v.fullServerUrl(),S.host,S._protocol),$t=S.maxOperationRetryTime,ln=new rs(Ie,"GET",is(S,$),$t);return ln.errorHandler=vs(v),ln}function To(S,v,$,H,Ie){const st={};st.prefix=v.isRoot?"":v.path+"/",$&&$.length>0&&(st.delimiter=$),H&&(st.pageToken=H),Ie&&(st.maxResults=Ie);const ln=Pr(v.bucketOnlyServerUrl(),S.host,S._protocol),Wn=S.maxOperationRetryTime,rr=new rs(ln,"GET",function Ti(S,v){return function $(H,Ie){const st=function ns(S,v,$){const H=Ks($);return null===H?null:function ga(S,v,$){const H={prefixes:[],items:[],nextPageToken:$.nextPageToken};if($[Qs])for(const Ie of $[Qs]){const st=Ie.replace(/\/$/,""),$t=S._makeStorageReference(new M(v,st));H.prefixes.push($t)}if($[Os])for(const Ie of $[Os]){const st=S._makeStorageReference(new M(v,Ie.name));H.items.push(st)}return H}(S,v,H)}(S,v,Ie);return Bo(null!==st),st}}(S,v.bucket),Wn);return rr.urlParams=st,rr.errorHandler=Go(v),rr}function V(S,v,$){const H=Object.assign({},$);return H.fullPath=S.path,H.size=v.size(),H.contentType||(H.contentType=function T(S,v){return S&&S.contentType||v&&v.type()||"application/octet-stream"}(null,v)),H}function J(S,v,$,H,Ie){const st=v.bucketOnlyServerUrl(),$t={"X-Goog-Upload-Protocol":"multipart"},pn=function ln(){let Mi="";for(let ar=0;ar<2;ar++)Mi+=Math.random().toString().slice(2);return Mi}();$t["Content-Type"]="multipart/related; boundary="+pn;const Wn=V(v,H,Ie),rr=iu(Wn,$),ni=ao.getBlob("--"+pn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rr+"\r\n--"+pn+"\r\nContent-Type: "+Wn.contentType+"\r\n\r\n",H,"\r\n--"+pn+"--");if(null===ni)throw yl();const $r={name:Wn.fullPath},Ri=Pr(st,S.host,S._protocol),hi=S.maxUploadRetryTime,mo=new rs(Ri,"POST",is(S,$),hi);return mo.urlParams=$r,mo.headers=$t,mo.body=ni.uploadData(),mo.errorHandler=Go(v),mo}class ye{constructor(v,$,H,Ie){this.current=v,this.total=$,this.finalized=!!H,this.metadata=Ie||null}}function yt(S,v){let $=null;try{$=S.getResponseHeader("X-Goog-Upload-Status")}catch{Bo(!1)}return Bo(!!$&&-1!==(v||["active"]).indexOf($)),$}const Fi={STATE_CHANGED:"state_changed"},Sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function po(S){switch(S){case"running":case"pausing":case"canceling":return Sr.RUNNING;case"paused":return Sr.PAUSED;case"success":return Sr.SUCCESS;case"canceled":return Sr.CANCELED;default:return Sr.ERROR}}class ma{constructor(v,$,H){if(function ht(S){return"function"==typeof S}(v)||null!=$||null!=H)this.next=v,this.error=null!=$?$:void 0,this.complete=null!=H?H:void 0;else{const st=v;this.next=st.next,this.error=st.error,this.complete=st.complete}}}function os(S){return(...v)=>{Promise.resolve().then(()=>S(...v))}}let cr=null;class va{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oi.NO_ERROR,this.sendPromise_=new Promise(v=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oi.ABORT,v()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oi.NETWORK_ERROR,v()}),this.xhr_.addEventListener("load",()=>{v()})})}send(v,$,H,Ie){if(this.sent_)throw E("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open($,v,!0),void 0!==Ie)for(const st in Ie)Ie.hasOwnProperty(st)&&this.xhr_.setRequestHeader(st,Ie[st].toString());return void 0!==H?this.xhr_.send(H):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw E("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw E("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw E("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw E("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(v){return this.xhr_.getResponseHeader(v)}addUploadProgressListener(v){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",v)}removeUploadProgressListener(v){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",v)}}class aa extends va{initXhr(){this.xhr_.responseType="text"}}function jo(){return cr?cr():new aa}class ou{constructor(v,$,H=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=v,this._blob=$,this._metadata=H,this._mappings=Ys(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ie=>{if(this._request=void 0,this._chunkMultiplier=1,Ie._codeEquals(Ii.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const st=this.isExponentialBackoffExpired();if(Ps(Ie.status,[])){if(!st)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Ie=oi()}this._error=Ie,this._transition("error")}},this._metadataErrorHandler=Ie=>{this._request=void 0,Ie._codeEquals(Ii.CANCELED)?this.completeTransitions_():(this._error=Ie,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Ie,st)=>{this._resolve=Ie,this._reject=st,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const v=this._transferred;return $=>this._updateProgress(v+$)}_shouldDoResumable(v){return v.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(v){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([$,H])=>{switch(this._state){case"running":v($,H);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((v,$)=>{const H=function an(S,v,$,H,Ie){const st=v.bucketOnlyServerUrl(),$t=V(v,H,Ie),ln={name:$t.fullPath},pn=Pr(st,S.host,S._protocol),rr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${H.size()}`,"X-Goog-Upload-Header-Content-Type":$t.contentType,"Content-Type":"application/json; charset=utf-8"},Vr=iu($t,$),$r=new rs(pn,"POST",function ni(Ri){let Wr;yt(Ri);try{Wr=Ri.getResponseHeader("X-Goog-Upload-URL")}catch{Bo(!1)}return Bo(Xt(Wr)),Wr},S.maxUploadRetryTime);return $r.urlParams=ln,$r.headers=rr,$r.body=Vr,$r.errorHandler=Go(v),$r}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ie=this._ref.storage._makeRequest(H,jo,v,$);this._request=Ie,Ie.getPromise().then(st=>{this._request=void 0,this._uploadUrl=st,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const v=this._uploadUrl;this._resolveToken(($,H)=>{const Ie=function At(S,v,$,H){const pn=new rs($,"POST",function st(Wn){const rr=yt(Wn,["active","final"]);let Vr=null;try{Vr=Wn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bo(!1)}Vr||Bo(!1);const si=Number(Vr);return Bo(!isNaN(si)),new ye(si,H.size(),"final"===rr)},S.maxUploadRetryTime);return pn.headers={"X-Goog-Upload-Command":"query"},pn.errorHandler=Go(v),pn}(this._ref.storage,this._ref._location,v,this._blob),st=this._ref.storage._makeRequest(Ie,jo,$,H);this._request=st,st.getPromise().then($t=>{this._request=void 0,this._updateProgress($t.current),this._needToFetchStatus=!1,$t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const v=262144*this._chunkMultiplier,$=new ye(this._transferred,this._blob.size()),H=this._uploadUrl;this._resolveToken((Ie,st)=>{let $t;try{$t=function br(S,v,$,H,Ie,st,$t,ln){const pn=new ye(0,0);if($t?(pn.current=$t.current,pn.total=$t.total):(pn.current=0,pn.total=H.size()),H.size()!==pn.total)throw function sa(){return new yi(Ii.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Wn=pn.total-pn.current;let rr=Wn;Ie>0&&(rr=Math.min(rr,Ie));const Vr=pn.current;let ni="";ni=0===rr?"finalize":Wn===rr?"upload, finalize":"upload";const $r={"X-Goog-Upload-Command":ni,"X-Goog-Upload-Offset":`${pn.current}`},Ri=H.slice(Vr,Vr+rr);if(null===Ri)throw yl();const Mi=new rs($,"POST",function Wr(ar,io){const $i=yt(ar,["active","final"]),Ea=pn.current+rr,ko=H.size();let Ga;return Ga="final"===$i?is(v,st)(ar,io):null,new ye(Ea,ko,"final"===$i,Ga)},v.maxUploadRetryTime);return Mi.headers=$r,Mi.body=Ri.uploadData(),Mi.progressCallback=ln||null,Mi.errorHandler=Go(S),Mi}(this._ref._location,this._ref.storage,H,this._blob,v,this._mappings,$,this._makeProgressCallback())}catch(pn){return this._error=pn,void this._transition("error")}const ln=this._ref.storage._makeRequest($t,jo,Ie,st,!1);this._request=ln,ln.getPromise().then(pn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(pn.current),pn.finalized?(this._metadata=pn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((v,$)=>{const H=Su(this._ref.storage,this._ref._location,this._mappings),Ie=this._ref.storage._makeRequest(H,jo,v,$);this._request=Ie,Ie.getPromise().then(st=>{this._request=void 0,this._metadata=st,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((v,$)=>{const H=J(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ie=this._ref.storage._makeRequest(H,jo,v,$);this._request=Ie,Ie.getPromise().then(st=>{this._request=void 0,this._metadata=st,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(v){const $=this._transferred;this._transferred=v,this._transferred!==$&&this._notifyObservers()}_transition(v){if(this._state!==v)switch(v){case"canceling":case"pausing":this._state=v,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const $="paused"===this._state;this._state=v,$&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=v,this._notifyObservers();break;case"canceled":this._error=Bl(),this._state=v,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const v=po(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:v,metadata:this._metadata,task:this,ref:this._ref}}on(v,$,H,Ie){const st=new ma($||void 0,H||void 0,Ie||void 0);return this._addObserver(st),()=>{this._removeObserver(st)}}then(v,$){return this._promise.then(v,$)}catch(v){return this.then(null,v)}_addObserver(v){this._observers.push(v),this._notifyObserver(v)}_removeObserver(v){const $=this._observers.indexOf(v);-1!==$&&this._observers.splice($,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach($=>{this._notifyObserver($)})}_finishPromise(){if(void 0!==this._resolve){let v=!0;switch(po(this._state)){case Sr.SUCCESS:os(this._resolve.bind(null,this.snapshot))();break;case Sr.CANCELED:case Sr.ERROR:os(this._reject.bind(null,this._error))();break;default:v=!1}v&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(v){switch(po(this._state)){case Sr.RUNNING:case Sr.PAUSED:v.next&&os(v.next.bind(v,this.snapshot))();break;case Sr.SUCCESS:v.complete&&os(v.complete.bind(v))();break;default:v.error&&os(v.error.bind(v,this._error))()}}resume(){const v="paused"===this._state||"pausing"===this._state;return v&&this._transition("running"),v}pause(){const v="running"===this._state;return v&&this._transition("pausing"),v}cancel(){const v="running"===this._state||"pausing"===this._state;return v&&this._transition("canceling"),v}}class Vi{constructor(v,$){this._service=v,this._location=$ instanceof M?$:M.makeFromUrl($,v.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(v,$){return new Vi(v,$)}get root(){const v=new M(this._location.bucket,"");return this._newRef(this._service,v)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xa(this._location.path)}get storage(){return this._service}get parent(){const v=function fa(S){if(0===S.length)return null;const v=S.lastIndexOf("/");return-1===v?"":S.slice(0,v)}(this._location.path);if(null===v)return null;const $=new M(this._location.bucket,v);return new Vi(this._service,$)}_throwIfRoot(v){if(""===this._location.path)throw ms(v)}}function Ai(S,v,$){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,l.c)(function*(S,v,$){const Ie=yield jl(S,{pageToken:$});v.prefixes.push(...Ie.prefixes),v.items.push(...Ie.items),null!=Ie.nextPageToken&&(yield Ai(S,v,Ie.nextPageToken))})).apply(this,arguments)}function jl(S,v){null!=v&&"number"==typeof v.maxResults&&Xn("options.maxResults",1,1e3,v.maxResults);const $=v||{},H=To(S.storage,S._location,"/",$.pageToken,$.maxResults);return S.storage.makeRequestWithTokens(H,jo)}function pc(S){S._throwIfRoot("getDownloadURL");const v=function y(S,v,$){const Ie=Pr(v.fullServerUrl(),S.host,S._protocol),$t=S.maxOperationRetryTime,ln=new rs(Ie,"GET",function Ns(S,v){return function $(H,Ie){const st=sl(S,Ie,v);return Bo(null!==st),function fo(S,v,$,H){const Ie=Ks(v);if(null===Ie||!Xt(Ie.downloadTokens))return null;const st=Ie.downloadTokens;if(0===st.length)return null;const $t=encodeURIComponent;return st.split(",").map(Wn=>{const Vr=S.fullPath;return Pr("/b/"+$t(S.bucket)+"/o/"+$t(Vr),$,H)+ti({alt:"media",token:Wn})})[0]}(st,Ie,S.host,S._protocol)}}(S,$),$t);return ln.errorHandler=vs(v),ln}(S.storage,S._location,Ys());return S.storage.makeRequestWithTokens(v,jo).then($=>{if(null===$)throw function Ms(){return new yi(Ii.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return $})}function No(S,v){const $=function dc(S,v){const $=v.split("/").filter(H=>H.length>0).join("/");return 0===S.length?$:S+"/"+$}(S._location.path,v),H=new M(S._location.bucket,$);return new Vi(S.storage,H)}function Na(S,v){if(S instanceof Dl){const $=S;if(null==$._bucket)throw function zs(){return new yi(Ii.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ul+"' property when initializing the app?")}();const H=new Vi($,$._bucket);return null!=v?Na(H,v):H}return void 0!==v?No(S,v):S}function ya(S,v){if(v&&function Oa(S){return/^[A-Za-z]+:\/\//.test(S)}(v)){if(S instanceof Dl)return function Ji(S,v){return new Vi(S,v)}(S,v);throw kr("To use ref(service, url), the first argument must be a Storage instance.")}return Na(S,v)}function ka(S,v){const $=null==v?void 0:v[Ul];return null==$?null:M.makeFromBucketSpec($,S)}class Dl{constructor(v,$,H,Ie,st){this.app=v,this._authProvider=$,this._appCheckProvider=H,this._url=Ie,this._firebaseVersion=st,this._bucket=null,this._host=Ma,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ie?M.makeFromBucketSpec(Ie,this._host):ka(this._host,this.app.options)}get host(){return this._host}set host(v){this._host=v,this._bucket=null!=this._url?M.makeFromBucketSpec(this._url,v):ka(v,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(v){Xn("time",0,Number.POSITIVE_INFINITY,v),this._maxUploadRetryTime=v}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(v){Xn("time",0,Number.POSITIVE_INFINITY,v),this._maxOperationRetryTime=v}_getAuthToken(){var v=this;return(0,l.c)(function*(){if(v._overrideAuthToken)return v._overrideAuthToken;const $=v._authProvider.getImmediate({optional:!0});if($){const H=yield $.getToken();if(null!==H)return H.accessToken}return null})()}_getAppCheckToken(){var v=this;return(0,l.c)(function*(){const $=v._appCheckProvider.getImmediate({optional:!0});return $?(yield $.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(v=>v.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(v){return new Vi(this,v)}_makeRequest(v,$,H,Ie,st=!0){if(this._deleted)return new De(qi());{const $t=function nl(S,v,$,H,Ie,st,$t=!0){const ln=ti(S.urlParams),pn=S.url+ln,Wn=Object.assign({},S.headers);return function Lr(S,v){v&&(S["X-Firebase-GMPID"]=v)}(Wn,v),function wi(S,v){null!==v&&v.length>0&&(S.Authorization="Firebase "+v)}(Wn,$),function Zi(S,v){S["X-Firebase-Storage-Version"]="webjs/"+(null!=v?v:"AppManager")}(Wn,st),function ha(S,v){null!==v&&(S["X-Firebase-AppCheck"]=v)}(Wn,H),new es(pn,S.method,Wn,S.body,S.successCodes,S.additionalRetryCodes,S.handler,S.errorHandler,S.timeout,S.progressCallback,Ie,$t)}(v,this._appId,H,Ie,$,this._firebaseVersion,st);return this._requests.add($t),$t.getPromise().then(()=>this._requests.delete($t),()=>this._requests.delete($t)),$t}}makeRequestWithTokens(v,$){var H=this;return(0,l.c)(function*(){const[Ie,st]=yield Promise.all([H._getAuthToken(),H._getAppCheckToken()]);return H._makeRequest(v,$,Ie,st).getPromise()})()}}const La="@firebase/storage",ll="storage";function Xs(S,v,$,H){return function Hr(S,v,$=Ln.RAW,H){S._throwIfRoot("uploadString");const Ie=zr($,v),st=Object.assign({},H);return null==st.contentType&&null!=Ie.contentType&&(st.contentType=Ie.contentType),function Cl(S,v,$){S._throwIfRoot("uploadBytes");const H=J(S.storage,S._location,Ys(),new ao(v,!0),$);return S.storage.makeRequestWithTokens(H,jo).then(Ie=>({metadata:Ie,ref:S}))}(S,Ie.data,st)}(S=(0,Kt.Yj)(S),v,$,H)}function Zs(S){return pc(S=(0,Kt.Yj)(S))}function cl(S){return function go(S){S._throwIfRoot("deleteObject");const v=function P(S,v){const H=Pr(v.fullServerUrl(),S.host,S._protocol),ln=new rs(H,"DELETE",function $t(pn,Wn){},S.maxOperationRetryTime);return ln.successCodes=[200,204],ln.errorHandler=vs(v),ln}(S.storage,S._location);return S.storage.makeRequestWithTokens(v,jo)}(S=(0,Kt.Yj)(S))}function Ia(S,v){return ya(S=(0,Kt.Yj)(S),v)}function au(S=(0,Bt.getApp)(),v){S=(0,Kt.Yj)(S);const H=(0,Bt._getProvider)(S,ll).getImmediate({identifier:v}),Ie=(0,Kt.on)("storage");return Ie&&Ou(H,...Ie),H}function Ou(S,v,$,H={}){!function al(S,v,$,H={}){S.host=`${v}:${$}`,S._protocol="http";const{mockUserToken:Ie}=H;Ie&&(S._overrideAuthToken="string"==typeof Ie?Ie:(0,Kt.YD)(Ie,S.app.options.projectId))}(S,v,$,H)}function gc(S,{instanceIdentifier:v}){const $=S.getProvider("app").getImmediate(),H=S.getProvider("auth-internal"),Ie=S.getProvider("app-check-internal");return new Dl($,H,Ie,v,Bt.SDK_VERSION)}!function uu(){(0,Bt._registerComponent)(new tr.Yl(ll,gc,"PUBLIC").setMultipleInstances(!0)),(0,Bt.registerVersion)(La,"0.12.2",""),(0,Bt.registerVersion)(La,"0.12.2","esm2017")}();class $a{constructor(v,$,H){this._delegate=v,this.task=$,this.ref=H}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ua{constructor(v,$){this._delegate=v,this._ref=$,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $a(this._delegate.snapshot,this,this._ref)}then(v,$){return this._delegate.then(H=>{if(v)return v(new $a(H,this,this._ref))},$)}on(v,$,H,Ie){let st;return $&&(st="function"==typeof $?$t=>$(new $a($t,this,this._ref)):{next:$.next?$t=>$.next(new $a($t,this,this._ref)):void 0,complete:$.complete||void 0,error:$.error||void 0}),this._delegate.on(v,st,H||void 0,Ie||void 0)}}class eo{constructor(v,$){this._delegate=v,this._service=$}get prefixes(){return this._delegate.prefixes.map(v=>new ks(v,this._service))}get items(){return this._delegate.items.map(v=>new ks(v,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ks{constructor(v,$){this._delegate=v,this.storage=$}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(v){const $=function xu(S,v){return No(S,v)}(this._delegate,v);return new ks($,this.storage)}get root(){return new ks(this._delegate.root,this.storage)}get parent(){const v=this._delegate.parent;return null==v?null:new ks(v,this.storage)}put(v,$){return this._throwIfRoot("put"),new Ua(function Va(S,v,$){return function Yn(S,v,$){return S._throwIfRoot("uploadBytesResumable"),new ou(S,new ao(v),$)}(S=(0,Kt.Yj)(S),v,$)}(this._delegate,v,$),this)}putString(v,$=Ln.RAW,H){this._throwIfRoot("putString");const Ie=zr($,v),st=Object.assign({},H);return null==st.contentType&&null!=Ie.contentType&&(st.contentType=Ie.contentType),new Ua(new ou(this._delegate,new ao(Ie.data,!0),st),this)}listAll(){return function wl(S){return function bo(S){const v={prefixes:[],items:[]};return Ai(S,v).then(()=>v)}(S=(0,Kt.Yj)(S))}(this._delegate).then(v=>new eo(v,this.storage))}list(v){return function Qr(S,v){return jl(S=(0,Kt.Yj)(S),v)}(this._delegate,v||void 0).then($=>new eo($,this.storage))}getMetadata(){return function Ao(S){return function Ho(S){S._throwIfRoot("getMetadata");const v=Su(S.storage,S._location,Ys());return S.storage.makeRequestWithTokens(v,jo)}(S=(0,Kt.Yj)(S))}(this._delegate)}updateMetadata(v){return function ul(S,v){return function su(S,v){S._throwIfRoot("updateMetadata");const $=function w(S,v,$,H){const st=Pr(v.fullServerUrl(),S.host,S._protocol),ln=iu($,H),Wn=S.maxOperationRetryTime,rr=new rs(st,"PATCH",is(S,H),Wn);return rr.headers={"Content-Type":"application/json; charset=utf-8"},rr.body=ln,rr.errorHandler=vs(v),rr}(S.storage,S._location,v,Ys());return S.storage.makeRequestWithTokens($,jo)}(S=(0,Kt.Yj)(S),v)}(this._delegate,v)}getDownloadURL(){return Zs(this._delegate)}delete(){return this._throwIfRoot("delete"),cl(this._delegate)}_throwIfRoot(v){if(""===this._delegate._location.path)throw ms(v)}}class gi{constructor(v,$){this.app=v,this._delegate=$}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(v){if(ys(v))throw kr("ref() expected a child path but got a URL, use refFromURL instead.");return new ks(Ia(this._delegate,v),this)}refFromURL(v){if(!ys(v))throw kr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{M.makeFromUrl(v,this._delegate.host)}catch{throw kr("refFromUrl() expected a valid full URL but got an invalid one.")}return new ks(Ia(this._delegate,v),this)}setMaxUploadRetryTime(v){this._delegate.maxUploadRetryTime=v}setMaxOperationRetryTime(v){this._delegate.maxOperationRetryTime=v}useEmulator(v,$,H={}){Ou(this._delegate,v,$,H)}}function ys(S){return/^[A-Za-z]+:\/\//.test(S)}function Tl(S,{instanceIdentifier:v}){const $=S.getProvider("app-compat").getImmediate(),H=S.getProvider("storage").getImmediate({identifier:v});return new gi($,H)}function ci(S){const v=function Xr(S){return new de._(v=>{const $=$t=>v.next($t);$(S.snapshot);const st=S.on("state_changed",$);return S.then($t=>{$($t),v.complete()},$t=>{$(S.snapshot),($t=>{v.error($t)})($t)}),function(){st()}}).pipe(function Ja(S,v=qn.M){return(0,Qe.i)(($,H)=>{let Ie=null,st=null,$t=null;const ln=()=>{if(Ie){Ie.unsubscribe(),Ie=null;const Wn=st;st=null,H.next(Wn)}};function pn(){const Wn=$t+S,rr=v.now();if(rr<Wn)return Ie=this.schedule(void 0,Wn-rr),void H.add(Ie);ln()}$.subscribe((0,Dt.e)(H,Wn=>{st=Wn,$t=v.now(),Ie||(Ie=v.schedule(pn,S),H.add(Ie))},()=>{ln(),H.complete()},void 0,()=>{st=Ie=null}))})}(0))}(S);return{task:S,then:S.then.bind(S),catch:S.catch.bind(S),pause:S.pause.bind(S),cancel:S.cancel.bind(S),resume:S.resume.bind(S),snapshotChanges:()=>v,percentageChanges:()=>v.pipe((0,Se.k)($=>$.bytesTransferred/$.totalBytes*100))}}function ua(S){return{getDownloadURL:()=>(0,Xe.of)(void 0).pipe(ce.QT,(0,Ve.G)(()=>S.getDownloadURL()),ce.wH),getMetadata:()=>(0,Xe.of)(void 0).pipe(ce.QT,(0,Ve.G)(()=>S.getMetadata()),ce.wH),delete:()=>(0,le.Q)(S.delete()),child:v=>ua(S.child(v)),updateMetadata:v=>(0,le.Q)(S.updateMetadata(v)),put:(v,$)=>ci(S.put(v,$)),putString:(v,$,H)=>ci(S.putString(v,$,H)),list:v=>(0,le.Q)(S.list(v)),listAll:()=>(0,le.Q)(S.listAll())}}!function Sd(S){const v={TaskState:Sr,TaskEvent:Fi,StringFormat:Ln,Storage:gi,Reference:ks};S.INTERNAL.registerComponent(new tr.Yl("storage-compat",Tl,"PUBLIC").setServiceProps(v).setMultipleInstances(!0)),S.registerVersion("@firebase/storage-compat","0.3.5")}(qt.c);const Lu=new x.UbH("angularfire2.storageBucket"),mc=new x.UbH("angularfire2.storage.maxUploadRetryTime"),vc=new x.UbH("angularfire2.storage.maxOperationRetryTime"),cu=new x.UbH("angularfire2.storage.use-emulator");let Hl=(()=>{var S;class v{constructor(H,Ie,st,$t,ln,pn,Wn,rr,Vr,si){(0,K.c)(this,"storage",void 0);const ni=(0,ae._G)(H,ln,Ie);this.storage=(0,ae.PQ)(`${ni.name}.storage.${st}`,"AngularFireStorage",ni.name,()=>{const $r=ln.runOutsideAngular(()=>ni.storage(st||void 0)),Ri=Vr;return Ri&&$r.useEmulator(...Ri),Wn&&$r.setMaxUploadRetryTime(Wn),rr&&$r.setMaxOperationRetryTime(rr),$r},[Wn,rr])}ref(H){return ua(this.storage.ref(H))}refFromURL(H){return ua(this.storage.refFromURL(H))}upload(H,Ie,st){return ua(this.storage.ref(H)).put(Ie,st)}}return S=v,(0,K.c)(v,"\u0275fac",function(H){return new(H||S)(x.CoB(ae.E9),x.CoB(ae.Ml,8),x.CoB(Lu,8),x.CoB(x.AHE),x.CoB(x.WW2),x.CoB(ce.u),x.CoB(mc,8),x.CoB(vc,8),x.CoB(cu,8),x.CoB(ce.gJ,8))}),(0,K.c)(v,"\u0275prov",x.wxM({token:S,factory:S.\u0275fac,providedIn:"any"})),v})(),qc=(()=>{var S;class v{constructor(){this.auth=(0,x.uUt)(Ue),this.firestore=(0,x.uUt)(er),this.utilsSvc=(0,x.uUt)(Rs.e),this.storage=(0,x.uUt)(Hl)}getAuth(){return(0,on.o)()}signIn(H){return(0,on.ab)((0,on.o)(),H.email,H.password)}signUp(H){return(0,on.aa)((0,on.o)(),H.email,H.password)}updateUser(H){return(0,on.ak)((0,on.o)().currentUser,{displayName:H})}sendRecoveryEmail(H){return(0,on.a5)((0,on.o)(),H)}signOut(){(0,on.o)().signOut(),localStorage.removeItem("user"),this.utilsSvc.routerLink("/auth")}getCollectionData(H,Ie){const st=Si(Zo(),H);return vi(Sa(st,...Ie),{idField:"id"})}setDocument(H,Ie){return _o(Xo(Zo(),H),Ie)}updateDoc(H,Ie){return Ra(Xo(Zo(),H),Ie)}deleteDoc(H){return Qo(Xo(Zo(),H))}getDocument(H){return(0,l.c)(function*(){return(yield Bs(Xo(Zo(),H))).data()})()}addDocument(H,Ie){return ta(Si(Zo(),H),Ie)}uploadImage(H,Ie){return(0,l.c)(function*(){return console.log("Path new: ",H),Xs(Ia(au(),H),Ie,"data_url").then(()=>Zs(Ia(au(),H)))})()}getFilePath(H){return(0,l.c)(function*(){return Ia(au(),H).fullPath})()}deleteFile(H){return cl(Ia(au(),H))}}return(S=v).\u0275fac=function(H){return new(H||S)},S.\u0275prov=x.wxM({token:S,factory:S.\u0275fac,providedIn:"root"}),v})()},7284:(fn,at,O)=>{"use strict";O.d(at,{e:()=>be});var l=O(1528),x=O(4496),K=O(4196),ie=O(2112),we=O(6400),ce=O(1208);const ae=(0,we.C_)("Camera",{web:()=>O.e(9028).then(O.bind(O,9028)).then(Xe=>new Xe.CameraWeb)});let be=(()=>{var Xe;class de{constructor(){this.loadingCtrl=(0,x.uUt)(ie.Kg),this.toastCtrl=(0,x.uUt)(ie.Gq),this.modalCtrl=(0,x.uUt)(ie.qS),this.router=(0,x.uUt)(K.E5),this.alertCtrl=(0,x.uUt)(ie.iW)}takePicture(Ge){return(0,l.c)(function*(){return yield ae.getPhoto({quality:95,allowEditing:!0,resultType:ce.on.DataUrl,source:ce._8.Prompt,promptLabelHeader:Ge,promptLabelPhoto:"Select an image",promptLabelPicture:"Take a picture"})})()}presentAlert(Ge){var je=this;return(0,l.c)(function*(){yield(yield je.alertCtrl.create(Ge)).present()})()}loading(){return this.loadingCtrl.create({spinner:"crescent"})}presentToast(Ge){var je=this;return(0,l.c)(function*(){(yield je.toastCtrl.create(Ge)).present()})()}routerLink(Ge){return this.router.navigateByUrl(Ge)}saveInLocalStorage(Ge,je){return localStorage.setItem(Ge,JSON.stringify(je))}getFromLocalStorage(Ge){return JSON.parse(localStorage.getItem(Ge))}presentModal(Ge){var je=this;return(0,l.c)(function*(){const He=yield je.modalCtrl.create(Ge);yield He.present();const{data:qe}=yield He.onWillDismiss();if(qe)return qe})()}dismissModal(Ge){return this.modalCtrl.dismiss(Ge)}}return(Xe=de).\u0275fac=function(Ge){return new(Ge||Xe)},Xe.\u0275prov=x.wxM({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),de})()},2744:(fn,at,O)=>{"use strict";var l=O(4476),x=O(4496),K=O(4196),ie=O(304),we=O(2112);let ce=(()=>{var Se;class it{constructor(){}}return(Se=it).\u0275fac=function(Ke){return new(Ke||Se)},Se.\u0275cmp=x.In1({type:Se,selectors:[["app-root"]],decls:2,vars:0,template:function(Ke,Qe){1&Ke&&(x.I0R(0,"ion-app"),x.wR5(1,"ion-router-outlet"),x.C$Y())},dependencies:[we.qk,we.Cg]}),it})();var ae=O(9208),be=O(7284);const le=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([O.e(9312),O.e(4144)]).then(O.bind(O,4144)).then(Se=>Se.AuthPageModule),canActivate:[(()=>{var Se;class it{constructor(){this.firebaseSvc=(0,x.uUt)(ae.C),this.utilSvc=(0,x.uUt)(be.e)}canActivate(Ke,Qe){return new Promise(ot=>{this.firebaseSvc.getAuth().onAuthStateChanged(me=>{me?(this.utilSvc.routerLink("/auth"),ot(!1)):ot(!0)})})}}return(Se=it).\u0275fac=function(Ke){return new(Ke||Se)},Se.\u0275prov=x.wxM({token:Se,factory:Se.\u0275fac,providedIn:"root"}),it})()]},{path:"main",loadChildren:()=>Promise.all([O.e(9312),O.e(9104)]).then(O.bind(O,9104)).then(Se=>Se.MainPageModule),canActivate:[(()=>{var Se;class it{constructor(){this.firebaseSvc=(0,x.uUt)(ae.C),this.utilSvc=(0,x.uUt)(be.e)}canActivate(Ke,Qe){let ot=localStorage.getItem("user");return new Promise(me=>{this.firebaseSvc.getAuth().onAuthStateChanged(z=>{z?ot&&me(!0):(this.firebaseSvc.signOut(),me(!1))})})}}return(Se=it).\u0275fac=function(Ke){return new(Ke||Se)},Se.\u0275prov=x.wxM({token:Se,factory:Se.\u0275fac,providedIn:"root"}),it})()]}];let Ge=(()=>{var Se;class it{}return(Se=it).\u0275fac=function(Ke){return new(Ke||Se)},Se.\u0275mod=x.a4G({type:Se}),Se.\u0275inj=x.s3X({imports:[K.qQ.forRoot(le,{preloadingStrategy:K.eu}),K.qQ]}),it})();var je=O(6e3);const He_firebaseConfig={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""};let qe=(()=>{var Se;class it{}return(Se=it).\u0275fac=function(Ke){return new(Ke||Se)},Se.\u0275mod=x.a4G({type:Se,bootstrap:[ce]}),Se.\u0275inj=x.s3X({providers:[{provide:K.XE,useClass:ie.um}],imports:[l.iE,we.wZ.forRoot({mode:"md"}),Ge,je.UN.initializeApp(He_firebaseConfig)]}),it})();var ft=O(8637);(0,x.agy)(),l.o_().bootstrapModule(qe).catch(Se=>console.log(Se)),window,typeof window>"u"?Promise.resolve():(0,ft.p)().then(()=>(0,ft.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},1208:(fn,at,O)=>{"use strict";O.d(at,{_8:()=>l,on:()=>K,wd:()=>x});var l=function(ie){return ie.Prompt="PROMPT",ie.Camera="CAMERA",ie.Photos="PHOTOS",ie}(l||{}),x=function(ie){return ie.Rear="REAR",ie.Front="FRONT",ie}(x||{}),K=function(ie){return ie.Uri="uri",ie.Base64="base64",ie.DataUrl="dataUrl",ie}(K||{})},6400:(fn,at,O)=>{"use strict";O.d(at,{C_:()=>He,Yr:()=>Xe,w8:()=>Ye});var l=O(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var be=function(Le){return Le.Unimplemented="UNIMPLEMENTED",Le.Unavailable="UNAVAILABLE",Le}(be||{});class Xe extends Error{constructor(Ae,ze,Ct){super(Ae),this.message=Ae,this.code=ze,this.data=Ct}}const le=Le=>{var Ae,ze,Ct,zt,Pt;const nt=Le.CapacitorCustomPlatform||null,Ee=Le.Capacitor||{},ve=Ee.Plugins=Ee.Plugins||{},Me=Le.CapacitorPlatforms,ut=(null===(Ae=null==Me?void 0:Me.currentPlatform)||void 0===Ae?void 0:Ae.getPlatform)||(()=>null!==nt?nt.name:(Le=>{var Ae,ze;return null!=Le&&Le.androidBridge?"android":null!==(ze=null===(Ae=null==Le?void 0:Le.webkit)||void 0===Ae?void 0:Ae.messageHandlers)&&void 0!==ze&&ze.bridge?"ios":"web"})(Le)),Zt=(null===(ze=null==Me?void 0:Me.currentPlatform)||void 0===ze?void 0:ze.isNativePlatform)||(()=>"web"!==ut()),Kt=(null===(Ct=null==Me?void 0:Me.currentPlatform)||void 0===Ct?void 0:Ct.isPluginAvailable)||(Ht=>{const hn=Ft.get(Ht);return!!(null!=hn&&hn.platforms.has(ut())||bn(Ht))}),bn=(null===(zt=null==Me?void 0:Me.currentPlatform)||void 0===zt?void 0:zt.getPluginHeader)||(Ht=>{var hn;return null===(hn=Ee.PluginHeaders)||void 0===hn?void 0:hn.find(qt=>qt.name===Ht)}),Ft=new Map,wt=(null===(Pt=null==Me?void 0:Me.currentPlatform)||void 0===Pt?void 0:Pt.registerPlugin)||((Ht,hn={})=>{const qt=Ft.get(Ht);if(qt)return console.warn(`Capacitor plugin "${Ht}" already registered. Cannot register plugins twice.`),qt.proxy;const mt=ut(),wn=bn(Ht);let kn;const pr=function(){var zn=(0,l.c)(function*(){return!kn&&mt in hn?kn=kn="function"==typeof hn[mt]?yield hn[mt]():hn[mt]:null!==nt&&!kn&&"web"in hn&&(kn=kn="function"==typeof hn.web?yield hn.web():hn.web),kn});return function(){return zn.apply(this,arguments)}}(),lr=zn=>{let Cn;const Ir=(...Fn)=>{const Sn=pr().then(Un=>{const vn=((zn,Cn)=>{var Ir,Fn;if(!wn){if(zn)return null===(Fn=zn[Cn])||void 0===Fn?void 0:Fn.bind(zn);throw new Xe(`"${Ht}" plugin is not implemented on ${mt}`,be.Unimplemented)}{const Sn=null==wn?void 0:wn.methods.find(Un=>Cn===Un.name);if(Sn)return"promise"===Sn.rtype?Un=>Ee.nativePromise(Ht,Cn.toString(),Un):(Un,vn)=>Ee.nativeCallback(Ht,Cn.toString(),Un,vn);if(zn)return null===(Ir=zn[Cn])||void 0===Ir?void 0:Ir.bind(zn)}})(Un,zn);if(vn){const sr=vn(...Fn);return Cn=null==sr?void 0:sr.remove,sr}throw new Xe(`"${Ht}.${zn}()" is not implemented on ${mt}`,be.Unimplemented)});return"addListener"===zn&&(Sn.remove=(0,l.c)(function*(){return Cn()})),Sn};return Ir.toString=()=>`${zn.toString()}() { [capacitor code] }`,Object.defineProperty(Ir,"name",{value:zn,writable:!1,configurable:!1}),Ir},An=lr("addListener"),$n=lr("removeListener"),vr=(zn,Cn)=>{const Ir=An({eventName:zn},Cn),Fn=function(){var Un=(0,l.c)(function*(){const vn=yield Ir;$n({eventName:zn,callbackId:vn},Cn)});return function(){return Un.apply(this,arguments)}}(),Sn=new Promise(Un=>Ir.then(()=>Un({remove:Fn})));return Sn.remove=(0,l.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Fn()}),Sn},di=new Proxy({},{get(zn,Cn){switch(Cn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return wn?vr:An;case"removeListener":return $n;default:return lr(Cn)}}});return ve[Ht]=di,Ft.set(Ht,{name:Ht,proxy:di,platforms:new Set([...Object.keys(hn),...wn?[mt]:[]])}),di});return Ee.convertFileSrc||(Ee.convertFileSrc=Ht=>Ht),Ee.getPlatform=ut,Ee.handleError=Ht=>Le.console.error(Ht),Ee.isNativePlatform=Zt,Ee.isPluginAvailable=Kt,Ee.pluginMethodNoop=(Ht,hn,qt)=>Promise.reject(`${qt} does not have an implementation of "${hn}".`),Ee.registerPlugin=wt,Ee.Exception=Xe,Ee.DEBUG=!!Ee.DEBUG,Ee.isLoggingEnabled=!!Ee.isLoggingEnabled,Ee.platform=Ee.getPlatform(),Ee.isNative=Ee.isNativePlatform(),Ee},je=(Le=>Le.Capacitor=le(Le))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),He=je.registerPlugin;class Ye{constructor(Ae){this.listeners={},this.windowListeners={},Ae&&(console.warn(`Capacitor WebPlugin "${Ae.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ae)}addListener(Ae,ze){var Ct=this;this.listeners[Ae]||(this.listeners[Ae]=[]),this.listeners[Ae].push(ze);const Pt=this.windowListeners[Ae];Pt&&!Pt.registered&&this.addWindowListener(Pt);const nt=function(){var ve=(0,l.c)(function*(){return Ct.removeListener(Ae,ze)});return function(){return ve.apply(this,arguments)}}(),Ee=Promise.resolve({remove:nt});return Object.defineProperty(Ee,"remove",{value:(ve=(0,l.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield nt()}),function(){return ve.apply(this,arguments)})}),Ee;var ve}removeAllListeners(){var Ae=this;return(0,l.c)(function*(){Ae.listeners={};for(const ze in Ae.windowListeners)Ae.removeWindowListener(Ae.windowListeners[ze]);Ae.windowListeners={}})()}notifyListeners(Ae,ze){const Ct=this.listeners[Ae];Ct&&Ct.forEach(zt=>zt(ze))}hasListeners(Ae){return!!this.listeners[Ae].length}registerWindowListener(Ae,ze){this.windowListeners[ze]={registered:!1,windowEventName:Ae,pluginEventName:ze,handler:Ct=>{this.notifyListeners(ze,Ct)}}}unimplemented(Ae="not implemented"){return new je.Exception(Ae,be.Unimplemented)}unavailable(Ae="not available"){return new je.Exception(Ae,be.Unavailable)}removeListener(Ae,ze){var Ct=this;return(0,l.c)(function*(){const zt=Ct.listeners[Ae];if(!zt)return;const Pt=zt.indexOf(ze);Ct.listeners[Ae].splice(Pt,1),Ct.listeners[Ae].length||Ct.removeWindowListener(Ct.windowListeners[Ae])})()}addWindowListener(Ae){window.addEventListener(Ae.windowEventName,Ae.handler),Ae.registered=!0}removeWindowListener(Ae){Ae&&(window.removeEventListener(Ae.windowEventName,Ae.handler),Ae.registered=!1)}}const Se=Le=>encodeURIComponent(Le).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),it=Le=>Le.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class We extends Ye{getCookies(){return(0,l.c)(function*(){const Ae=document.cookie,ze={};return Ae.split(";").forEach(Ct=>{if(Ct.length<=0)return;let[zt,Pt]=Ct.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");zt=it(zt).trim(),Pt=it(Pt).trim(),ze[zt]=Pt}),ze})()}setCookie(Ae){return(0,l.c)(function*(){try{const ze=Se(Ae.key),Ct=Se(Ae.value),zt=`; expires=${(Ae.expires||"").replace("expires=","")}`,Pt=(Ae.path||"/").replace("path=",""),nt=null!=Ae.url&&Ae.url.length>0?`domain=${Ae.url}`:"";document.cookie=`${ze}=${Ct||""}${zt}; path=${Pt}; ${nt};`}catch(ze){return Promise.reject(ze)}})()}deleteCookie(Ae){return(0,l.c)(function*(){try{document.cookie=`${Ae.key}=; Max-Age=0`}catch(ze){return Promise.reject(ze)}})()}clearCookies(){return(0,l.c)(function*(){try{const Ae=document.cookie.split(";")||[];for(const ze of Ae)document.cookie=ze.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ae){return Promise.reject(Ae)}})()}clearAllCookies(){var Ae=this;return(0,l.c)(function*(){try{yield Ae.clearCookies()}catch(ze){return Promise.reject(ze)}})()}}He("CapacitorCookies",{web:()=>new We});const Qe=function(){var Le=(0,l.c)(function*(Ae){return new Promise((ze,Ct)=>{const zt=new FileReader;zt.onload=()=>{const Pt=zt.result;ze(Pt.indexOf(",")>=0?Pt.split(",")[1]:Pt)},zt.onerror=Pt=>Ct(Pt),zt.readAsDataURL(Ae)})});return function(ze){return Le.apply(this,arguments)}}();class $e extends Ye{request(Ae){return(0,l.c)(function*(){const ze=((Le,Ae={})=>{const ze=Object.assign({method:Le.method||"GET",headers:Le.headers},Ae),zt=((Le={})=>{const Ae=Object.keys(Le);return Object.keys(Le).map(zt=>zt.toLocaleLowerCase()).reduce((zt,Pt,nt)=>(zt[Pt]=Le[Ae[nt]],zt),{})})(Le.headers)["content-type"]||"";if("string"==typeof Le.data)ze.body=Le.data;else if(zt.includes("application/x-www-form-urlencoded")){const Pt=new URLSearchParams;for(const[nt,Ee]of Object.entries(Le.data||{}))Pt.set(nt,Ee);ze.body=Pt.toString()}else if(zt.includes("multipart/form-data")||Le.data instanceof FormData){const Pt=new FormData;if(Le.data instanceof FormData)Le.data.forEach((Ee,ve)=>{Pt.append(ve,Ee)});else for(const Ee of Object.keys(Le.data))Pt.append(Ee,Le.data[Ee]);ze.body=Pt;const nt=new Headers(ze.headers);nt.delete("content-type"),ze.headers=nt}else(zt.includes("application/json")||"object"==typeof Le.data)&&(ze.body=JSON.stringify(Le.data));return ze})(Ae,Ae.webFetchExtra),Ct=((Le,Ae=!0)=>Le?Object.entries(Le).reduce((Ct,zt)=>{const[Pt,nt]=zt;let Ee,ve;return Array.isArray(nt)?(ve="",nt.forEach(Me=>{Ee=Ae?encodeURIComponent(Me):Me,ve+=`${Pt}=${Ee}&`}),ve.slice(0,-1)):(Ee=Ae?encodeURIComponent(nt):nt,ve=`${Pt}=${Ee}`),`${Ct}&${ve}`},"").substr(1):null)(Ae.params,Ae.shouldEncodeUrlParams),zt=Ct?`${Ae.url}?${Ct}`:Ae.url,Pt=yield fetch(zt,ze),nt=Pt.headers.get("content-type")||"";let ve,Me,{responseType:Ee="text"}=Pt.ok?Ae:{};switch(nt.includes("application/json")&&(Ee="json"),Ee){case"arraybuffer":case"blob":Me=yield Pt.blob(),ve=yield Qe(Me);break;case"json":ve=yield Pt.json();break;default:ve=yield Pt.text()}const Oe={};return Pt.headers.forEach((ut,Ue)=>{Oe[Ue]=ut}),{data:ve,headers:Oe,status:Pt.status,url:Pt.url}})()}get(Ae){var ze=this;return(0,l.c)(function*(){return ze.request(Object.assign(Object.assign({},Ae),{method:"GET"}))})()}post(Ae){var ze=this;return(0,l.c)(function*(){return ze.request(Object.assign(Object.assign({},Ae),{method:"POST"}))})()}put(Ae){var ze=this;return(0,l.c)(function*(){return ze.request(Object.assign(Object.assign({},Ae),{method:"PUT"}))})()}patch(Ae){var ze=this;return(0,l.c)(function*(){return ze.request(Object.assign(Object.assign({},Ae),{method:"PATCH"}))})()}delete(Ae){var ze=this;return(0,l.c)(function*(){return ze.request(Object.assign(Object.assign({},Ae),{method:"DELETE"}))})()}}He("CapacitorHttp",{web:()=>new $e})},7888:(fn,at,O)=>{"use strict";O.d(at,{$:()=>Fl,A:()=>le,G:()=>He,K:()=>Wt,L:()=>In,N:()=>to,P:()=>Yn,R:()=>cr,U:()=>Mt,V:()=>$o,W:()=>_i,X:()=>Qa,Y:()=>Ll,Z:()=>Xo,_:()=>ml,a:()=>Ks,a0:()=>vl,a1:()=>Jo,a2:()=>ws,a3:()=>vo,a4:()=>Do,a5:()=>yo,a6:()=>ei,a7:()=>_l,a8:()=>fr,a9:()=>Ja,aA:()=>ir,aB:()=>Ke,aC:()=>z,aD:()=>gi,aE:()=>Pe,aF:()=>xt,aG:()=>uu,aH:()=>Va,aI:()=>Xs,aJ:()=>Kn,aN:()=>xa,aQ:()=>Ds,aa:()=>Ul,ab:()=>Uo,ac:()=>Wi,ad:()=>Ii,ae:()=>Ws,af:()=>jr,ag:()=>Pa,ah:()=>Bl,ak:()=>yl,al:()=>Ms,am:()=>tl,ap:()=>Za,aq:()=>_e,as:()=>ha,at:()=>zr,au:()=>Be,av:()=>_n,aw:()=>gt,ax:()=>We,ay:()=>Wr,az:()=>Ba,b:()=>Gl,c:()=>go,d:()=>Na,e:()=>Oa,f:()=>Qr,g:()=>au,h:()=>cl,i:()=>y,j:()=>Nu,k:()=>io,l:()=>Ru,m:()=>ko,o:()=>xd,p:()=>be,r:()=>hc,s:()=>jo,u:()=>El});var l=O(1528),x=O(7144),K=O(9360),ie=O(5976),we=O(1316),ce=O(4920);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},qe=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new x.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new ie.YJ("@firebase/auth");function it(I,...f){Ve.logLevel<=ie.Ge.ERROR&&Ve.error(`Auth (${K.SDK_VERSION}): ${I}`,...f)}function We(I,...f){throw me(I,...f)}function Ke(I,...f){return me(I,...f)}function Qe(I,f,m){const b=Object.assign(Object.assign({},qe()),{[f]:m});return new x.UR("auth","Firebase",b).create(f,{appName:I.name})}function ot(I,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&We(I,"argument-error"),Qe(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function me(I,...f){if("string"!=typeof I){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=I.name),I._errorFactory.create(m,...b)}return ft.create(I,...f)}function z(I,f,...m){if(!I)throw me(f,...m)}function $e(I){const f="INTERNAL ASSERTION FAILED: "+I;throw it(f),new Error(f)}function Be(I,f){I||$e(f)}function Le(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ae(){return"http:"===ze()||"https:"===ze()}function ze(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Pt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Be(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,x.AV)()||(0,x.AL)()}get(){return function Ct(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||(0,x.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nt(I,f){Be(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Ee{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Me=new Pt(3e4,6e4);function Oe(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function ut(I,f,m,b){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,l.c)(function*(I,f,m,b,Y={}){return Zt(I,Y,(0,l.c)(function*(){let ge={},dt={};b&&("GET"===f?dt=b:ge={body:JSON.stringify(b)});const Lt=(0,x.ik)(Object.assign({key:I.config.apiKey},dt)).slice(1),cn=yield I._getAdditionalHeaders();return cn["Content-Type"]="application/json",I.languageCode&&(cn["X-Firebase-Locale"]=I.languageCode),Ee.fetch()(bn(I,I.config.apiHost,m,Lt),Object.assign({method:f,headers:cn,referrerPolicy:"no-referrer"},ge))}))})).apply(this,arguments)}function Zt(I,f,m){return on.apply(this,arguments)}function on(){return(on=(0,l.c)(function*(I,f,m){I._canInitEmulator=!1;const b=Object.assign(Object.assign({},ve),f);try{const Y=new qn(I),ge=yield Promise.race([m(),Y.promise]);Y.clearNetworkTimeout();const dt=yield ge.json();if("needConfirmation"in dt)throw Ft(I,"account-exists-with-different-credential",dt);if(ge.ok&&!("errorMessage"in dt))return dt;{const Lt=ge.ok?dt.errorMessage:dt.error.message,[cn,nr]=Lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw Ft(I,"credential-already-in-use",dt);if("EMAIL_EXISTS"===cn)throw Ft(I,"email-already-in-use",dt);if("USER_DISABLED"===cn)throw Ft(I,"user-disabled",dt);const dr=b[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw Qe(I,dr,nr);We(I,dr)}}catch(Y){if(Y instanceof x.kx)throw Y;We(I,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Kt(I,f,m,b){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.c)(function*(I,f,m,b,Y={}){const ge=yield ut(I,f,m,b,Y);return"mfaPendingCredential"in ge&&We(I,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function bn(I,f,m,b){const Y=`${f}${m}?${b}`;return I.config.emulator?nt(I.config,Y):`${I.config.apiScheme}://${Y}`}function tr(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ke(this.auth,"network-request-failed")),Me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ft(I,f,m){const b={appName:I.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const Y=Ke(I,f,b);return Y.customData._tokenResponse=m,Y}function Dt(I){return void 0!==I&&void 0!==I.getResponse}function wt(I){return void 0!==I&&void 0!==I.enterprise}class Ht{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return tr(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function qt(){return(qt=(0,l.c)(function*(I){return(yield ut(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(I,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.c)(function*(I,f){return ut(I,"GET","/v2/recaptchaConfig",Oe(I,f))})).apply(this,arguments)}function pr(){return(pr=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function lr(){return(lr=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $n(){return($n=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vr(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Cn(){return(Cn=(0,l.c)(function*(I,f=!1){const m=(0,x.Yj)(I),b=yield m.getIdToken(f),Y=Fn(b);z(Y&&Y.exp&&Y.auth_time&&Y.iat,m.auth,"internal-error");const ge="object"==typeof Y.firebase?Y.firebase:void 0,dt=null==ge?void 0:ge.sign_in_provider;return{claims:Y,token:b,authTime:vr(Ir(Y.auth_time)),issuedAtTime:vr(Ir(Y.iat)),expirationTime:vr(Ir(Y.exp)),signInProvider:dt||null,signInSecondFactor:(null==ge?void 0:ge.sign_in_second_factor)||null}})).apply(this,arguments)}function Ir(I){return 1e3*Number(I)}function Fn(I){const[f,m,b]=I.split(".");if(void 0===f||void 0===m||void 0===b)return it("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,x.WW)(m);return Y?JSON.parse(Y):(it("Failed to decode base64 JWT payload"),null)}catch(Y){return it("Caught error parsing JWT payload as JSON",null==Y?void 0:Y.toString()),null}}function Un(I,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.c)(function*(I,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof x.kx&&function sr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(b)&&I.auth.currentUser===I&&(yield I.auth.signOut()),b}})).apply(this,arguments)}class ai{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const Y=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,l.c)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,l.c)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Dr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(I){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,l.c)(function*(I){var f;const m=I.auth,b=yield I.getIdToken(),Y=yield Un(I,function An(I,f){return $n.apply(this,arguments)}(m,{idToken:b}));z(null==Y?void 0:Y.users.length,m,"internal-error");const ge=Y.users[0];I._notifyReloadListener(ge);const dt=null!==(f=ge.providerUserInfo)&&void 0!==f&&f.length?function et(I){return I.map(f=>{var{providerId:m}=f,b=(0,we.sX)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(ge.providerUserInfo):[],Lt=function Rt(I,f){return[...I.filter(b=>!f.some(Y=>Y.providerId===b.providerId)),...f]}(I.providerData,dt),dr=!!I.isAnonymous&&!(I.email&&ge.passwordHash||null!=Lt&&Lt.length),ri={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:Lt,metadata:new Dr(ge.createdAt,ge.lastLoginAt),isAnonymous:dr};Object.assign(I,ri)}),Zn.apply(this,arguments)}function Ei(){return(Ei=(0,l.c)(function*(I){const f=(0,x.Yj)(I);yield Bn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function tt(){return(tt=(0,l.c)(function*(I,f){const m=yield Zt(I,{},(0,l.c)(function*(){const b=(0,x.ik)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Y,apiKey:ge}=I.config,dt=bn(I,Y,"/v1/token",`key=${ge}`),Lt=yield I._getAdditionalHeaders();return Lt["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(dt,{method:"POST",headers:Lt,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function he(){return(he=(0,l.c)(function*(I,f){return ut(I,"POST","/v2/accounts:revokeToken",Oe(I,f))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(typeof f.idToken<"u","internal-error"),z(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Sn(I){const f=Fn(I);return z(f,"internal-error"),z(typeof f.exp<"u","internal-error"),z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,l.c)(function*(){return z(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,l.c)(function*(){const{accessToken:Y,refreshToken:ge,expiresIn:dt}=yield function Tt(I,f){return tt.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(Y,ge,Number(dt))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:Y,expirationTime:ge}=m,dt=new Z;return b&&(z("string"==typeof b,"internal-error",{appName:f}),dt.refreshToken=b),Y&&(z("string"==typeof Y,"internal-error",{appName:f}),dt.accessToken=Y),ge&&(z("number"==typeof ge,"internal-error",{appName:f}),dt.expirationTime=ge),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return $e("not implemented")}}function R(I,f){z("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class F{constructor(f){var{uid:m,auth:b,stsTokenManager:Y}=f,ge=(0,we.sX)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Dr(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.c)(function*(){const b=yield Un(m,m.stsTokenManager.getToken(m.auth,f));return z(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function zn(I){return Cn.apply(this,arguments)}(this,f)}reload(){return function wr(I){return Ei.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new F(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,l.c)(function*(){let Y=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),Y=!0),m&&(yield Bn(b)),yield b.auth._persistUserIfCurrent(b),Y&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,l.c)(function*(){const m=yield f.getIdToken();return yield Un(f,function kn(I,f){return pr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,Y,ge,dt,Lt,cn,nr,dr;const ri=null!==(b=m.displayName)&&void 0!==b?b:void 0,So=null!==(Y=m.email)&&void 0!==Y?Y:void 0,Lo=null!==(ge=m.phoneNumber)&&void 0!==ge?ge:void 0,yc=null!==(dt=m.photoURL)&&void 0!==dt?dt:void 0,ql=null!==(Lt=m.tenantId)&&void 0!==Lt?Lt:void 0,Kc=null!==(cn=m._redirectEventId)&&void 0!==cn?cn:void 0,Al=null!==(nr=m.createdAt)&&void 0!==nr?nr:void 0,Od=null!==(dr=m.lastLoginAt)&&void 0!==dr?dr:void 0,{uid:fu,emailVerified:Ha,isAnonymous:Mh,providerData:Nd,stsTokenManager:Ur}=m;z(fu&&Ur,f,"internal-error");const Ic=Z.fromJSON(this.name,Ur);z("string"==typeof fu,f,"internal-error"),R(ri,f.name),R(So,f.name),z("boolean"==typeof Ha,f,"internal-error"),z("boolean"==typeof Mh,f,"internal-error"),R(Lo,f.name),R(yc,f.name),R(ql,f.name),R(Kc,f.name),R(Al,f.name),R(Od,f.name);const Vu=new F({uid:fu,auth:f,email:So,emailVerified:Ha,displayName:ri,isAnonymous:Mh,photoURL:yc,phoneNumber:Lo,tenantId:ql,stsTokenManager:Ic,createdAt:Al,lastLoginAt:Od});return Nd&&Array.isArray(Nd)&&(Vu.providerData=Nd.map($u=>Object.assign({},$u))),Kc&&(Vu._redirectEventId=Kc),Vu}static _fromIdTokenResponse(f,m,b=!1){return(0,l.c)(function*(){const Y=new Z;Y.updateFromServerResponse(m);const ge=new F({uid:m.localId,auth:f,stsTokenManager:Y,isAnonymous:b});return yield Bn(ge),ge})()}}const pe=new Map;function Pe(I){Be(I instanceof Function,"Expected a class definition");let f=pe.get(I);return f?(Be(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,pe.set(I,f),f)}const Mt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.c)(function*(){return!0})()}_set(m,b){var Y=this;return(0,l.c)(function*(){Y.storage[m]=b})()}_get(m){var b=this;return(0,l.c)(function*(){const Y=b.storage[m];return void 0===Y?null:Y})()}_remove(m){var b=this;return(0,l.c)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return I.type="NONE",I})();function xt(I,f,m){return`firebase:${I}:${f}:${m}`}class tn{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:Y,name:ge}=this.auth;this.fullUserKey=xt(this.userKey,Y.apiKey,ge),this.fullPersistenceKey=xt("persistence",Y.apiKey,ge),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.c)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?F._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.c)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,l.c)(function*(){if(!m.length)return new tn(Pe(Mt),f,b);const Y=(yield Promise.all(m.map(function(){var nr=(0,l.c)(function*(dr){if(yield dr._isAvailable())return dr});return function(dr){return nr.apply(this,arguments)}}()))).filter(nr=>nr);let ge=Y[0]||Pe(Mt);const dt=xt(b,f.config.apiKey,f.name);let Lt=null;for(const nr of m)try{const dr=yield nr._get(dt);if(dr){const ri=F._fromJSON(f,dr);nr!==ge&&(Lt=ri),ge=nr;break}}catch{}const cn=Y.filter(nr=>nr._shouldAllowMigration);return ge._shouldAllowMigration&&cn.length?(ge=cn[0],Lt&&(yield ge._set(dt,Lt.toJSON())),yield Promise.all(m.map(function(){var nr=(0,l.c)(function*(dr){if(dr!==ge)try{yield dr._remove(dt)}catch{}});return function(dr){return nr.apply(this,arguments)}}())),new tn(ge,f,b)):new tn(ge,f,b)})()}}function Vt(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Jn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(dn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_t(f))return"Blackberry";if(Gt(f))return"Webos";if(Rn(f))return"Safari";if((f.includes("chrome/")||Gn(f))&&!f.includes("edge/"))return"Chrome";if(gt(f))return"Android";{const b=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function dn(I=(0,x.Su)()){return/firefox\//i.test(I)}function Rn(I=(0,x.Su)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Gn(I=(0,x.Su)()){return/crios\//i.test(I)}function Jn(I=(0,x.Su)()){return/iemobile/i.test(I)}function gt(I=(0,x.Su)()){return/android/i.test(I)}function _t(I=(0,x.Su)()){return/blackberry/i.test(I)}function Gt(I=(0,x.Su)()){return/webos/i.test(I)}function _n(I=(0,x.Su)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ir(I=(0,x.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Br(I=(0,x.Su)()){return _n(I)||gt(I)||Gt(I)||_t(I)||/windows phone/i.test(I)||Jn(I)}function Mr(I,f=[]){let m;switch(I){case"Browser":m=Vt((0,x.Su)());break;case"Worker":m=`${Vt((0,x.Su)())}-${I}`;break;default:m=I}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${K.SDK_VERSION}/${b}`}class ki{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=ge=>new Promise((dt,Lt)=>{try{dt(f(ge))}catch(cn){Lt(cn)}});b.onAbort=m,this.queue.push(b);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.c)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const Y of m.queue)yield Y(f),Y.onAbort&&b.push(Y.onAbort)}catch(Y){b.reverse();for(const ge of b)try{ge()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==Y?void 0:Y.message})}})()}}function hr(){return(hr=(0,l.c)(function*(I,f={}){return ut(I,"GET","/v2/passwordPolicy",Oe(I,f))})).apply(this,arguments)}class Ci{constructor(f){var m,b,Y,ge;const dt=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=dt.minPasswordLength)&&void 0!==m?m:6,dt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=dt.maxPasswordLength),void 0!==dt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=dt.containsLowercaseCharacter),void 0!==dt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=dt.containsUppercaseCharacter),void 0!==dt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=dt.containsNumericCharacter),void 0!==dt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=dt.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(b=f.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(ge=f.forceUpgradeOnSignin)&&void 0!==ge&&ge,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,b,Y,ge,dt,Lt;const cn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,cn),this.validatePasswordCharacterOptions(f,cn),cn.isValid&&(cn.isValid=null===(m=cn.meetsMinPasswordLength)||void 0===m||m),cn.isValid&&(cn.isValid=null===(b=cn.meetsMaxPasswordLength)||void 0===b||b),cn.isValid&&(cn.isValid=null===(Y=cn.containsLowercaseLetter)||void 0===Y||Y),cn.isValid&&(cn.isValid=null===(ge=cn.containsUppercaseLetter)||void 0===ge||ge),cn.isValid&&(cn.isValid=null===(dt=cn.containsNumericCharacter)||void 0===dt||dt),cn.isValid&&(cn.isValid=null===(Lt=cn.containsNonAlphanumericCharacter)||void 0===Lt||Lt),cn}validatePasswordLengthOptions(f,m){const b=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;b&&(m.meetsMinPasswordLength=f.length>=b),Y&&(m.meetsMaxPasswordLength=f.length<=Y)}validatePasswordCharacterOptions(f,m){let b;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let Y=0;Y<f.length;Y++)b=f.charAt(Y),this.updatePasswordCharacterOptionsStatuses(m,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(f,m,b,Y,ge){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ge))}}class Gr{constructor(f,m,b,Y){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Pe(m)),this._initializationPromise=this.queue((0,l.c)(function*(){var Y,ge;if(!b._deleted&&(b.persistenceManager=yield tn.create(b,f),!b._deleted)){if(null!==(Y=b._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(ge=b.currentUser)||void 0===ge?void 0:ge.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.c)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.c)(function*(){var b;const Y=yield m.assertedPersistence.getCurrentUser();let ge=Y,dt=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Lt=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,cn=null==ge?void 0:ge._redirectEventId,nr=yield m.tryRedirectSignIn(f);(!Lt||Lt===cn)&&null!=nr&&nr.user&&(ge=nr.user,dt=!0)}if(!ge)return m.directlySetCurrentUser(null);if(!ge._redirectEventId){if(dt)try{yield m.beforeStateQueue.runMiddleware(ge)}catch(Lt){ge=Y,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Lt))}return ge?m.reloadAndSetCurrentUserOrClear(ge):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ge._redirectEventId?m.directlySetCurrentUser(ge):m.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(f){var m=this;return(0,l.c)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.c)(function*(){try{yield Bn(f)}catch(b){if("auth/network-request-failed"!==(null==b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,l.c)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.c)(function*(){const b=f?(0,x.Yj)(f):null;return b&&z(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,l.c)(function*(){if(!b._deleted)return f&&z(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,l.c)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.c)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.c)(function*(){yield m.assertedPersistence.setPersistence(Pe(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,l.c)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const b=m._getPasswordPolicyInternal();return b.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.c)(function*(){const m=yield function so(I){return hr.apply(this,arguments)}(f),b=new Ci(m);null===f.tenantId?f._projectPasswordPolicy=b:f._tenantPasswordPolicies[f.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new x.UR("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const b=this.onAuthStateChanged(()=>{b(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,l.c)(function*(){if(m.currentUser){const b=yield m.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:b};null!=m.tenantId&&(Y.tenantId=m.tenantId),yield function oe(I,f){return he.apply(this,arguments)}(m,Y)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,l.c)(function*(){const Y=yield b.getOrInitRedirectPersistenceManager(m);return null===f?Y.removeCurrentUser():Y.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.c)(function*(){if(!m.redirectPersistenceManager){const b=f&&Pe(f)||m._popupRedirectResolver;z(b,m,"argument-error"),m.redirectPersistenceManager=yield tn.create(m,[Pe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.c)(function*(){var b,Y;return m._isInitialized&&(yield m.queue((0,l.c)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(Y=m.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.c)(function*(){if(f===m.currentUser)return m.queue((0,l.c)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,Y){if(this._deleted)return()=>{};const ge="function"==typeof m?m:m.next.bind(m);let dt=!1;const Lt=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(Lt,this,"internal-error"),Lt.then(()=>{dt||ge(this.currentUser)}),"function"==typeof m){const cn=f.addObserver(m,b,Y);return()=>{dt=!0,cn()}}{const cn=f.addObserver(m);return()=>{dt=!0,cn()}}}directlySetCurrentUser(f){var m=this;return(0,l.c)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.c)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const Y=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();Y&&(b["X-Firebase-Client"]=Y);const ge=yield f._getAppCheckToken();return ge&&(b["X-Firebase-AppCheck"]=ge),b})()}_getAppCheckToken(){var f=this;return(0,l.c)(function*(){var m;const b=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=b&&b.error&&function Se(I,...f){Ve.logLevel<=ie.Ge.WARN&&Ve.warn(`Auth (${K.SDK_VERSION}): ${I}`,...f)}(`Error while retrieving App Check token: ${b.error}`),null==b?void 0:b.token})()}}function Kn(I){return(0,x.Yj)(I)}class Eo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,x.my)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Re={loadJS:()=>(0,l.c)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X(I){return Re.loadJS(I)}function yn(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Qn{constructor(f){this.type="recaptcha-enterprise",this.auth=Kn(f)}verify(f="verify",m=!1){var b=this;return(0,l.c)(function*(){function ge(){return ge=(0,l.c)(function*(Lt){if(!m){if(null==Lt.tenantId&&null!=Lt._agentRecaptchaConfig)return Lt._agentRecaptchaConfig.siteKey;if(null!=Lt.tenantId&&void 0!==Lt._tenantRecaptchaConfigs[Lt.tenantId])return Lt._tenantRecaptchaConfigs[Lt.tenantId].siteKey}return new Promise(function(){var cn=(0,l.c)(function*(nr,dr){mt(Lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ri=>{if(void 0!==ri.recaptchaKey){const So=new Ht(ri);return null==Lt.tenantId?Lt._agentRecaptchaConfig=So:Lt._tenantRecaptchaConfigs[Lt.tenantId]=So,nr(So.siteKey)}dr(new Error("recaptcha Enterprise site key undefined"))}).catch(ri=>{dr(ri)})});return function(nr,dr){return cn.apply(this,arguments)}}())}),ge.apply(this,arguments)}function dt(Lt,cn,nr){const dr=window.grecaptcha;wt(dr)?dr.enterprise.ready(()=>{dr.enterprise.execute(Lt,{action:f}).then(ri=>{cn(ri)}).catch(()=>{cn("NO_RECAPTCHA")})}):nr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Lt,cn)=>{(function Y(Lt){return ge.apply(this,arguments)})(b.auth).then(nr=>{if(!m&&wt(window.grecaptcha))dt(nr,Lt,cn);else{if(typeof window>"u")return void cn(new Error("RecaptchaVerifier is only supported in browser"));let dr=function pt(){return Re.recaptchaEnterpriseScript}();0!==dr.length&&(dr+=nr),X(dr).then(()=>{dt(nr,Lt,cn)}).catch(ri=>{cn(ri)})}}).catch(nr=>{cn(nr)})})})()}}function li(I,f,m){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.c)(function*(I,f,m,b=!1){const Y=new Qn(I);let ge;try{ge=yield Y.verify(m)}catch{ge=yield Y.verify(m,!0)}const dt=Object.assign({},f);return Object.assign(dt,b?{captchaResp:ge}:{captchaResponse:ge}),Object.assign(dt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(dt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),dt})).apply(this,arguments)}function q(I,f,m,b){return te.apply(this,arguments)}function te(){return te=(0,l.c)(function*(I,f,m,b){var Y;if(null!==(Y=I._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ge=yield li(I,f,m,"getOobCode"===m);return b(I,ge)}return b(I,f).catch(function(){var ge=(0,l.c)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Lt=yield li(I,f,m,"getOobCode"===m);return b(I,Lt)}return Promise.reject(dt)});return function(dt){return ge.apply(this,arguments)}}())}),te.apply(this,arguments)}function Wt(I,f,m){const b=Kn(I);z(b._canInitEmulator,b,"emulator-config-failed"),z(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const Y=!(null==m||!m.disableWarnings),ge=un(f),{host:dt,port:Lt}=function en(I){const f=un(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(b);if(Y){const ge=Y[1];return{host:ge,port:kt(b.substr(ge.length+1))}}{const[ge,dt]=b.split(":");return{host:ge,port:kt(dt)}}}(f);b.config.emulator={url:`${ge}//${dt}${null===Lt?"":`:${Lt}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:dt,port:Lt,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function rn(){function I(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function un(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function kt(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class In{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return $e("not implemented")}_getIdTokenResponse(f){return $e("not implemented")}_linkToIdToken(f,m){return $e("not implemented")}_getReauthenticationResolver(f){return $e("not implemented")}}function Pn(I,f){return or.apply(this,arguments)}function or(){return(or=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:resetPassword",Oe(I,f))})).apply(this,arguments)}function ii(){return(ii=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function D(I,f){return se.apply(this,arguments)}function se(){return(se=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function re(){return(re=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:update",Oe(I,f))})).apply(this,arguments)}function Ne(I,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithPassword",Oe(I,f))})).apply(this,arguments)}function Er(I,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:sendOobCode",Oe(I,f))})).apply(this,arguments)}function xi(){return(xi=(0,l.c)(function*(I,f){return Er(I,f)})).apply(this,arguments)}function Ko(I,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.c)(function*(I,f){return Er(I,f)})).apply(this,arguments)}function Gi(I,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.c)(function*(I,f){return Er(I,f)})).apply(this,arguments)}function co(){return(co=(0,l.c)(function*(I,f){return Er(I,f)})).apply(this,arguments)}function hs(){return(hs=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithEmailLink",Oe(I,f))})).apply(this,arguments)}function Po(){return(Po=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithEmailLink",Oe(I,f))})).apply(this,arguments)}class Yi extends In{constructor(f,m,b,Y=null){super("password",b),this._email=f,this._password=m,this._tenantId=Y}static _fromEmailAndPassword(f,m){return new Yi(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Yi(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.c)(function*(){switch(m.signInMethod){case"password":return q(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ne);case"emailLink":return function Yo(I,f){return hs.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:We(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,l.c)(function*(){switch(b.signInMethod){case"password":return q(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D);case"emailLink":return function vi(I,f){return Po.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:We(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Qi(I,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithIdp",Oe(I,f))})).apply(this,arguments)}class to extends In{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new to(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):We("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:Y}=m,ge=(0,we.sX)(m,["providerId","signInMethod"]);if(!b||!Y)return null;const dt=new to(b,Y);return dt.idToken=ge.idToken||void 0,dt.accessToken=ge.accessToken||void 0,dt.secret=ge.secret,dt.nonce=ge.nonce,dt.pendingToken=ge.pendingToken||null,dt}_getIdTokenResponse(f){return Qi(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Qi(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Qi(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,x.ik)(m)}return f}}function xo(){return(xo=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:sendVerificationCode",Oe(I,f))})).apply(this,arguments)}function Es(){return(Es=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithPhoneNumber",Oe(I,f))})).apply(this,arguments)}function ji(){return(ji=(0,l.c)(function*(I,f){const m=yield Kt(I,"POST","/v1/accounts:signInWithPhoneNumber",Oe(I,f));if(m.temporaryProof)throw Ft(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ba={USER_NOT_FOUND:"user-not-found"};function Si(){return(Si=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithPhoneNumber",Oe(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ba)})).apply(this,arguments)}class Co extends In{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Co({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Co({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function _r(I,f){return Es.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Cs(I,f){return ji.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Us(I,f){return Si.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:Y}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:Y}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:Y,temporaryProof:ge}=f;return b||m||Y||ge?new Co({verificationId:m,verificationCode:b,phoneNumber:Y,temporaryProof:ge}):null}}class Vo{constructor(f){var m,b,Y,ge,dt,Lt;const cn=(0,x.aw)((0,x.kF)(f)),nr=null!==(m=cn.apiKey)&&void 0!==m?m:null,dr=null!==(b=cn.oobCode)&&void 0!==b?b:null,ri=function no(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=cn.mode)&&void 0!==Y?Y:null);z(nr&&dr&&ri,"argument-error"),this.apiKey=nr,this.operation=ri,this.code=dr,this.continueUrl=null!==(ge=cn.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(dt=cn.languageCode)&&void 0!==dt?dt:null,this.tenantId=null!==(Lt=cn.tenantId)&&void 0!==Lt?Lt:null}static parseLink(f){const m=function Li(I){const f=(0,x.aw)((0,x.kF)(I)).link,m=f?(0,x.aw)((0,x.kF)(f)).deep_link_id:null,b=(0,x.aw)((0,x.kF)(I)).deep_link_id;return(b?(0,x.aw)((0,x.kF)(b)).link:null)||b||m||f||I}(f);try{return new Vo(m)}catch{return null}}}let $o=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,b){return Yi._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const Y=Vo.parseLink(b);return z(Y,"argument-error"),Yi._fromEmailAndCode(m,Y.code,Y.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class pi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Hi extends pi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Xo extends Hi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return z("providerId"in m&&"signInMethod"in m,"argument-error"),to._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),to._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Xo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Xo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:Y,pendingToken:ge,nonce:dt,providerId:Lt}=f;if(!b&&!Y&&!m&&!ge||!Lt)return null;try{return new Xo(Lt)._credential({idToken:m,accessToken:b,nonce:dt,pendingToken:ge})}catch{return null}}}let _i=(()=>{class I extends Hi{constructor(){super("facebook.com")}static credential(m){return to._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Qa=(()=>{class I extends Hi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return to._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:Y}=m;if(!b&&!Y)return null;try{return I.credential(b,Y)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ll=(()=>{class I extends Hi{constructor(){super("github.com")}static credential(m){return to._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ds extends In{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Qi(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,Qi(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Qi(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:Y,pendingToken:ge}=m;return b&&Y&&ge&&b===Y?new Ds(b,ge):null}static _create(f,m){return new Ds(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ml extends pi{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ml.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ml.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ds.fromJSON(f);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Ds._create(b,m)}catch{return null}}}let Fl=(()=>{class I extends Hi{constructor(){super("twitter.com")}static credential(m,b){return to._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:Y}=m;if(!b||!Y)return null;try{return I.credential(b,Y)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function fs(I,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signUp",Oe(I,f))})).apply(this,arguments)}class zi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,Y=!1){return(0,l.c)(function*(){const ge=yield F._fromIdTokenResponse(f,b,Y),dt=nu(b);return new zi({user:ge,providerId:dt,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,l.c)(function*(){yield f._updateTokensIfNecessary(b,!0);const Y=nu(b);return new zi({user:f,providerId:Y,_tokenResponse:b,operationType:m})})()}}function nu(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function vl(I){return na.apply(this,arguments)}function na(){return(na=(0,l.c)(function*(I){var f;const m=Kn(I);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new zi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield fs(m,{returnSecureToken:!0}),Y=yield zi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Aa extends x.kx{constructor(f,m,b,Y){var ge;super(m.code,m.message),this.operationType=b,this.user=Y,Object.setPrototypeOf(this,Aa.prototype),this.customData={appName:f.name,tenantId:null!==(ge=f.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,Y){return new Aa(f,m,b,Y)}}function Zo(I,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?Aa._fromErrorAndOperation(I,ge,f,b):ge})}function Vl(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function Za(I,f){return j.apply(this,arguments)}function j(){return j=(0,l.c)(function*(I,f){const m=(0,x.Yj)(I);yield G(!0,m,f);const{providerUserInfo:b}=yield function mr(I,f){return lr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),Y=Vl(b||[]);return m.providerData=m.providerData.filter(ge=>Y.has(ge.providerId)),Y.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),j.apply(this,arguments)}function k(I,f){return fe.apply(this,arguments)}function fe(){return(fe=(0,l.c)(function*(I,f,m=!1){const b=yield Un(I,f._linkToIdToken(I.auth,yield I.getIdToken()),m);return zi._forOperation(I,"link",b)})).apply(this,arguments)}function G(I,f,m){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.c)(function*(I,f,m){yield Bn(f);const Y=!1===I?"provider-already-linked":"no-such-provider";z(Vl(f.providerData).has(m)===I,f.auth,Y)})).apply(this,arguments)}function sn(I,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.c)(function*(I,f,m=!1){const{auth:b}=I,Y="reauthenticate";try{const ge=yield Un(I,Zo(b,Y,f,I),m);z(ge.idToken,b,"internal-error");const dt=Fn(ge.idToken);z(dt,b,"internal-error");const{sub:Lt}=dt;return z(I.uid===Lt,b,"user-mismatch"),zi._forOperation(I,Y,ge)}catch(ge){throw"auth/user-not-found"===(null==ge?void 0:ge.code)&&We(b,"user-mismatch"),ge}})).apply(this,arguments)}function bi(I,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.c)(function*(I,f,m=!1){const b="signIn",Y=yield Zo(I,b,f),ge=yield zi._fromIdTokenResponse(I,b,Y);return m||(yield I._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function Jo(I,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.c)(function*(I,f){return bi(Kn(I),f)})).apply(this,arguments)}function ws(I,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,l.c)(function*(I,f){const m=(0,x.Yj)(I);return yield G(!1,m,f.providerId),k(m,f)})).apply(this,arguments)}function vo(I,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.c)(function*(I,f){return sn((0,x.Yj)(I),f)})).apply(this,arguments)}function bs(){return(bs=(0,l.c)(function*(I,f){return Kt(I,"POST","/v1/accounts:signInWithCustomToken",Oe(I,f))})).apply(this,arguments)}function Do(I,f){return As.apply(this,arguments)}function As(){return As=(0,l.c)(function*(I,f){const m=Kn(I),b=yield function Sa(I,f){return bs.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),Y=yield zi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(Y.user),Y}),As.apply(this,arguments)}class js{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?_o._fromServerResponse(f,m):"totpInfo"in m?wo._fromServerResponse(f,m):We(f,"internal-error")}}class _o extends js{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new _o(m)}}class wo extends js{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new wo(m)}}function Ss(I,f,m){var b;z((null===(b=m.url)||void 0===b?void 0:b.length)>0,I,"invalid-continue-uri"),z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Hs(I){return $l.apply(this,arguments)}function $l(){return($l=(0,l.c)(function*(I){const f=Kn(I);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function yo(I,f,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.c)(function*(I,f,m){const b=Kn(I),Y={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&Ss(b,Y,m),yield q(b,Y,"getOobCode",Ko)})).apply(this,arguments)}function ei(I,f,m){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,l.c)(function*(I,f,m){yield Pn((0,x.Yj)(I),{oobCode:f,newPassword:m}).catch(function(){var b=(0,l.c)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Hs(I),Y});return function(Y){return b.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function _l(I,f){return ro.apply(this,arguments)}function ro(){return ro=(0,l.c)(function*(I,f){yield function L(I,f){return re.apply(this,arguments)}((0,x.Yj)(I),{oobCode:f})}),ro.apply(this,arguments)}function fr(I,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.c)(function*(I,f){const m=(0,x.Yj)(I),b=yield Pn(m,{oobCode:f}),Y=b.requestType;switch(z(Y,m,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(b.mfaInfo,m,"internal-error");default:z(b.email,m,"internal-error")}let ge=null;return b.mfaInfo&&(ge=js._fromServerResponse(Kn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:ge},operation:Y}})).apply(this,arguments)}function Ja(I,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,l.c)(function*(I,f){const{data:m}=yield fr((0,x.Yj)(I),f);return m.email})).apply(this,arguments)}function Ul(I,f,m){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.c)(function*(I,f,m){const b=Kn(I),dt=yield q(b,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fs).catch(cn=>{throw"auth/password-does-not-meet-requirements"===cn.code&&Hs(I),cn}),Lt=yield zi._fromIdTokenResponse(b,"signIn",dt);return yield b._updateCurrentUser(Lt.user),Lt})).apply(this,arguments)}function Uo(I,f,m){return Jo((0,x.Yj)(I),$o.credential(f,m)).catch(function(){var b=(0,l.c)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Hs(I),Y});return function(Y){return b.apply(this,arguments)}}())}function Wi(I,f,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.c)(function*(I,f,m){const b=Kn(I),Y={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function ge(dt,Lt){z(Lt.handleCodeInApp,b,"argument-error"),Lt&&Ss(b,dt,Lt)})(Y,m),yield q(b,Y,"getOobCode",Gi)})).apply(this,arguments)}function Ii(I,f){const m=Vo.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Ws(I,f,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I),Y=$o.credentialWithLink(f,m||Le());return z(Y._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Jo(b,Y)})).apply(this,arguments)}function jt(){return(jt=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:createAuthUri",Oe(I,f))})).apply(this,arguments)}function jr(I,f){return el.apply(this,arguments)}function el(){return el=(0,l.c)(function*(I,f){const b={identifier:f,continueUri:Ae()?Le():"http://localhost"},{signinMethods:Y}=yield function ru(I,f){return jt.apply(this,arguments)}((0,x.Yj)(I),b);return Y||[]}),el.apply(this,arguments)}function Pa(I,f){return oi.apply(this,arguments)}function oi(){return oi=(0,l.c)(function*(I,f){const m=(0,x.Yj)(I),Y={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&Ss(m.auth,Y,f);const{email:ge}=yield function Yr(I,f){return xi.apply(this,arguments)}(m.auth,Y);ge!==I.email&&(yield I.reload())}),oi.apply(this,arguments)}function Bl(I,f,m){return oa.apply(this,arguments)}function oa(){return oa=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};m&&Ss(b.auth,ge,m);const{email:dt}=yield function ur(I,f){return co.apply(this,arguments)}(b.auth,ge);dt!==I.email&&(yield I.reload())}),oa.apply(this,arguments)}function zs(){return(zs=(0,l.c)(function*(I,f){return ut(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yl(I,f){return sa.apply(this,arguments)}function sa(){return sa=(0,l.c)(function*(I,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,x.Yj)(I),ge={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},dt=yield Un(b,function gs(I,f){return zs.apply(this,arguments)}(b.auth,ge));b.displayName=dt.displayName||null,b.photoURL=dt.photoUrl||null;const Lt=b.providerData.find(({providerId:cn})=>"password"===cn);Lt&&(Lt.displayName=b.displayName,Lt.photoURL=b.photoURL),yield b._updateTokensIfNecessary(dt)}),sa.apply(this,arguments)}function Ms(I,f){return kr((0,x.Yj)(I),f,null)}function tl(I,f){return kr((0,x.Yj)(I),null,f)}function kr(I,f,m){return qi.apply(this,arguments)}function qi(){return qi=(0,l.c)(function*(I,f,m){const{auth:b}=I,ge={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(ge.email=f),m&&(ge.password=m);const dt=yield Un(I,function ui(I,f){return ii.apply(this,arguments)}(b,ge));yield I._updateTokensIfNecessary(dt,!0)}),qi.apply(this,arguments)}class Di{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class E extends Di{constructor(f,m,b,Y){super(f,m,b),this.username=Y}}class M extends Di{constructor(f,m){super(f,"facebook.com",m)}}class De extends E{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class B extends Di{constructor(f,m){super(f,"google.com",m)}}class ue extends E{constructor(f,m,b){super(f,"twitter.com",m,b)}}function _e(I){const{user:f,_tokenResponse:m}=I;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ms(I){var f,m;if(!I)return null;const{providerId:b}=I,Y=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ge=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!b&&null!=I&&I.idToken){const dt=null===(m=null===(f=Fn(I.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(dt)return new Di(ge,"anonymous"!==dt&&"custom"!==dt?dt:null)}if(!b)return null;switch(b){case"facebook.com":return new M(ge,Y);case"github.com":return new De(ge,Y);case"google.com":return new B(ge,Y);case"twitter.com":return new ue(ge,Y,I.screenName||null);case"custom":case"anonymous":return new Di(ge,null);default:return new Di(ge,b,Y)}}(m)}class Zi{constructor(f,m,b){this.type=f,this.credential=m,this.user=b}static _fromIdtoken(f,m){return new Zi("enroll",f,m)}static _fromMfaPendingCredential(f){return new Zi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null!=f&&f.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Zi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Zi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Lr{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Kn(f),Y=m.customData._serverResponse,ge=(Y.mfaInfo||[]).map(Lt=>js._fromServerResponse(b,Lt));z(Y.mfaPendingCredential,b,"internal-error");const dt=Zi._fromMfaPendingCredential(Y.mfaPendingCredential);return new Lr(dt,ge,function(){var Lt=(0,l.c)(function*(cn){const nr=yield cn._process(b,dt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const dr=Object.assign(Object.assign({},Y),{idToken:nr.idToken,refreshToken:nr.refreshToken});switch(m.operationType){case"signIn":const ri=yield zi._fromIdTokenResponse(b,m.operationType,dr);return yield b._updateCurrentUser(ri.user),ri;case"reauthenticate":return z(m.user,b,"internal-error"),zi._forOperation(m.user,m.operationType,dr);default:We(b,"internal-error")}});return function(cn){return Lt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.c)(function*(){return m.signInResolver(f)})()}}function ha(I,f){var m;const b=(0,x.Yj)(I),Y=f;return z(f.customData.operationType,b,"argument-error"),z(null===(m=Y.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Lr._fromError(b,Y)}class Ln{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>js._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Ln(f)}getSession(){var f=this;return(0,l.c)(function*(){return Zi._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var b=this;return(0,l.c)(function*(){const Y=f,ge=yield b.getSession(),dt=yield Un(b.user,Y._process(b.user.auth,ge,m));return yield b.user._updateTokensIfNecessary(dt),b.user.reload()})()}unenroll(f){var m=this;return(0,l.c)(function*(){const b="string"==typeof f?f:f.uid,Y=yield m.user.getIdToken();try{const ge=yield Un(m.user,function Ni(I,f){return ut(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(I,f))}(m.user.auth,{idToken:Y,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:dt})=>dt!==b),yield m.user._updateTokensIfNecessary(ge),yield m.user.reload()}catch(ge){throw ge}})()}}const Io=new WeakMap;function zr(I){const f=(0,x.Yj)(I);return Io.has(f)||Io.set(f,Ln._fromUser(f)),Io.get(f)}const xs="__sak";class Fr{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(xs,"1"),this.storage.removeItem(xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gl=(()=>{class I extends Fr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mn(){const I=(0,x.Su)();return Rn(I)||_n(I)}()&&function Ar(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Br(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const Y=this.storage.getItem(b),ge=this.localCache[b];Y!==ge&&m(b,ge,Y)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Lt,cn,nr)=>{this.notifyListeners(Lt,nr)});const Y=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Lt=this.storage.getItem(Y);if(m.newValue!==Lt)null!==m.newValue?this.storage.setItem(Y,m.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===m.newValue&&!b)return}const ge=()=>{const Lt=this.storage.getItem(Y);!b&&this.localCache[Y]===Lt||this.notifyListeners(Y,Lt)},dt=this.storage.getItem(Y);!function er(){return(0,x.Uv)()&&10===document.documentMode}()||dt===m.newValue||m.newValue===m.oldValue?ge():setTimeout(ge,10)}notifyListeners(m,b){this.localCache[m]=b;const Y=this.listeners[m];if(Y)for(const ge of Array.from(Y))ge(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var Y=()=>super._set,ge=this;return(0,l.c)(function*(){yield Y().call(ge,m,b),ge.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,Y=this;return(0,l.c)(function*(){const ge=yield b().call(Y,m);return Y.localCache[m]=JSON.stringify(ge),ge})()}_remove(m){var b=()=>super._remove,Y=this;return(0,l.c)(function*(){yield b().call(Y,m),delete Y.localCache[m]})()}}return I.type="LOCAL",I})(),Ks=(()=>{class I extends Fr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return I.type="SESSION",I})();let dc=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(ge=>ge.isListeningto(m));if(b)return b;const Y=new I(m);return this.receivers.push(Y),Y}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.c)(function*(){const Y=m,{eventId:ge,eventType:dt,data:Lt}=Y.data,cn=b.handlersMap[dt];if(null==cn||!cn.size)return;Y.ports[0].postMessage({status:"ack",eventId:ge,eventType:dt});const nr=Array.from(cn).map(function(){var ri=(0,l.c)(function*(So){return So(Y.origin,Lt)});return function(So){return ri.apply(this,arguments)}}()),dr=yield function fa(I){return Promise.all(I.map(function(){var f=(0,l.c)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(nr);Y.ports[0].postMessage({status:"done",eventId:ge,eventType:dt,response:dr})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xa(I="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return I+m}class ts{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var Y=this;return(0,l.c)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let dt,Lt;return new Promise((cn,nr)=>{const dr=xa("",20);ge.port1.start();const ri=setTimeout(()=>{nr(new Error("unsupported_event"))},b);Lt={messageChannel:ge,onMessage(So){const Lo=So;if(Lo.data.eventId===dr)switch(Lo.data.status){case"ack":clearTimeout(ri),dt=setTimeout(()=>{nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(dt),cn(Lo.data.response);break;default:clearTimeout(ri),clearTimeout(dt),nr(new Error("invalid_response"))}}},Y.handlers.add(Lt),ge.port1.addEventListener("message",Lt.onMessage),Y.target.postMessage({eventType:f,eventId:dr,data:m},[ge.port2])}).finally(()=>{Lt&&Y.removeMessageHandler(Lt)})})()}}function Cr(){return window}function pa(){return typeof Cr().WorkerGlobalScope<"u"&&"function"==typeof Cr().importScripts}function ol(){return(ol=(0,l.c)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fo="firebaseLocalStorageDb",Qs="firebaseLocalStorage",Os="fbase_key";class ga{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ns(I,f){return I.transaction([Qs],f?"readwrite":"readonly").objectStore(Qs)}function Bo(){const I=indexedDB.open(fo,1);return new Promise((f,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const b=I.result;try{b.createObjectStore(Qs,{keyPath:Os})}catch(Y){m(Y)}}),I.addEventListener("success",(0,l.c)(function*(){const b=I.result;b.objectStoreNames.contains(Qs)?f(b):(b.close(),yield function rs(){const I=indexedDB.deleteDatabase(fo);return new ga(I).toPromise()}(),f(yield Bo()))}))})}function is(I,f,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.c)(function*(I,f,m){const b=ns(I,!0).put({[Os]:f,value:m});return new ga(b).toPromise()})).apply(this,arguments)}function Go(){return(Go=(0,l.c)(function*(I,f){const m=ns(I,!1).get(f),b=yield new ga(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function vs(I,f){const m=ns(I,!0).delete(f);return new ga(m).toPromise()}const y=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.c)(function*(){return m.db||(m.db=yield Bo()),m.db})()}_withRetries(m){var b=this;return(0,l.c)(function*(){let Y=0;for(;;)try{const ge=yield b._openDb();return yield m(ge)}catch(ge){if(Y++>3)throw ge;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.c)(function*(){return pa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.c)(function*(){m.receiver=dc._getInstance(function sl(){return pa()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.c)(function*(Y,ge){return{keyProcessed:(yield m._poll()).includes(ge.key)}});return function(Y,ge){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.c)(function*(Y,ge){return["keyChanged"]});return function(Y,ge){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.c)(function*(){var b,Y;if(m.activeServiceWorker=yield function Ys(){return ol.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ts(m.activeServiceWorker);const ge=yield m.sender._send("ping",{},800);ge&&null!==(b=ge[0])&&void 0!==b&&b.fulfilled&&null!==(Y=ge[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.c)(function*(){if(b.sender&&b.activeServiceWorker&&function bt(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.c)(function*(){try{if(!indexedDB)return!1;const m=yield Bo();return yield is(m,xs,"1"),yield vs(m,xs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.c)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var Y=this;return(0,l.c)(function*(){return Y._withPendingWrite((0,l.c)(function*(){return yield Y._withRetries(ge=>is(ge,m,b)),Y.localCache[m]=b,Y.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.c)(function*(){const Y=yield b._withRetries(ge=>function Ns(I,f){return Go.apply(this,arguments)}(ge,m));return b.localCache[m]=Y,Y})()}_remove(m){var b=this;return(0,l.c)(function*(){return b._withPendingWrite((0,l.c)(function*(){return yield b._withRetries(Y=>vs(Y,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.c)(function*(){const b=yield m._withRetries(dt=>{const Lt=ns(dt,!1).getAll();return new ga(Lt).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const Y=[],ge=new Set;if(0!==b.length)for(const{fbase_key:dt,value:Lt}of b)ge.add(dt),JSON.stringify(m.localCache[dt])!==JSON.stringify(Lt)&&(m.notifyListeners(dt,Lt),Y.push(dt));for(const dt of Object.keys(m.localCache))m.localCache[dt]&&!ge.has(dt)&&(m.notifyListeners(dt,null),Y.push(dt));return Y})()}notifyListeners(m,b){this.localCache[m]=b;const Y=this.listeners[m];if(Y)for(const ge of Array.from(Y))ge(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.c)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),ye=1e12;class yt{constructor(f){this.auth=f,this.counter=ye,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new an(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||ye;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ye))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.c)(function*(){var b;return null===(b=m._widgets.get(f||ye))||void 0===b||b.execute(),""})()}}class an{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof f?document.getElementById(f):f;z(Y,"argument-error",{appName:m}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function At(I){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<I;b++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nn=yn("rcb"),br=new Pt(3e4,6e4);class Fi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Cr().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return z(function Sr(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Dt(Cr().grecaptcha)?Promise.resolve(Cr().grecaptcha):new Promise((b,Y)=>{const ge=Cr().setTimeout(()=>{Y(Ke(f,"network-request-failed"))},br.get());Cr()[Nn]=()=>{Cr().clearTimeout(ge),delete Cr()[Nn];const Lt=Cr().grecaptcha;if(!Lt||!Dt(Lt))return void Y(Ke(f,"internal-error"));const cn=Lt.render;Lt.render=(nr,dr)=>{const ri=cn(nr,dr);return this.counter++,ri},this.hostLanguage=m,b(Lt)},X(`${function Ce(){return Re.recaptchaV2Script}()}?${(0,x.ik)({onload:Nn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ge),Y(Ke(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Cr().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class po{load(f){return(0,l.c)(function*(){return new yt(f)})()}clearedOneInstance(){}}const ma="recaptcha",os={theme:"light",type:"image"};class cr{constructor(f,m,b=Object.assign({},os)){this.parameters=b,this.type=ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(f),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof m?document.getElementById(m):m;z(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new po:new Fi,this.validateStartingState()}verify(){var f=this;return(0,l.c)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(ge=>{const dt=Lt=>{Lt&&(f.tokenChangeListeners.delete(dt),ge(Lt))};f.tokenChangeListeners.add(dt),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Cr()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.c)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.c)(function*(){z(Ae()&&!pa(),f.auth,"internal-error"),yield function va(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function hn(I){return qt.apply(this,arguments)}(f.auth);z(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class aa{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Co._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function jo(I,f,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.c)(function*(I,f,m){const b=Kn(I),Y=yield Vi(b,f,(0,x.Yj)(m));return new aa(Y,ge=>Jo(b,ge))})).apply(this,arguments)}function Ru(I,f,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I);yield G(!1,b,"phone");const Y=yield Vi(b.auth,f,(0,x.Yj)(m));return new aa(Y,ge=>ws(b,ge))})).apply(this,arguments)}function hc(I,f,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I),Y=yield Vi(b.auth,f,(0,x.Yj)(m));return new aa(Y,ge=>vo(b,ge))})).apply(this,arguments)}function Vi(I,f,m){return fc.apply(this,arguments)}function fc(){return fc=(0,l.c)(function*(I,f,m){var b;const Y=yield m.verify();try{let ge;if(z("string"==typeof Y,I,"argument-error"),z(m.type===ma,I,"argument-error"),ge="string"==typeof f?{phoneNumber:f}:f,"session"in ge){const dt=ge.session;if("phoneNumber"in ge)return z("enroll"===dt.type,I,"internal-error"),(yield function nl(I,f){return ut(I,"POST","/v2/accounts/mfaEnrollment:start",Oe(I,f))}(I,{idToken:dt.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{z("signin"===dt.type,I,"internal-error");const Lt=(null===(b=ge.multiFactorHint)||void 0===b?void 0:b.uid)||ge.multiFactorUid;return z(Lt,I,"missing-multi-factor-info"),(yield function w(I,f){return ut(I,"POST","/v2/accounts/mfaSignIn:start",Oe(I,f))}(I,{mfaPendingCredential:dt.credential,mfaEnrollmentId:Lt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:dt}=yield function ta(I,f){return xo.apply(this,arguments)}(I,{phoneNumber:ge.phoneNumber,recaptchaToken:Y});return dt}}finally{m._reset()}}),fc.apply(this,arguments)}function El(I,f){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.c)(function*(I,f){yield k((0,x.Yj)(I),f)})).apply(this,arguments)}let Yn=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=Kn(m)}verifyPhoneNumber(m,b){return Vi(this.auth,m,(0,x.Yj)(b))}static credential(m,b){return Co._fromVerification(m,b)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:Y}=m;return b&&Y?Co._fromTokenResponse(b,Y):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Hr(I,f){return f?Pe(f):(z(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class bo extends In{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Qi(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Qi(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Qi(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ai(I){return bi(I.auth,new bo(I),I.bypassAuthState)}function Pu(I){const{auth:f,user:m}=I;return z(m,f,"internal-error"),sn(m,new bo(I),I.bypassAuthState)}function jl(I){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.c)(function*(I){const{auth:f,user:m}=I;return z(m,f,"internal-error"),k(m,new bo(I),I.bypassAuthState)})).apply(this,arguments)}class su{constructor(f,m,b,Y,ge=!1){this.auth=f,this.resolver=b,this.user=Y,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.c)(function*(b,Y){f.pendingPromise={resolve:b,reject:Y};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ge){f.reject(ge)}});return function(b,Y){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.c)(function*(){const{urlResponse:b,sessionId:Y,postBody:ge,tenantId:dt,error:Lt,type:cn}=f;if(Lt)return void m.reject(Lt);const nr={auth:m.auth,requestUri:b,sessionId:Y,tenantId:dt||void 0,postBody:ge||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(cn)(nr))}catch(dr){m.reject(dr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ai;case"linkViaPopup":case"linkViaRedirect":return jl;case"reauthViaPopup":case"reauthViaRedirect":return Pu;default:We(this.auth,"internal-error")}}resolve(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pc=new Pt(2e3,1e4);function go(I,f,m){return No.apply(this,arguments)}function No(){return(No=(0,l.c)(function*(I,f,m){const b=Kn(I);ot(I,f,pi);const Y=Hr(b,m);return new ka(b,"signInViaPopup",f,Y).executeNotNull()})).apply(this,arguments)}function Oa(I,f,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I);ot(b.auth,f,pi);const Y=Hr(b.auth,m);return new ka(b.auth,"reauthViaPopup",f,Y,b).executeNotNull()})).apply(this,arguments)}function Na(I,f,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I);ot(b.auth,f,pi);const Y=Hr(b.auth,m);return new ka(b.auth,"linkViaPopup",f,Y,b).executeNotNull()})).apply(this,arguments)}let ka=(()=>{class I extends su{constructor(m,b,Y,ge,dt){super(m,b,ge,dt),this.provider=Y,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.c)(function*(){const b=yield m.execute();return z(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.c)(function*(){Be(1===m.filter.length,"Popup operations only handle one event");const b=xa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(Y=>{m.reject(Y)}),m.resolver._isIframeWebStorageSupported(m.auth,Y=>{Y||m.reject(Ke(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,Y;this.pollId=null!==(Y=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,pc.get())};m()}}return I.currentPopupAction=null,I})();const al="pendingRedirect",Dl=new Map;class La extends su{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.c)(function*(){let b=Dl.get(m.auth._key());if(!b){try{const ge=(yield function Fa(I,f){return ll.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(ge)}catch(Y){b=()=>Promise.reject(Y)}Dl.set(m.auth._key(),b)}return m.bypassAuthState||Dl.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,l.c)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const Y=yield b.auth._redirectUserForId(f.eventId);if(Y)return b.user=Y,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.c)(function*(){})()}cleanUp(){}}function ll(){return(ll=(0,l.c)(function*(I,f){const m=ul(f),b=Ao(I);if(!(yield b._isAvailable()))return!1;const Y="true"===(yield b._get(m));return yield b._remove(m),Y})).apply(this,arguments)}function _s(I,f){return la.apply(this,arguments)}function la(){return(la=(0,l.c)(function*(I,f){return Ao(I)._set(ul(f),"true")})).apply(this,arguments)}function Xs(){Dl.clear()}function Va(I,f){Dl.set(I._key(),f)}function Ao(I){return Pe(I._redirectPersistence)}function ul(I){return xt(al,I.config.apiKey,I.name)}function Qr(I,f,m){return function wl(I,f,m){return Zs.apply(this,arguments)}(I,f,m)}function Zs(){return(Zs=(0,l.c)(function*(I,f,m){const b=Kn(I);ot(I,f,pi),yield b._initializationPromise;const Y=Hr(b,m);return yield _s(Y,b),Y._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function cl(I,f,m){return function Ia(I,f,m){return xu.apply(this,arguments)}(I,f,m)}function xu(){return(xu=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I);ot(b.auth,f,pi),yield b.auth._initializationPromise;const Y=Hr(b.auth,m);yield _s(Y,b.auth);const ge=yield Ua(b);return Y._openRedirect(b.auth,f,"reauthViaRedirect",ge)})).apply(this,arguments)}function au(I,f,m){return function Ou(I,f,m){return lu.apply(this,arguments)}(I,f,m)}function lu(){return(lu=(0,l.c)(function*(I,f,m){const b=(0,x.Yj)(I);ot(b.auth,f,pi),yield b.auth._initializationPromise;const Y=Hr(b.auth,m);yield G(!1,b,f.providerId),yield _s(Y,b.auth);const ge=yield Ua(b);return Y._openRedirect(b.auth,f,"linkViaRedirect",ge)})).apply(this,arguments)}function Nu(I,f){return gc.apply(this,arguments)}function gc(){return(gc=(0,l.c)(function*(I,f){return yield Kn(I)._initializationPromise,uu(I,f,!1)})).apply(this,arguments)}function uu(I,f){return $a.apply(this,arguments)}function $a(){return($a=(0,l.c)(function*(I,f,m=!1){const b=Kn(I),Y=Hr(b,f),dt=yield new La(b,Y,m).execute();return dt&&!m&&(delete dt.user._redirectEventId,yield b._persistUserIfCurrent(dt.user),yield b._setRedirectUser(null,f)),dt})).apply(this,arguments)}function Ua(I){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.c)(function*(I){const f=xa(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class gi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ku(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dl(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!dl(f)){const Y=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ke(this.auth,Y))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ys(f))}saveEventToCache(f){this.cachedEventUids.add(ys(f)),this.lastProcessedEventTime=Date.now()}}function ys(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function dl({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ba(I){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.c)(function*(I,f={}){return ut(I,"GET","/v1/projects",f)})).apply(this,arguments)}const Sd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xr=/^https?/;function ua(){return(ua=(0,l.c)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield Ba(I);for(const m of f)try{if(Lu(m))return}catch{}We(I,"unauthorized-domain")})).apply(this,arguments)}function Lu(I){const f=Le(),{protocol:m,hostname:b}=new URL(f);if(I.startsWith("chrome-extension://")){const dt=new URL(I);return""===dt.hostname&&""===b?"chrome-extension:"===m&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&dt.hostname===b}if(!Xr.test(m))return!1;if(Sd.test(I))return b===I;const Y=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(b)}const mc=new Pt(3e4,6e4);function vc(){const I=Cr().___jsl;if(null!=I&&I.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let Hl=null;const Md=new Pt(5e3,15e3),du="__/auth/iframe",qc="emulator/auth/iframe",S={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $(I){const f=I.config;z(f.authDomain,I,"auth-domain-config-required");const m=f.emulator?nt(f,qc):`https://${I.config.authDomain}/${du}`,b={apiKey:f.apiKey,appName:I.name,v:K.SDK_VERSION},Y=v.get(I.config.apiHost);Y&&(b.eid=Y);const ge=I._getFrameworks();return ge.length&&(b.fw=ge.join(",")),`${m}?${(0,x.ik)(b).slice(1)}`}function Ie(){return Ie=(0,l.c)(function*(I){const f=yield function Rd(I){return Hl=Hl||function cu(I){return new Promise((f,m)=>{var b,Y,ge;function dt(){vc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{vc(),m(Ke(I,"network-request-failed"))},timeout:mc.get()})}if(null!==(Y=null===(b=Cr().gapi)||void 0===b?void 0:b.iframes)&&void 0!==Y&&Y.Iframe)f(gapi.iframes.getContext());else{if(null===(ge=Cr().gapi)||void 0===ge||!ge.load){const Lt=yn("iframefcb");return Cr()[Lt]=()=>{gapi.load?dt():m(Ke(I,"network-request-failed"))},X(`${function Yt(){return Re.gapiScript}()}?onload=${Lt}`).catch(cn=>m(cn))}dt()}}).catch(f=>{throw Hl=null,f})}(I),Hl}(I),m=Cr().gapi;return z(m,I,"internal-error"),f.open({where:document.body,url:$(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S,dontclear:!0},b=>new Promise(function(){var Y=(0,l.c)(function*(ge,dt){yield b.restyle({setHideOnLeave:!1});const Lt=Ke(I,"network-request-failed"),cn=Cr().setTimeout(()=>{dt(Lt)},Md.get());function nr(){Cr().clearTimeout(cn),ge(b)}b.ping(nr).then(nr,()=>{dt(Lt)})});return function(ge,dt){return Y.apply(this,arguments)}}()))}),Ie.apply(this,arguments)}const st={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rr{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ni="__/auth/handler",$r="emulator/auth/handler",Ri=encodeURIComponent("fac");function Wr(I,f,m,b,Y,ge){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.c)(function*(I,f,m,b,Y,ge){z(I.config.authDomain,I,"auth-domain-config-required"),z(I.config.apiKey,I,"invalid-api-key");const dt={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:b,v:K.SDK_VERSION,eventId:Y};if(f instanceof pi){f.setDefaultLanguage(I.languageCode),dt.providerId=f.providerId||"",(0,x.t7)(f.getCustomParameters())||(dt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[dr,ri]of Object.entries(ge||{}))dt[dr]=ri}if(f instanceof Hi){const dr=f.getScopes().filter(ri=>""!==ri);dr.length>0&&(dt.scopes=dr.join(","))}I.tenantId&&(dt.tid=I.tenantId);const Lt=dt;for(const dr of Object.keys(Lt))void 0===Lt[dr]&&delete Lt[dr];const cn=yield I._getAppCheckToken(),nr=cn?`#${Ri}=${encodeURIComponent(cn)}`:"";return`${function mo({config:I}){return I.emulator?nt(I,$r):`https://${I.authDomain}/${ni}`}(I)}?${(0,x.ik)(Lt).slice(1)}${nr}`})).apply(this,arguments)}const Mi="webStorageSupport",io=class ar{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=uu,this._overrideRedirectResult=Va}_openPopup(f,m,b,Y){var ge=this;return(0,l.c)(function*(){var dt;Be(null===(dt=ge.eventManagers[f._key()])||void 0===dt?void 0:dt.manager,"_initialize() not called before _openPopup()");const Lt=yield Wr(f,m,b,Le(),Y);return function Vr(I,f,m,b=500,Y=600){const ge=Math.max((window.screen.availHeight-Y)/2,0).toString(),dt=Math.max((window.screen.availWidth-b)/2,0).toString();let Lt="";const cn=Object.assign(Object.assign({},st),{width:b.toString(),height:Y.toString(),top:ge,left:dt}),nr=(0,x.Su)().toLowerCase();m&&(Lt=Gn(nr)?"_blank":m),dn(nr)&&(f=f||"http://localhost",cn.scrollbars="yes");const dr=Object.entries(cn).reduce((So,[Lo,yc])=>`${So}${Lo}=${yc},`,"");if(function Hn(I=(0,x.Su)()){var f;return _n(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(nr)&&"_self"!==Lt)return function si(I,f){const m=document.createElement("a");m.href=I,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Lt),new rr(null);const ri=window.open(f||"",Lt,dr);z(ri,I,"popup-blocked");try{ri.focus()}catch{}return new rr(ri)}(f,Lt,xa())})()}_openRedirect(f,m,b,Y){var ge=this;return(0,l.c)(function*(){return yield ge._originValidation(f),function il(I){Cr().location.href=I}(yield Wr(f,m,b,Le(),Y)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:Y,promise:ge}=this.eventManagers[m];return Y?Promise.resolve(Y):(Be(ge,"If manager is not set, promise should be"),ge)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,l.c)(function*(){const b=yield function H(I){return Ie.apply(this,arguments)}(f),Y=new gi(f);return b.register("authEvent",ge=>(z(null==ge?void 0:ge.authEvent,f,"invalid-auth-event"),{status:Y.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:Y},m.iframes[f._key()]=b,Y})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Mi,{type:Mi},Y=>{var ge;const dt=null===(ge=null==Y?void 0:Y[0])||void 0===ge?void 0:ge[Mi];void 0!==dt&&m(!!dt),We(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ci(I){return ua.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Br()||Rn()||_n()}};class $i{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return $e("unexpected MultiFactorSessionType")}}}class Ea extends $i{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ea(f)}_finalizeEnroll(f,m,b){return function Tr(I,f){return ut(I,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(I,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function P(I,f){return ut(I,"POST","/v2/accounts/mfaSignIn:finalize",Oe(I,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ko=(()=>{class I{constructor(){}static assertion(m){return Ea._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var _c="@firebase/auth";class ja{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.c)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hu=(0,x.sX)("authIdTokenMaxAge")||300;let Pd=null;const Ca=I=>function(){var f=(0,l.c)(function*(m){const b=m&&(yield m.getIdTokenResult()),Y=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(Y&&Y>hu)return;const ge=null==b?void 0:b.token;Pd!==ge&&(Pd=ge,yield fetch(I,{method:ge?"POST":"DELETE",headers:ge?{Authorization:`Bearer ${ge}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function xd(I=(0,K.getApp)()){const f=(0,K._getProvider)(I,"auth");if(f.isInitialized())return f.getImmediate();const m=function It(I,f){const m=(0,K._getProvider)(I,"auth");if(m.isInitialized()){const Y=m.getImmediate(),ge=m.getOptions();if((0,x.IN)(ge,null!=f?f:{}))return Y;We(Y,"already-initialized")}return m.initialize({options:f})}(I,{popupRedirectResolver:io,persistence:[y,Gl,Ks]}),b=(0,x.sX)("authTokenSyncURL");if(b){const ge=Ca(b);(function Xn(I,f,m){(0,x.Yj)(I).beforeAuthStateChanged(f,m)})(m,ge,()=>ge(m.currentUser)),function Ut(I,f,m,b){(0,x.Yj)(I).onIdTokenChanged(f,m,b)}(m,dt=>ge(dt))}const Y=(0,x.EB)("auth");return Y&&Wt(m,`http://${Y}`),m}(function xe(I){Re=I})({loadJS:I=>new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",I),b.onload=f,b.onerror=Y=>{const ge=Ke("internal-error");ge.customData=Y,m(ge)},b.type="text/javascript",b.charset="UTF-8",function Fu(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(b)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ss(I){(0,K._registerComponent)(new ce.Yl("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),Y=f.getProvider("heartbeat"),ge=f.getProvider("app-check-internal"),{apiKey:dt,authDomain:Lt}=b.options;z(dt&&!dt.includes(":"),"invalid-api-key",{appName:b.name});const cn={apiKey:dt,authDomain:Lt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mr(I)},nr=new Gr(b,Y,ge,cn);return function Ot(I,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(Pe);null!=f&&f.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(nr,m),nr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new ce.Yl("auth-internal",f=>{const m=Kn(f.getProvider("auth").getImmediate());return new ja(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(_c,"1.6.1",function Rh(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,K.registerVersion)(_c,"1.6.1","esm2017")}("Browser")},5718:(fn,at,O)=>{"use strict";O.d(at,{wP:()=>em,Km:()=>nc,Om:()=>rI,YD:()=>lo,E3:()=>Hc,UD:()=>qa,Mm:()=>Ut,Ez:()=>mh,EL:()=>Ih,uI:()=>Cu,kR:()=>Ni,k5:()=>R_,K2:()=>La,o1:()=>Mn,gH:()=>Fr,YX:()=>fi,K4:()=>mn,Qj:()=>pc,ss:()=>B,k1:()=>Yv,sB:()=>Eh,AX:()=>ip,cT:()=>OI,y0:()=>r0,oV:()=>hh,c7:()=>Jv,Cw:()=>Id,oh:()=>b_,cr:()=>PI,Mp:()=>Yg,UN:()=>e_,_Q:()=>ph,Ej:()=>Bf,If:()=>sI,eg:()=>Zf,Ar:()=>s0,Ws:()=>Mo,_M:()=>Du,i4:()=>C_,yS:()=>EI,cb:()=>Wc,uY:()=>D_,MP:()=>tm,aC:()=>CI,gZ:()=>iI,AF:()=>NI,Yf:()=>g_,_6:()=>gI,uG:()=>t_,ee:()=>aI,ag:()=>nm,oX:()=>oc,k$:()=>Zg,kt:()=>f_,C:()=>Ff,G6:()=>fh,k9:()=>MI,S:()=>xI,Sm:()=>w_,QN:()=>E,iW:()=>E_,SQ:()=>vI,kf:()=>mI,gD:()=>T_,cl:()=>oI,A9:()=>pI});var be,l=O(1528),x=O(9360),K=O(4920),ie=O(5976),we=O(7144),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae={},Xe=Xe||{},de=ce||self;function le(o){var e=typeof o;return"array"==(e="object"!=e?e:o?Array.isArray(o)?"array":e:"null")||"object"==e&&"number"==typeof o.length}function Ge(o){var e=typeof o;return"object"==e&&null!=o||"function"==e}var He="closure_uid_"+(1e9*Math.random()>>>0),qe=0;function ft(o,e,r){return o.call.apply(o.bind,arguments)}function Ye(o,e,r){if(!o)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),o.apply(e,c)}}return function(){return o.apply(e,arguments)}}function Ve(o,e,r){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:Ye).apply(null,arguments)}function Se(o,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),o.apply(this,s)}}function it(o,e){function r(){}r.prototype=e.prototype,o.$=e.prototype,o.prototype=new r,o.prototype.constructor=o,o.ac=function(s,c,d){for(var p=Array(arguments.length-2),A=2;A<arguments.length;A++)p[A-2]=arguments[A];return e.prototype[c].apply(s,p)}}function We(){this.s=this.s,this.o=this.o}We.prototype.s=!1,We.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function je(o){Object.prototype.hasOwnProperty.call(o,He)&&o[He]||(o[He]=++qe)}(this)},We.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qe=Array.prototype.indexOf?function(o,e){return Array.prototype.indexOf.call(o,e,void 0)}:function(o,e){if("string"==typeof o)return"string"!=typeof e||1!=e.length?-1:o.indexOf(e,0);for(let r=0;r<o.length;r++)if(r in o&&o[r]===e)return r;return-1};function ot(o){const e=o.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=o[s];return r}return[]}function me(o,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(le(s)){const c=o.length||0,d=s.length||0;o.length=c+d;for(let p=0;p<d;p++)o[c+p]=s[p]}else o.push(s)}}function z(o,e){this.type=o,this.g=this.target=e,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var $e=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var o=!1,e=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const r=()=>{};de.addEventListener("test",r,e),de.removeEventListener("test",r,e)}catch{}return o}();function Be(o){return/^[\s\xa0]*$/.test(o)}function Le(){var o=de.navigator;return o&&(o=o.userAgent)?o:""}function Ae(o){return-1!=Le().indexOf(o)}function ze(o){return ze[" "](o),o}ze[" "]=function(){};var ut,o,zt=Ae("Opera"),Pt=Ae("Trident")||Ae("MSIE"),nt=Ae("Edge"),Ee=nt||Pt,ve=Ae("Gecko")&&!(-1!=Le().toLowerCase().indexOf("webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),Me=-1!=Le().toLowerCase().indexOf("webkit")&&!Ae("Edge");function Oe(){var o=de.document;return o?o.documentMode:void 0}e:{var Ue="",Zt=(o=Le(),ve?/rv:([^\);]+)(\)|;)/.exec(o):nt?/Edge\/([\d\.]+)/.exec(o):Pt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Me?/WebKit\/(\S+)/.exec(o):zt?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(Zt&&(Ue=Zt?Zt[1]:""),Pt){var on=Oe();if(null!=on&&on>parseFloat(Ue)){ut=String(on);break e}}ut=Ue}var bn=de.document&&Pt&&(Oe()||parseInt(ut,10))||void 0;function tr(o,e){if(z.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var r=this.type=o.type,s=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=e,e=o.relatedTarget){if(ve){e:{try{ze(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==r?e=o.fromElement:"mouseout"==r&&(e=o.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType="string"==typeof o.pointerType?o.pointerType:qn[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&tr.$.h.call(this)}}it(tr,z);var qn={2:"touch",3:"pen",4:"mouse"};tr.prototype.h=function(){tr.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function wt(o,e,r,s,c){this.listener=o,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=c,this.key=++Dt,this.fa=this.ia=!1}function Ht(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function hn(o,e,r){for(const s in o)e.call(r,o[s],s,o)}function mt(o){const e={};for(const r in o)e[r]=o[r];return e}const wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kn(o,e){let r,s;for(let c=1;c<arguments.length;c++){for(r in s=arguments[c],s)o[r]=s[r];for(let d=0;d<wn.length;d++)r=wn[d],Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=s[r])}}function pr(o){this.src=o,this.g={},this.h=0}function mr(o,e){var r=e.type;if(r in o.g){var d,s=o.g[r],c=Qe(s,e);(d=0<=c)&&Array.prototype.splice.call(s,c,1),d&&(Ht(e),0==o.g[r].length&&(delete o.g[r],o.h--))}}function lr(o,e,r,s){for(var c=0;c<o.length;++c){var d=o[c];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return c}return-1}pr.prototype.add=function(o,e,r,s,c){var d=o.toString();(o=this.g[d])||(o=this.g[d]=[],this.h++);var p=lr(o,e,s,c);return-1<p?(e=o[p],r||(e.ia=!1)):((e=new wt(e,this.src,d,!!s,c)).ia=r,o.push(e)),e};var An="closure_lm_"+(1e6*Math.random()|0),$n={};function vr(o,e,r,s,c){if(s&&s.once)return Cn(o,e,r,s,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)vr(o,e[d],r,s,c);return null}return r=ai(r),o&&o[Ft]?o.O(e,r,Ge(s)?!!s.capture:!!s,c):di(o,e,r,!1,s,c)}function di(o,e,r,s,c,d){if(!e)throw Error("Invalid event type");var p=Ge(c)?!!c.capture:!!c,A=vn(o);if(A||(o[An]=A=new pr(o)),(r=A.add(e,r,s,p,d)).proxy)return r;if(s=function zn(){const e=Un;return function o(r){return e.call(o.src,o.listener,r)}}(),r.proxy=s,s.src=o,s.listener=r,o.addEventListener)$e||(c=p),void 0===c&&(c=!1),o.addEventListener(e.toString(),s,c);else if(o.attachEvent)o.attachEvent(Sn(e.toString()),s);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(s)}return r}function Cn(o,e,r,s,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Cn(o,e[d],r,s,c);return null}return r=ai(r),o&&o[Ft]?o.P(e,r,Ge(s)?!!s.capture:!!s,c):di(o,e,r,!0,s,c)}function Ir(o,e,r,s,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)Ir(o,e[d],r,s,c);else s=Ge(s)?!!s.capture:!!s,r=ai(r),o&&o[Ft]?(o=o.i,(e=String(e).toString())in o.g&&-1<(r=lr(d=o.g[e],r,s,c))&&(Ht(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete o.g[e],o.h--))):o&&(o=vn(o))&&(e=o.g[e.toString()],o=-1,e&&(o=lr(e,r,s,c)),(r=-1<o?e[o]:null)&&Fn(r))}function Fn(o){if("number"!=typeof o&&o&&!o.fa){var e=o.src;if(e&&e[Ft])mr(e.i,o);else{var r=o.type,s=o.proxy;e.removeEventListener?e.removeEventListener(r,s,o.capture):e.detachEvent?e.detachEvent(Sn(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=vn(e))?(mr(r,o),0==r.h&&(r.src=null,e[An]=null)):Ht(o)}}}function Sn(o){return o in $n?$n[o]:$n[o]="on"+o}function Un(o,e){if(o.fa)o=!0;else{e=new tr(e,this);var r=o.listener,s=o.la||o.src;o.ia&&Fn(o),o=r.call(s,e)}return o}function vn(o){return(o=o[An])instanceof pr?o:null}var sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ai(o){return"function"==typeof o?o:(o[sr]||(o[sr]=function(e){return o.handleEvent(e)}),o[sr])}function Dr(){We.call(this),this.i=new pr(this),this.S=this,this.J=null}function Bn(o,e){var r,s=o.J;if(s)for(r=[];s;s=s.J)r.push(s);if(o=o.S,s=e.type||e,"string"==typeof e)e=new z(e,o);else if(e instanceof z)e.target=e.target||o;else{var c=e;kn(e=new z(s,o),c)}if(c=!0,r)for(var d=r.length-1;0<=d;d--){var p=e.g=r[d];c=Zn(p,s,!0,e)&&c}if(c=Zn(p=e.g=o,s,!0,e)&&c,c=Zn(p,s,!1,e)&&c,r)for(d=0;d<r.length;d++)c=Zn(p=e.g=r[d],s,!1,e)&&c}function Zn(o,e,r,s){if(!(e=o.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==r){var A=p.listener,N=p.la||p.src;p.ia&&mr(o.i,p),c=!1!==A.call(N,s)&&c}}return c&&!s.defaultPrevented}it(Dr,We),Dr.prototype[Ft]=!0,Dr.prototype.removeEventListener=function(o,e,r,s){Ir(this,o,e,r,s)},Dr.prototype.N=function(){if(Dr.$.N.call(this),this.i){var e,o=this.i;for(e in o.g){for(var r=o.g[e],s=0;s<r.length;s++)Ht(r[s]);delete o.g[e],o.h--}}this.J=null},Dr.prototype.O=function(o,e,r,s){return this.i.add(String(o),e,!1,r,s)},Dr.prototype.P=function(o,e,r,s){return this.i.add(String(o),e,!0,r,s)};var wr=de.JSON.stringify;function Rt(){var o=F;let e=null;return o.g&&(e=o.g,o.g=o.g.next,o.g||(o.h=null),e.next=null),e}var Tt=new class Ei{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tt,o=>o.reset());class tt{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(o){var e=1;o=o.split(":");const r=[];for(;0<e&&o.length;)r.push(o.shift()),e--;return o.length&&r.push(o.join(":")),r}function he(o){de.setTimeout(()=>{throw o},0)}let Z,R=!1,F=new class et{constructor(){this.h=this.g=null}add(e,r){const s=Tt.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},pe=()=>{const o=de.Promise.resolve(void 0);Z=()=>{o.then(Pe)}};var Pe=()=>{for(var o;o=Rt();){try{o.h.call(o.g)}catch(r){he(r)}var e=Tt;e.j(o),100>e.h&&(e.h++,o.next=e.g,e.g=o)}R=!1};function ct(o,e){Dr.call(this),this.h=o||1,this.g=e||de,this.j=Ve(this.qb,this),this.l=Date.now()}function Mt(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}function xt(o,e,r){if("function"==typeof o)r&&(o=Ve(o,r));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Ve(o.handleEvent,o)}return 2147483647<Number(e)?-1:de.setTimeout(o,e||0)}function tn(o){o.g=xt(()=>{o.g=null,o.i&&(o.i=!1,tn(o))},o.j);const e=o.h;o.h=null,o.m.apply(null,e)}it(ct,Dr),(be=ct.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(Mt(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){ct.$.N.call(this),Mt(this),delete this.g};class Vt extends We{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tn(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(o){We.call(this),this.h=o,this.g={}}it(dn,We);var Rn=[];function Gn(o,e,r,s){Array.isArray(r)||(r&&(Rn[0]=r.toString()),r=Rn);for(var c=0;c<r.length;c++){var d=vr(e,r[c],s||o.handleEvent,!1,o.h||o);if(!d)break;o.g[d.key]=d}}function Jn(o){hn(o.g,function(e,r){this.g.hasOwnProperty(r)&&Fn(e)},o),o.g={}}function gt(){this.g=!0}function _n(o,e,r,s){o.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hn(o,e){if(!o.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(o=0;o<r.length;o++)if(Array.isArray(r[o])){var s=r[o];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<c.length;p++)c[p]=""}}}return wr(r)}catch{return e}}(o,r)+(s?" "+s:"")})}dn.prototype.N=function(){dn.$.N.call(this),Jn(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gt.prototype.Ea=function(){this.g=!1},gt.prototype.info=function(){};var er={},Br=null;function Ar(){return Br=Br||new Dr}function Mr(o){z.call(this,er.Ta,o)}function ki(o){const e=Ar();Bn(e,new Mr(e))}function so(o,e){z.call(this,er.STAT_EVENT,o),this.stat=e}function hr(o){const e=Ar();Bn(e,new so(e,o))}function Bi(o,e){z.call(this,er.Ua,o),this.size=e}function Ci(o,e){if("function"!=typeof o)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){o()},e)}er.Ta="serverreachability",it(Mr,z),er.STAT_EVENT="statevent",it(so,z),er.Ua="timingevent",it(Bi,z);var Gr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Kn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Eo(){}function xe(){}Eo.prototype.h=null;var Yt,X={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ce(){z.call(this,"d")}function pt(){z.call(this,"c")}function yn(){}function En(o,e,r,s){this.l=o,this.j=e,this.m=r,this.W=s||1,this.U=new dn(this),this.P=Qn,this.V=new ct(o=Ee?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}it(Ce,z),it(pt,z),it(yn,Eo),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Yt=new yn;var Qn=45e3,li={},Et={};function q(o,e,r){o.L=1,o.A=Er(se(e)),o.u=r,o.S=!0,te(o,null)}function te(o,e){o.G=Date.now(),Ot(o),o.B=se(o.A);var r=o.B,s=o.W;Array.isArray(s)||(s=[String(s)]),Po(r.i,"t",s),o.o=0,r=o.l.J,o.h=new Vn,o.g=Do(o.l,r?e:null,!o.u),0<o.O&&(o.M=new Vt(Ve(o.Pa,o,o.g),o.O)),Gn(o.U,o.g,"readystatechange",o.nb),e=o.I?mt(o.I):{},o.u?(o.v||(o.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.B,o.v,o.u,e)):(o.v="GET",o.g.ha(o.B,o.v,null,e)),ki(),function _t(o,e,r,s,c,d){o.info(function(){if(o.g)if(d)for(var p="",A=d.split("&"),N=0;N<A.length;N++){var W=A[N].split("=");if(1<W.length){var ne=W[0];W=W[1];var ke=ne.split("_");p=2<=ke.length&&"type"==ke[1]?p+(ne+"=")+W+"&":p+(ne+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+r+"\n"+p})}(o.j,o.v,o.B,o.m,o.W,o.u)}function Ze(o){return!!o.g&&"GET"==o.v&&2!=o.L&&o.l.Ha}function rt(o,e,r){let c,s=!0;for(;!o.J&&o.o<r.length;){if(c=It(o,r),c==Et){4==e&&(o.s=4,hr(14),s=!1),_n(o.j,o.m,null,"[Incomplete Response]");break}if(c==li){o.s=4,hr(15),_n(o.j,o.m,r,"[Invalid Chunk]"),s=!1;break}_n(o.j,o.m,c,null),rn(o,c)}Ze(o)&&0!=o.o&&(o.h.g=o.h.g.slice(o.o),o.o=0),4!=e||0!=r.length||o.h.h||(o.s=1,hr(16),s=!1),o.i=o.i&&s,s?0<r.length&&!o.ba&&(o.ba=!0,(e=o.l).g==o&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Jo(e),e.M=!0,hr(11))):(_n(o.j,o.m,r,"[Invalid Chunked Response]"),kt(o),en(o))}function It(o,e){var r=o.o,s=e.indexOf("\n",r);return-1==s?Et:(r=Number(e.substring(r,s)),isNaN(r)?li:(s+=1)+r>e.length?Et:(e=e.slice(s,s+r),o.o=s+r,e))}function Ot(o){o.Y=Date.now()+o.P,Wt(o,o.P)}function Wt(o,e){if(null!=o.C)throw Error("WatchDog timer not null");o.C=Ci(Ve(o.lb,o),e)}function un(o){o.C&&(de.clearTimeout(o.C),o.C=null)}function en(o){0==o.l.H||o.J||Gs(o.l,o)}function kt(o){un(o);var e=o.M;e&&"function"==typeof e.sa&&e.sa(),o.M=null,Mt(o.V),Jn(o.U),o.g&&(e=o.g,o.g=null,e.abort(),e.sa())}function rn(o,e){try{var r=o.l;if(0!=r.H&&(r.g==o||_r(r.i,o)))if(!o.K&&_r(r.i,o)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<o.G))break e;ws(r),j(r)}ho(r),hr(18)}}else r.Fa=c[1],0<r.Fa-r.V&&37500>c[2]&&r.G&&0==r.A&&!r.v&&(r.v=Ci(Ve(r.ib,r),6e3));if(1>=xo(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Ts(r,11)}else if((o.K||r.g==o)&&ws(r),!Be(e))for(c=r.Ja.g.parse(e),e=0;e<c.length;e++){let W=c[e];if(r.V=W[0],W=W[1],2==r.H)if("c"==W[0]){r.K=W[1],r.pa=W[2];const ne=W[3];null!=ne&&(r.ra=ne,r.l.info("VER="+r.ra));const ke=W[4];null!=ke&&(r.Ga=ke,r.l.info("SVER="+r.Ga));const lt=W[5];null!=lt&&"number"==typeof lt&&0<lt&&(r.L=s=1.5*lt,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Nt=o.g;if(Nt){const Dn=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var d=s.i;d.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Es(d,d.h),d.h=null))}if(s.F){const jn=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;jn&&(s.Da=jn,Qt(s.I,s.F,jn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-o.G,r.l.info("Handshake RTT: "+r.S+"ms"));var p=o;if((s=r).wa=bs(s,s.J?s.pa:null,s.Y),p.K){Cs(s.i,p);var A=p,N=s.L;N&&A.setTimeout(N),A.C&&(un(A),Ot(A)),s.g=p}else bi(s);0<r.j.length&&fe(r)}else"stop"!=W[0]&&"close"!=W[0]||Ts(r,7);else 3==r.H&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?Ts(r,7):Za(r):"noop"!=W[0]&&r.h&&r.h.Aa(W),r.A=0)}ki()}catch{}}function or(o,e){if(o.forEach&&"function"==typeof o.forEach)o.forEach(e,void 0);else if(le(o)||"string"==typeof o)Array.prototype.forEach.call(o,e,void 0);else for(var r=function Pn(o){if(o.ta&&"function"==typeof o.ta)return o.ta();if(!o.Z||"function"!=typeof o.Z){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(le(o)||"string"==typeof o){var e=[];o=o.length;for(var r=0;r<o;r++)e.push(r);return e}e=[],r=0;for(const s in o)e[r++]=s;return e}}}(o),s=function In(o){if(o.Z&&"function"==typeof o.Z)return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if("string"==typeof o)return o.split("");if(le(o)){for(var e=[],r=o.length,s=0;s<r;s++)e.push(o[s]);return e}for(s in e=[],r=0,o)e[r++]=o[s];return e}(o),c=s.length,d=0;d<c;d++)e.call(void 0,s[d],r&&r[d],o)}(be=En.prototype).setTimeout=function(o){this.P=o},be.nb=function(o){o=o.target;const e=this.M;e&&3==zi(o)?e.l():this.Pa(o)},be.Pa=function(o){try{if(o==this.g)e:{const ne=zi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ne)&&(3!=ne||Ee||this.g&&(this.h.h||this.g.ja()||nu(this.g)))){this.J||4!=ne||7==e||ki(),un(this);var r=this.g.da();this.ca=r;t:if(Ze(this)){var s=nu(this.g);o="";var c=s.length,d=4==zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),en(this);var p="";break t}this.h.i=new de.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,o+=this.h.i.decode(s[e],{stream:d&&e==c-1});s.length=0,this.h.g+=o,this.o=0,p=this.h.g}else p=this.g.ja();if(this.i=200==r,function Gt(o,e,r,s,c,d,p){o.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+r+"\n"+d+" "+p})}(this.j,this.v,this.B,this.m,this.W,ne,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,N=this.g;if((A=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(A)){var W=A;break t}}W=null}if(!(r=W)){this.i=!1,this.s=3,hr(12),kt(this),en(this);break e}_n(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,r)}this.S?(rt(this,ne,p),Ee&&this.i&&3==ne&&(Gn(this.U,this.V,"tick",this.mb),this.V.start())):(_n(this.j,this.m,p,null),rn(this,p)),4==ne&&kt(this),this.i&&!this.J&&(4==ne?Gs(this.l,this):(this.i=!1,Ot(this)))}else(function vl(o){const e={};o=(o.g&&2<=zi(o)&&o.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<o.length;s++){if(Be(o[s]))continue;var r=oe(o[s]);const c=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[c]||[];e[c]=d,d.push(r)}!function qt(o,e){for(const r in o)e.call(void 0,o[r],r,o)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<p.indexOf("Unknown SID")?(this.s=3,hr(12)):(this.s=0,hr(13)),kt(this),en(this)}}}catch{}},be.mb=function(){if(this.g){var o=zi(this.g),e=this.g.ja();this.o<e.length&&(un(this),rt(this,o,e),this.i&&4!=o&&Ot(this))}},be.cancel=function(){this.J=!0,kt(this)},be.lb=function(){this.C=null;const o=Date.now();0<=o-this.Y?(function ir(o,e){o.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ki(),hr(17)),kt(this),this.s=2,en(this)):Wt(this,this.Y-o)};var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof D){this.h=o.h,L(this,o.j),this.s=o.s,this.g=o.g,re(this,o.m),this.l=o.l;var e=o.i,r=new co;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),Ne(this,r),this.o=o.o}else o&&(e=String(o).match(ui))?(this.h=!1,L(this,e[1]||"",!0),this.s=Zr(e[2]||""),this.g=Zr(e[3]||"",!0),re(this,e[4]),this.l=Zr(e[5]||"",!0),Ne(this,e[6]||"",!0),this.o=Zr(e[7]||"")):(this.h=!1,this.i=new co(null,this.h))}function se(o){return new D(o)}function L(o,e,r){o.j=r?Zr(e,!0):e,o.j&&(o.j=o.j.replace(/:$/,""))}function re(o,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);o.m=e}else o.m=null}function Ne(o,e,r){e instanceof co?(o.i=e,function Qi(o,e){e&&!o.j&&(Yo(o),o.i=null,o.g.forEach(function(r,s){var c=s.toLowerCase();s!=c&&(hs(this,s),Po(this,c,r))},o)),o.j=e}(o.i,o.h)):(r||(e=Yr(e,uo)),o.i=new co(e,o.h))}function Qt(o,e,r){o.i.set(e,r)}function Er(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zr(o,e){return o?e?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Yr(o,e,r){return"string"==typeof o?(o=encodeURI(o).replace(e,xi),r&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function xi(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}D.prototype.toString=function(){var o=[],e=this.j;e&&o.push(Yr(e,Ko,!0),":");var r=this.g;return(r||"file"==e)&&(o.push("//"),(e=this.s)&&o.push(Yr(e,Ko,!0),"@"),o.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&o.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&o.push("/"),o.push(Yr(r,"/"==r.charAt(0)?Gi:Jr,!0))),(r=this.i.toString())&&o.push("?",r),(r=this.o)&&o.push("#",Yr(r,ur)),o.join("")};var Ko=/[#\/\?@]/g,Jr=/[#\?:]/g,Gi=/[#\?]/g,uo=/[#\?@]/g,ur=/#/g;function co(o,e){this.h=this.g=null,this.i=o||null,this.j=!!e}function Yo(o){o.g||(o.g=new Map,o.h=0,o.i&&function ii(o,e){if(o){o=o.split("&");for(var r=0;r<o.length;r++){var s=o[r].indexOf("="),c=null;if(0<=s){var d=o[r].substring(0,s);c=o[r].substring(s+1)}else d=o[r];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(o.i,function(e,r){o.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function hs(o,e){Yo(o),e=Yi(o,e),o.g.has(e)&&(o.i=null,o.h-=o.g.get(e).length,o.g.delete(e))}function vi(o,e){return Yo(o),e=Yi(o,e),o.g.has(e)}function Po(o,e,r){hs(o,e),0<r.length&&(o.i=null,o.g.set(Yi(o,e),ot(r)),o.h+=r.length)}function Yi(o,e){return e=String(e),o.j&&(e=e.toLowerCase()),e}(be=co.prototype).add=function(o,e){Yo(this),this.i=null,o=Yi(this,o);var r=this.g.get(o);return r||this.g.set(o,r=[]),r.push(e),this.h+=1,this},be.forEach=function(o,e){Yo(this),this.g.forEach(function(r,s){r.forEach(function(c){o.call(e,c,s,this)},this)},this)},be.ta=function(){Yo(this);const o=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const c=o[s];for(let d=0;d<c.length;d++)r.push(e[s])}return r},be.Z=function(o){Yo(this);let e=[];if("string"==typeof o)vi(this,o)&&(e=e.concat(this.g.get(Yi(this,o))));else{o=Array.from(this.g.values());for(let r=0;r<o.length;r++)e=e.concat(o[r])}return e},be.set=function(o,e){return Yo(this),this.i=null,vi(this,o=Yi(this,o))&&(this.h-=this.g.get(o).length),this.g.set(o,[e]),this.h+=1,this},be.get=function(o,e){return o&&0<(o=this.Z(o)).length?String(o[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=d;""!==p[s]&&(c+="="+encodeURIComponent(String(p[s]))),o.push(c)}}return this.i=o.join("&")};var Fo=class{constructor(o,e){this.g=o,this.map=e}};function Ta(o){this.l=o||to,o=de.PerformanceNavigationTiming?0<(o=de.performance.getEntriesByType("navigation")).length&&("hq"==o[0].nextHopProtocol||"h2"==o[0].nextHopProtocol):!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var to=10;function ta(o){return!!o.h||!!o.g&&o.g.size>=o.j}function xo(o){return o.h?1:o.g?o.g.size:0}function _r(o,e){return o.h?o.h==e:!!o.g&&o.g.has(e)}function Es(o,e){o.g?o.g.add(e):o.h=e}function Cs(o,e){o.h&&o.h==e?o.h=null:o.g&&o.g.has(e)&&o.g.delete(e)}function ji(o){if(null!=o.h)return o.i.concat(o.h.F);if(null!=o.g&&0!==o.g.size){let e=o.i;for(const r of o.g.values())e=e.concat(r.F);return e}return ot(o.i)}Ta.prototype.cancel=function(){if(this.i=ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const o of this.g.values())o.cancel();this.g.clear()}};var ba=class{stringify(o){return de.JSON.stringify(o,void 0)}parse(o){return de.JSON.parse(o,void 0)}};function Us(){this.g=new ba}function Si(o,e,r){const s=r||"";try{or(o,function(c,d){let p=c;Ge(c)&&(p=wr(c)),e.push(s+d+"="+encodeURIComponent(p))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function no(o,e,r,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Li(o){this.l=o.ec||null,this.j=o.ob||!1}function Vo(o,e){Dr.call(this),this.F=o,this.u=e,this.m=void 0,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(Li,Eo),Li.prototype.g=function(){return new Vo(this.l,this.j)},Li.prototype.i=function(o){return function(){return o}}({}),it(Vo,Dr);var Qo=0;function $o(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}function pi(o){o.readyState=4,o.l=null,o.j=null,o.A=null,Hi(o)}function Hi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}(be=Vo.prototype).open=function(o,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=e,this.readyState=1,Hi(this)},be.send=function(o){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(e.body=o),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pi(this)),this.readyState=Qo},be.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if("arraybuffer"===this.responseType)o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$o(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var e=o.value?o.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!o.done}))&&(this.response=this.responseText+=e)}o.done?pi(this):Hi(this),3==this.readyState&&$o(this)}},be.Za=function(o){this.g&&(this.response=this.responseText=o,pi(this))},be.Ya=function(o){this.g&&(this.response=o,pi(this))},be.ka=function(){this.g&&pi(this)},be.setRequestHeader=function(o,e){this.v.append(o,e)},be.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],e=this.h.entries();for(var r=e.next();!r.done;)o.push((r=r.value)[0]+": "+r[1]),r=e.next();return o.join("\r\n")},Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(o){this.m=o?"include":"same-origin"}});var Xo=de.JSON.parse;function _i(o){Dr.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qa,this.L=this.M=!1}it(_i,Dr);var Qa="",Ll=/^https?$/i,gl=["POST","PUT"];function Xa(o,e){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=e,o.m=5,ml(o),fs(o)}function ml(o){o.F||(o.F=!0,Bn(o,"complete"),Bn(o,"error"))}function Fl(o){if(o.h&&typeof Xe<"u"&&(!o.C[1]||4!=zi(o)||2!=o.da()))if(o.v&&4==zi(o))xt(o.La,0,o);else if(Bn(o,"readystatechange"),4==zi(o)){o.h=!1;try{const p=o.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===p){var c=String(o.I).match(ui)[1]||null;!c&&de.self&&de.self.location&&(c=de.self.location.protocol.slice(0,-1)),s=!Ll.test(c?c.toLowerCase():"")}r=s}if(r)Bn(o,"complete"),Bn(o,"success");else{o.m=6;try{var d=2<zi(o)?o.g.statusText:""}catch{d=""}o.j=d+" ["+o.da()+"]",ml(o)}}finally{fs(o)}}}function fs(o,e){if(o.g){Bs(o);const r=o.g,s=o.C[0]?()=>{}:null;o.g=null,o.C=null,e||Bn(o,"ready");try{r.onreadystatechange=s}catch{}}}function Bs(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(de.clearTimeout(o.A),o.A=null)}function zi(o){return o.g?o.g.readyState:0}function nu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case Qa:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function na(o){let e="";return hn(o,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function Aa(o,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=na(r),"string"==typeof o?null!=r&&encodeURIComponent(String(r)):Qt(o,e,r))}function Zo(o,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[o]||e}function Vl(o){this.Ga=0,this.j=[],this.l=new gt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zo("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zo("baseRetryDelayMs",5e3,o),this.hb=Zo("retryDelaySeedMs",1e4,o),this.eb=Zo("forwardChannelMaxRetries",2,o),this.xa=Zo("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new Ta(o&&o.concurrentRequestLimit),this.Ja=new Us,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Za(o){if(k(o),3==o.H){var e=o.W++,r=se(o.I);if(Qt(r,"SID",o.K),Qt(r,"RID",e),Qt(r,"TYPE","terminate"),sn(o,r),(e=new En(o,o.l,e)).L=2,e.A=Er(se(r)),r=!1,de.navigator&&de.navigator.sendBeacon)try{r=de.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&de.Image&&((new Image).src=e.A,r=!0),r||(e.g=Do(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ot(e)}Sa(o)}function j(o){o.g&&(Jo(o),o.g.cancel(),o.g=null)}function k(o){j(o),o.u&&(de.clearTimeout(o.u),o.u=null),ws(o),o.i.cancel(),o.m&&("number"==typeof o.m&&de.clearTimeout(o.m),o.m=null)}function fe(o){if(!ta(o.i)&&!o.m){o.m=!0;var e=o.Na;Z||pe(),R||(Z(),R=!0),F.add(e,o),o.C=0}}function Te(o,e){var r;r=e?e.m:o.W++;const s=se(o.I);Qt(s,"SID",o.K),Qt(s,"RID",r),Qt(s,"AID",o.V),sn(o,s),o.o&&o.s&&Aa(s,o.o,o.s),r=new En(o,o.l,r,o.C+1),null===o.o&&(r.I=o.s),e&&(o.j=e.F.concat(o.j)),e=Tn(o,r,1e3),r.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),Es(o.i,r),q(r,s,e)}function sn(o,e){o.na&&hn(o.na,function(r,s){Qt(e,s,r)}),o.h&&or({},function(r,s){Qt(e,s,r)})}function Tn(o,e,r){r=Math.min(o.j.length,r);var s=o.h?Ve(o.h.Va,o.h,o):null;e:{var c=o.j;let d=-1;for(;;){const p=["count="+r];-1==d?0<r?(d=c[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let A=!0;for(let N=0;N<r;N++){let W=c[N].g;const ne=c[N].map;if(W-=d,0>W)d=Math.max(0,c[N].g-100),A=!1;else try{Si(ne,p,"req"+W+"_")}catch{s&&s(ne)}}if(A){s=p.join("&");break e}}}return o=o.j.splice(0,r),e.F=o,s}function bi(o){if(!o.g&&!o.u){o.ba=1;var e=o.Ma;Z||pe(),R||(Z(),R=!0),F.add(e,o),o.A=0}}function ho(o){return!(o.g||o.u||3<=o.A||(o.ba++,o.u=Ci(Ve(o.Ma,o),vo(o,o.A)),o.A++,0))}function Jo(o){null!=o.B&&(de.clearTimeout(o.B),o.B=null)}function xr(o){o.g=new En(o,o.l,"rpc",o.ba),null===o.o&&(o.g.I=o.s),o.g.O=0;var e=se(o.wa);Qt(e,"RID","rpc"),Qt(e,"SID",o.K),Qt(e,"AID",o.V),Qt(e,"CI",o.G?"0":"1"),!o.G&&o.qa&&Qt(e,"TO",o.qa),Qt(e,"TYPE","xmlhttp"),sn(o,e),o.o&&o.s&&Aa(e,o.o,o.s),o.L&&o.g.setTimeout(o.L);var r=o.g;o=o.pa,r.L=1,r.A=Er(se(e)),r.u=null,r.S=!0,te(r,o)}function ws(o){null!=o.v&&(de.clearTimeout(o.v),o.v=null)}function Gs(o,e){var r=null;if(o.g==e){ws(o),Jo(o),o.g=null;var s=2}else{if(!_r(o.i,e))return;r=e.F,Cs(o.i,e),s=1}if(0!=o.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var c=o.C;Bn(s=Ar(),new Bi(s,r)),fe(o)}else bi(o);else if(3==(c=e.s)||0==c&&0<e.ca||!(1==s&&function G(o,e){return!(xo(o.i)>=o.i.j-(o.m?1:0)||(o.m?(o.j=e.F.concat(o.j),0):1==o.H||2==o.H||o.C>=(o.cb?0:o.eb)||(o.m=Ci(Ve(o.Na,o,e),vo(o,o.C)),o.C++,0)))}(o,e)||2==s&&ho(o)))switch(r&&0<r.length&&(e=o.i,e.i=e.i.concat(r)),c){case 1:Ts(o,5);break;case 4:Ts(o,10);break;case 3:Ts(o,6);break;default:Ts(o,2)}}function vo(o,e){let r=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(r*=2),r*e}function Ts(o,e){if(o.l.info("Error code "+e),2==e){var r=null;o.h&&(r=null);var s=Ve(o.pb,o);r||(r=new D("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||L(r,"https"),Er(r)),function Co(o,e){const r=new gt;if(de.Image){const s=new Image;s.onload=Se(no,r,s,"TestLoadImage: loaded",!0,e),s.onerror=Se(no,r,s,"TestLoadImage: error",!1,e),s.onabort=Se(no,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=Se(no,r,s,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=o}else e(!1)}(r.toString(),s)}else hr(2);o.H=0,o.h&&o.h.za(e),Sa(o),k(o)}function Sa(o){if(o.H=0,o.ma=[],o.h){const e=ji(o.i);(0!=e.length||0!=o.j.length)&&(me(o.ma,e),me(o.ma,o.j),o.i.i.length=0,ot(o.j),o.j.length=0),o.h.ya()}}function bs(o,e,r){var s=r instanceof D?se(r):new D(r);if(""!=s.g)e&&(s.g=e+"."+s.g),re(s,s.m);else{var c=de.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var d=new D(null);s&&L(d,s),e&&(d.g=e),c&&re(d,c),r&&(d.l=r),s=d}return e=o.Da,(r=o.F)&&e&&Qt(s,r,e),Qt(s,"VER",o.ra),sn(o,s),s}function Do(o,e,r){if(e&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(o.Ha&&!o.va?new Li({ob:r}):o.va)).Oa(o.J),e}function As(){}function js(){if(Pt&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function _o(o,e){Dr.call(this),this.g=new Vl(e),this.l=o,this.h=e&&e.messageUrlParams||null,o=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(o?o["X-WebChannel-Content-Type"]=e.messageContentType:o={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(o?o["X-WebChannel-Client-Profile"]=e.Ca:o={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=o,(o=e&&e.cc)&&!Be(o)&&(this.g.o=o),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.F=e,null!==(o=this.h)&&e in o&&e in(o=this.h)&&delete o[e]),this.j=new Hs(this)}function wo(o){Ce.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var e=o.__sm__;if(e){e:{for(const r in e){o=r;break e}o=void 0}(this.i=o)&&(o=this.i,e=null!==e&&o in e?e[o]:void 0),this.data=e}else this.data=o}function Ss(){pt.call(this),this.status=1}function Hs(o){this.g=o}function yo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ra(o,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(c=0;16>c;++c)s[c]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=o.g[3],p=(e=o.g[0])+(d^(r=o.g[1])&((c=o.g[2])^d))+s[0]+3614090360&4294967295;p=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=(r=(c=(d=(e=r+(p<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(c^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(r^c))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=c+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^c&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^d&(r^c))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(r^c))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^c&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(c^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(r^c^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^c^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^c)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=r+(c^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(c^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=r+((p=e+(c^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((c=d+((p=c+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,o.g[0]=o.g[0]+e&4294967295,o.g[1]=o.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,o.g[2]=o.g[2]+c&4294967295,o.g[3]=o.g[3]+d&4294967295}function ei(o,e){this.h=e;for(var r=[],s=!0,c=o.length-1;0<=c;c--){var d=0|o[c];s&&d==e||(r[c]=d,s=!1)}this.g=r}(be=_i.prototype).Oa=function(o){this.M=o},be.ha=function(o,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);e=e?e.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yt.g(),this.C=function Re(o){return o.h||(o.h=o.i())}(this.u?this.u:Yt),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(e,String(o),!0),this.G=!1}catch(d){return void Xa(this,d)}if(o=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)r.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),c=de.FormData&&o instanceof de.FormData,!(0<=Qe(gl,e))||s||c||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of r)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bs(this),0<this.B&&((this.L=function Ds(o){return Pt&&"number"==typeof o.timeout&&void 0!==o.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=xt(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(d){Xa(this,d)}},be.ua=function(){typeof Xe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},be.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,Bn(this,"complete"),Bn(this,"abort"),fs(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fs(this,!0)),_i.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?Fl(this):this.kb())},be.kb=function(){Fl(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(o){if(this.g){var e=this.g.responseText;return o&&0==e.indexOf(o)&&(e=e.substring(o.length)),Xo(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=Vl.prototype).ra=8,be.H=1,be.Na=function(o){if(this.m)if(this.m=null,1==this.H){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const c=new En(this,this.l,o);let d=this.s;if(this.U&&(d?(d=mt(d),kn(d,this.U)):d=this.U),null!==this.o||this.O||(c.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Tn(this,c,e),Qt(r=se(this.I),"RID",o),Qt(r,"CVER",22),this.F&&Qt(r,"X-HTTP-Session-Id",this.F),sn(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(na(d)))+"&"+e:this.o&&Aa(r,this.o,d)),Es(this.i,c),this.bb&&Qt(r,"TYPE","init"),this.P?(Qt(r,"$req",e),Qt(r,"SID","null"),c.aa=!0,q(c,r,null)):q(c,r,e),this.H=2}}else 3==this.H&&(o?Te(this,o):0==this.j.length||ta(this.i)||Te(this))},be.Ma=function(){if(this.u=null,xr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=Ci(Ve(this.jb,this),o)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hr(10),j(this),xr(this))},be.ib=function(){null!=this.v&&(this.v=null,j(this),ho(this),hr(19))},be.pb=function(o){o?(this.l.info("Successfully pinged google.com"),hr(2)):(this.l.info("Failed to ping google.com"),hr(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=As.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},js.prototype.g=function(o,e){return new _o(o,e)},it(_o,Dr),_o.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,e=this.l,r=this.h||void 0;hr(0),o.Y=e,o.na=r||{},o.G=o.aa,o.I=bs(o,null,o.Y),fe(o)},_o.prototype.close=function(){Za(this.g)},_o.prototype.u=function(o){var e=this.g;if("string"==typeof o){var r={};r.__data__=o,o=r}else this.v&&((r={}).__data__=wr(o),o=r);e.j.push(new Fo(e.fb++,o)),3==e.H&&fe(e)},_o.prototype.N=function(){this.g.h=null,delete this.j,Za(this.g),delete this.g,_o.$.N.call(this)},it(wo,Ce),it(Ss,pt),it(Hs,As),Hs.prototype.Ba=function(){Bn(this.g,"a")},Hs.prototype.Aa=function(o){Bn(this.g,new wo(o))},Hs.prototype.za=function(o){Bn(this.g,new Ss)},Hs.prototype.ya=function(){Bn(this.g,"b")},it(yo,function $l(){this.blockSize=-1}),yo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yo.prototype.j=function(o,e){void 0===e&&(e=o.length);for(var r=e-this.blockSize,s=this.m,c=this.h,d=0;d<e;){if(0==c)for(;d<=r;)ra(this,o,d),d+=this.blockSize;if("string"==typeof o){for(;d<e;)if(s[c++]=o.charCodeAt(d++),c==this.blockSize){ra(this,s),c=0;break}}else for(;d<e;)if(s[c++]=o[d++],c==this.blockSize){ra(this,s),c=0;break}}this.h=c,this.i+=e},yo.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var e=1;e<o.length-8;++e)o[e]=0;var r=8*this.i;for(e=o.length-8;e<o.length;++e)o[e]=255&r,r/=256;for(this.j(o),o=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)o[r++]=this.g[e]>>>s&255;return o};var Ra={};function _l(o){return-128<=o&&128>o?function Ct(o,e){var r=Ra;return Object.prototype.hasOwnProperty.call(r,o)?r[o]:r[o]=e(o)}(o,function(e){return new ei([0|e],0>e?-1:0)}):new ei([0|o],0>o?-1:0)}function ro(o){if(isNaN(o)||!isFinite(o))return Ja;if(0>o)return Wi(ro(-o));for(var e=[],r=1,s=0;o>=r;s++)e[s]=o/r|0,r*=Rs;return new ei(e,0)}var Rs=4294967296,Ja=_l(0),Ma=_l(1),Ul=_l(16777216);function ps(o){if(0!=o.h)return!1;for(var e=0;e<o.g.length;e++)if(0!=o.g[e])return!1;return!0}function Uo(o){return-1==o.h}function Wi(o){for(var e=o.g.length,r=[],s=0;s<e;s++)r[s]=~o.g[s];return new ei(r,~o.h).add(Ma)}function yi(o,e){return o.add(Wi(e))}function Ii(o,e){for(;(65535&o[e])!=o[e];)o[e+1]+=o[e]>>>16,o[e]&=65535,e++}function Ws(o,e){this.g=o,this.h=e}function ia(o,e){if(ps(e))throw Error("division by zero");if(ps(o))return new Ws(Ja,Ja);if(Uo(o))return e=ia(Wi(o),e),new Ws(Wi(e.g),Wi(e.h));if(Uo(e))return e=ia(o,Wi(e)),new Ws(Wi(e.g),e.h);if(30<o.g.length){if(Uo(o)||Uo(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Ma,s=e;0>=s.X(o);)r=ru(r),s=ru(s);var c=jt(r,1),d=jt(s,1);for(s=jt(s,2),r=jt(r,2);!ps(s);){var p=d.add(s);0>=p.X(o)&&(c=c.add(r),d=p),s=jt(s,1),r=jt(r,1)}return e=yi(o,c.R(e)),new Ws(c,e)}for(c=Ja;0<=o.X(e);){for(r=Math.max(1,Math.floor(o.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),p=(d=ro(r)).R(e);Uo(p)||0<p.X(o);)p=(d=ro(r-=s)).R(e);ps(d)&&(d=Ma),c=c.add(d),o=yi(o,p)}return new Ws(c,o)}function ru(o){for(var e=o.g.length+1,r=[],s=0;s<e;s++)r[s]=o.D(s)<<1|o.D(s-1)>>>31;return new ei(r,o.h)}function jt(o,e){var r=e>>5;e%=32;for(var s=o.g.length-r,c=[],d=0;d<s;d++)c[d]=0<e?o.D(d+r)>>>e|o.D(d+r+1)<<32-e:o.D(d+r);return new ei(c,o.h)}(be=ei.prototype).ea=function(){if(Uo(this))return-Wi(this).ea();for(var o=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);o+=(0<=s?s:Rs+s)*e,e*=Rs}return o},be.toString=function(o){if(2>(o=o||10)||36<o)throw Error("radix out of range: "+o);if(ps(this))return"0";if(Uo(this))return"-"+Wi(this).toString(o);for(var e=ro(Math.pow(o,6)),r=this,s="";;){var c=ia(r,e).g,d=((0<(r=yi(r,c.R(e))).g.length?r.g[0]:r.h)>>>0).toString(o);if(ps(r=c))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},be.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h},be.X=function(o){return Uo(o=yi(this,o))?-1:ps(o)?0:1},be.abs=function(){return Uo(this)?Wi(this):this},be.add=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0,c=0;c<=e;c++){var d=s+(65535&this.D(c))+(65535&o.D(c)),p=(d>>>16)+(this.D(c)>>>16)+(o.D(c)>>>16);s=p>>>16,r[c]=(p&=65535)<<16|(d&=65535)}return new ei(r,-2147483648&r[r.length-1]?-1:0)},be.R=function(o){if(ps(this)||ps(o))return Ja;if(Uo(this))return Uo(o)?Wi(this).R(Wi(o)):Wi(Wi(this).R(o));if(Uo(o))return Wi(this.R(Wi(o)));if(0>this.X(Ul)&&0>o.X(Ul))return ro(this.ea()*o.ea());for(var e=this.g.length+o.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<o.g.length;c++){var d=this.D(s)>>>16,p=65535&this.D(s),A=o.D(c)>>>16,N=65535&o.D(c);r[2*s+2*c]+=p*N,Ii(r,2*s+2*c),r[2*s+2*c+1]+=d*N,Ii(r,2*s+2*c+1),r[2*s+2*c+1]+=p*A,Ii(r,2*s+2*c+1),r[2*s+2*c+2]+=d*A,Ii(r,2*s+2*c+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new ei(r,0)},be.gb=function(o){return ia(this,o).h},be.and=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&o.D(s);return new ei(r,this.h&o.h)},be.or=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|o.D(s);return new ei(r,this.h|o.h)},be.xor=function(o){for(var e=Math.max(this.g.length,o.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^o.D(s);return new ei(r,this.h^o.h)},js.prototype.createWebChannel=js.prototype.g,_o.prototype.send=_o.prototype.u,_o.prototype.open=_o.prototype.m,_o.prototype.close=_o.prototype.close,Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Kn.COMPLETE="complete",xe.EventType=X,X.OPEN="a",X.CLOSE="b",X.ERROR="c",X.MESSAGE="d",Dr.prototype.listen=Dr.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,yo.prototype.digest=yo.prototype.l,yo.prototype.reset=yo.prototype.reset,yo.prototype.update=yo.prototype.j,ei.prototype.add=ei.prototype.add,ei.prototype.multiply=ei.prototype.R,ei.prototype.modulo=ei.prototype.gb,ei.prototype.compare=ei.prototype.X,ei.prototype.toNumber=ei.prototype.ea,ei.prototype.toString=ei.prototype.toString,ei.prototype.getBits=ei.prototype.D,ei.fromNumber=ro,ei.fromString=function fr(o,e){if(0==o.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==o.charAt(0))return Wi(fr(o.substring(1),e));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ro(Math.pow(e,8)),s=Ja,c=0;c<o.length;c+=8){var d=Math.min(8,o.length-c),p=parseInt(o.substring(c,c+d),e);8>d?(d=ro(Math.pow(e,d)),s=s.R(d).add(ro(p))):s=(s=s.R(r)).add(ro(p))}return s};var jr=ae.createWebChannelTransport=function(){return new js},el=ae.getStatEventTarget=function(){return Ar()},Pa=ae.ErrorCode=Gr,oi=ae.EventType=Kn,Bl=ae.Event=er,oa=ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zs=(ae.FetchXmlHttpFactory=Li,ae.WebChannel=xe),yl=ae.XhrIo=_i,sa=ae.Md5=yo,Ms=ae.Integer=ei;const tl="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let qi="10.8.1";const ms=new ie.YJ("@firebase/firestore");function Di(){return ms.logLevel}function E(o){ms.setLogLevel(o)}function M(o,...e){if(ms.logLevel<=ie.Ge.DEBUG){const r=e.map(ue);ms.debug(`Firestore (${qi}): ${o}`,...r)}}function De(o,...e){if(ms.logLevel<=ie.Ge.ERROR){const r=e.map(ue);ms.error(`Firestore (${qi}): ${o}`,...r)}}function B(o,...e){if(ms.logLevel<=ie.Ge.WARN){const r=e.map(ue);ms.warn(`Firestore (${qi}): ${o}`,...r)}}function ue(o){if("string"==typeof o)return o;try{return JSON.stringify(o)}catch{return o}}function _e(o="Unexpected state"){const e=`FIRESTORE (${qi}) INTERNAL ASSERTION FAILED: `+o;throw De(e),new Error(e)}function ht(o,e){o||_e()}function mn(o,e){o||_e()}function Xt(o,e){return o}const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends we.kx{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Pr{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ti{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class Oi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ps{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let c=this.i;const d=W=>this.i!==c?(c=this.i,r(W)):Promise.resolve();let p=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Xn,e.enqueueRetryable(()=>d(this.currentUser))};const A=()=>{const W=p;e.enqueueRetryable((0,l.c)(function*(){yield W.promise,yield d(s.currentUser)}))},N=W=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Xn)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ht("string"==typeof s.accessToken),new Pr(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new kr(e)}}class es{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xi{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new es(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,M("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const c=d=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht("string"==typeof r.token),this.R=r.token,new wi(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ha(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(o);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<o;s++)r[s]=Math.floor(256*Math.random());return r}class nl{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=ha(40);for(let d=0;d<c.length;++d)s.length<20&&c[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return s}}function Tr(o,e){return o<e?-1:o>e?1:0}function Il(o,e,r){return o.length===e.length&&o.every((s,c)=>r(s,e[c]))}function Au(o){return o+"\0"}class Ni{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ut(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ut(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ut(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ni.fromMillis(Date.now())}static fromDate(e){return Ni.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Ni(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tr(this.nanoseconds,e.nanoseconds):Tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ln(e)}static min(){return new Ln(new Ni(0,0))}static max(){return new Ln(new Ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Io{constructor(e,r,s){void 0===r?r=0:r>e.length&&_e(),void 0===s?s=e.length-r:s>e.length-r&&_e(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Io.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let c=0;c<s;c++){const d=e.get(c),p=r.get(c);if(d<p)return-1;if(d>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class zr extends Io{construct(e,r,s){return new zr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ut(vt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new zr(r)}static emptyPath(){return new zr([])}}const xs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Io{construct(e,r,s){return new Fr(e,r,s)}static isValidIdentifier(e){return xs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const r=[];let s="",c=0;const d=()=>{if(0===s.length)throw new Ut(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;c<e.length;){const A=e[c];if("\\"===A){if(c+1===e.length)throw new Ut(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[c+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new Ut(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,c+=2}else"`"===A?(p=!p,c++):"."!==A||p?(s+=A,c++):(d(),c++)}if(d(),p)throw new Ut(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(r)}static emptyPath(){return new Fr([])}}class Mn{constructor(e){this.path=e}static fromPath(e){return new Mn(zr.fromString(e))}static fromName(e){return new Mn(zr.fromString(e).popFirst(5))}static empty(){return new Mn(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return zr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mn(new zr(e.slice()))}}class rl{constructor(e,r,s,c){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=c}}function Oo(o){return o.fields.find(e=>2===e.kind)}function qs(o){return o.fields.filter(e=>2!==e.kind)}rl.UNKNOWN_ID=-1;class ao{constructor(e,r){this.fieldPath=e,this.kind=r}}class fa{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new fa(0,ts.min())}}function dc(o,e){const r=o.toTimestamp().seconds,s=o.toTimestamp().nanoseconds+1,c=Ln.fromTimestamp(1e9===s?new Ni(r+1,0):new Ni(r,s));return new ts(c,Mn.empty(),e)}function xa(o){return new ts(o.readTime,o.key,-1)}class ts{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new ts(Ln.min(),Mn.empty(),-1)}static max(){return new ts(Ln.max(),Mn.empty(),-1)}}function Cr(o,e){let r=o.readTime.compareTo(e.readTime);return 0!==r?r:(r=Mn.comparator(o.documentKey,e.documentKey),0!==r?r:Tr(o.largestBatchId,e.largestBatchId))}const il="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ys(o){return ol.apply(this,arguments)}function ol(){return ol=(0,l.c)(function*(o){if(o.code!==vt.FAILED_PRECONDITION||o.message!==il)throw o;M("LocalStore","Unexpectedly lost primary lease")}),ol.apply(this,arguments)}class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new bt((s,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,c)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):bt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):bt.reject(r)}static resolve(e){return new bt((r,s)=>{r(e)})}static reject(e){return new bt((r,s)=>{s(e)})}static waitFor(e){return new bt((r,s)=>{let c=0,d=0,p=!1;e.forEach(A=>{++c,A.next(()=>{++d,p&&d===c&&r()},N=>s(N))}),p=!0,d===c&&r()})}static or(e){let r=bt.resolve(!1);for(const s of e)r=r.next(c=>c?bt.resolve(c):s());return r}static forEach(e,r){const s=[];return e.forEach((c,d)=>{s.push(r.call(this,c,d))}),this.waitFor(s)}static mapArray(e,r){return new bt((s,c)=>{const d=e.length,p=new Array(d);let A=0;for(let N=0;N<d;N++){const W=N;r(e[W]).next(ne=>{p[W]=ne,++A,A===d&&s(p)},ne=>c(ne))}})}static doWhile(e,r){return new bt((s,c)=>{const d=()=>{!0===e()?r().next(()=>{d()},c):s()};d()})}}class sl{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Xn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Qs(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const c=Bo(s.target.error);this.V.reject(new Qs(e,c))}}static open(e,r,s,c){try{return new sl(r,e.transaction(c,s))}catch(d){throw new Qs(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new ga(r)}}class fo{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===fo.S((0,we.Su)())&&De("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),ns(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,we.yy)())return!1;if(fo.C())return!0;const e=(0,we.Su)(),r=fo.S(e),s=0<r&&r<10,c=fo.v(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,l.c)(function*(){return r.db||(M("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,c)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{c(new Qs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const A=p.target.error;c("VersionError"===A.name?new Ut(vt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Ut(vt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Qs(e,A))},d.onupgradeneeded=p=>{M("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.p.N(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{M("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,c){var d=this;return(0,l.c)(function*(){const p="readonly"===r;let A=0;for(;;){++A;try{d.db=yield d.O(e);const N=sl.open(d.db,e,p?"readonly":"readwrite",s),W=c(N).next(ne=>(N.g(),ne)).catch(ne=>(N.abort(ne),bt.reject(ne))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,ne="FirebaseError"!==W.name&&A<3;if(M("SimpleDb","Transaction failed with error:",W.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iu{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ns(this.k.delete())}}class Qs extends Ut{constructor(e,r){super(vt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Os(o){return"IndexedDbTransactionError"===o.name}class ga{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(M("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ns(s)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),ns(this.store.add(e))}get(e){return ns(this.store.get(e)).next(r=>(void 0===r&&(r=null),M("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),ns(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),ns(this.store.count())}W(e,r){const s=this.options(e,r),c=s.index?this.store.index(s.index):this.store;if("function"==typeof c.getAll){const d=c.getAll(s.range);return new bt((p,A)=>{d.onerror=N=>{A(N.target.error)},d.onsuccess=N=>{p(N.target.result)}})}{const d=this.cursor(s),p=[];return this.G(d,(A,N)=>{p.push(N)}).next(()=>p)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new bt((c,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{c(p.target.result)}})}H(e,r){M("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const c=this.cursor(s);return this.G(c,(d,p,A)=>A.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const c=this.cursor(s);return this.G(c,r)}Z(e){const r=this.cursor({});return new bt((s,c)=>{r.onerror=d=>{const p=Bo(d.target.error);c(p)},r.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(A=>{A?p.continue():s()}):s()}})}G(e,r){const s=[];return new bt((c,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const A=p.target.result;if(!A)return void c();const N=new iu(A),W=r(A.primaryKey,A.value,N);if(W instanceof bt){const ne=W.catch(ke=>(N.done(),bt.reject(ke)));s.push(ne)}N.isDone?c():null===N.$?A.continue():A.continue(N.$)}}).next(()=>bt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ns(o){return new bt((e,r)=>{o.onsuccess=s=>{e(s.target.result)},o.onerror=s=>{const c=Bo(s.target.error);r(c)}})}let rs=!1;function Bo(o){const e=fo.S((0,we.Su)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(r)>=0){const s=new Ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rs||(rs=!0,setTimeout(()=>{throw s},0)),s}}return o}class is{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;M("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.c)(function*(){r.task=null;try{M("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){Os(s)?M("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Ys(s)}yield r.ee(6e4)}))}}class Ti{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,l.c)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let c=r,d=!0;return bt.doWhile(()=>!0===d&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return M("IndexBackfiller",`Processing collection: ${p}`),this.re(e,p,c).next(A=>{c-=A,s.add(p)});d=!1})).next(()=>r-c)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(c,d)).next(A=>(M("IndexBackfiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,r,A))).next(()=>p.size)}))}ie(e,r){let s=e;return r.changes.forEach((c,d)=>{const p=xa(d);Cr(p,s)>0&&(s=p)}),new ts(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Ns=(()=>{class o{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=c=>this.se(c),this.oe=c=>s.writeSequenceNumber(c))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return o._e=-1,o})();function Go(o){return null==o}function vs(o){return 0===o&&1/o==-1/0}function Su(o){return"number"==typeof o&&Number.isInteger(o)&&!vs(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}function To(o){let e="";for(let r=0;r<o.length;r++)e.length>0&&(e=y(e)),e=zc(o.get(r),e);return y(e)}function zc(o,e){let r=e;const s=o.length;for(let c=0;c<s;c++){const d=o.charAt(c);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function y(o){return o+"\x01\x01"}function w(o){const e=o.length;if(ht(e>=2),2===e)return ht("\x01"===o.charAt(0)&&"\x01"===o.charAt(1)),zr.emptyPath();const r=e-2,s=[];let c="";for(let d=0;d<e;){const p=o.indexOf("\x01",d);switch((p<0||p>r)&&_e(),o.charAt(p+1)){case"\x01":const A=o.substring(d,p);let N;0===c.length?N=A:(c+=A,N=c,c=""),s.push(N);break;case"\x10":c+=o.substring(d,p),c+="\0";break;case"\x11":c+=o.substring(d,p+1);break;default:_e()}d=p+2}return new zr(s)}const P=["userId","batchId"];function T(o,e){return[o,To(e)]}function V(o,e,r){return[o,To(e),r]}const J={},ye=["prefixPath","collectionGroup","readTime","documentId"],yt=["prefixPath","collectionGroup","documentId"],an=["collectionGroup","readTime","prefixPath","documentId"],At=["canonicalId","targetId"],Nn=["targetId","path"],br=["path","targetId"],Fi=["collectionId","parent"],Sr=["indexId","uid"],po=["uid","sequenceNumber"],ma=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],os=["indexId","uid","orderedDocumentKey"],cr=["userId","collectionPath","documentId"],va=["userId","collectionPath","largestBatchId"],aa=["userId","collectionGroup","largestBatchId"],jo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_a=[...jo,"documentOverlays"],Ru=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mu=Ru,hc=[...Mu,"indexConfiguration","indexState","indexEntries"];class ou extends pa{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function Vi(o,e){const r=Xt(o);return fo.M(r.ae,e)}function fc(o){let e=0;for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e++;return e}function El(o,e){for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&e(r,o[r])}function Cl(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class Yn{constructor(e,r){this.comparator=e,this.root=r||bo.EMPTY}insert(e,r){return new Yn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bo.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hr(this.root,e,this.comparator,!0)}}class Hr{constructor(e,r,s,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bo{constructor(e,r,s,c,d){this.key=e,this.value=r,this.color=null!=s?s:bo.RED,this.left=null!=c?c:bo.EMPTY,this.right=null!=d?d:bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,c,d){return new bo(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=c?c:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let c=this;const d=s(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,r,s),null):0===d?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return bo.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,r,s,c,d){return this}insert(e,r,s){return new bo(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Pu(this.data.getIterator())}getIteratorFrom(e){return new Pu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Ai)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ai(this.comparator);return r.data=e,r}}class Pu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jl(o){return o.hasNext()?o.getNext():void 0}class Ho{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new Ho([])}unionWith(e){let r=new Ai(Fr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ho(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class su extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function pc(){return typeof atob<"u"}class go{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new su("Invalid base64 string: "+d):d}}(e);return new go(r)}static fromUint8Array(e){const r=function(c){let d="";for(let p=0;p<c.length;++p)d+=String.fromCharCode(c[p]);return d}(e);return new go(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}go.EMPTY_BYTE_STRING=new go("");const No=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(o){if(ht(!!o),"string"==typeof o){let e=0;const r=No.exec(o);if(ht(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(o);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ji(o.seconds),nanos:Ji(o.nanos)}}function Ji(o){return"number"==typeof o?o:"string"==typeof o?Number(o):0}function Na(o){return"string"==typeof o?go.fromBase64String(o):go.fromUint8Array(o)}function ya(o){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==o?void 0:o.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ka(o){const e=o.mapValue.fields.__previous_value__;return ya(e)?ka(e):e}function al(o){const e=Oa(o.mapValue.fields.__local_write_time__.timestampValue);return new Ni(e.seconds,e.nanos)}class Dl{constructor(e,r,s,c,d,p,A,N,W){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=A,this.longPollingOptions=N,this.useFetchStreams=W}}class La{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ll={nullValue:"NULL_VALUE"};function _s(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?ya(o)?4:Nu(o)?9007199254740991:10:_e()}function la(o,e){if(o===e)return!0;const r=_s(o);if(r!==_s(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return al(o).isEqual(al(e));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const p=Oa(c.timestampValue),A=Oa(d.timestampValue);return p.seconds===A.seconds&&p.nanos===A.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return d=e,Na(o.bytesValue).isEqual(Na(d.bytesValue));case 7:return o.referenceValue===e.referenceValue;case 8:return function(c,d){return Ji(c.geoPointValue.latitude)===Ji(d.geoPointValue.latitude)&&Ji(c.geoPointValue.longitude)===Ji(d.geoPointValue.longitude)}(o,e);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return Ji(c.integerValue)===Ji(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const p=Ji(c.doubleValue),A=Ji(d.doubleValue);return p===A?vs(p)===vs(A):isNaN(p)&&isNaN(A)}return!1}(o,e);case 9:return Il(o.arrayValue.values||[],e.arrayValue.values||[],la);case 10:return function(c,d){const p=c.mapValue.fields||{},A=d.mapValue.fields||{};if(fc(p)!==fc(A))return!1;for(const N in p)if(p.hasOwnProperty(N)&&(void 0===A[N]||!la(p[N],A[N])))return!1;return!0}(o,e);default:return _e()}var d}function Xs(o,e){return void 0!==(o.values||[]).find(r=>la(r,e))}function Va(o,e){if(o===e)return 0;const r=_s(o),s=_s(e);if(r!==s)return Tr(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Tr(o.booleanValue,e.booleanValue);case 2:return function(d,p){const A=Ji(d.integerValue||d.doubleValue),N=Ji(p.integerValue||p.doubleValue);return A<N?-1:A>N?1:A===N?0:isNaN(A)?isNaN(N)?0:-1:1}(o,e);case 3:return Ao(o.timestampValue,e.timestampValue);case 4:return Ao(al(o),al(e));case 5:return Tr(o.stringValue,e.stringValue);case 6:return function(d,p){const A=Na(d),N=Na(p);return A.compareTo(N)}(o.bytesValue,e.bytesValue);case 7:return function(d,p){const A=d.split("/"),N=p.split("/");for(let W=0;W<A.length&&W<N.length;W++){const ne=Tr(A[W],N[W]);if(0!==ne)return ne}return Tr(A.length,N.length)}(o.referenceValue,e.referenceValue);case 8:return function(d,p){const A=Tr(Ji(d.latitude),Ji(p.latitude));return 0!==A?A:Tr(Ji(d.longitude),Ji(p.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return function(d,p){const A=d.values||[],N=p.values||[];for(let W=0;W<A.length&&W<N.length;++W){const ne=Va(A[W],N[W]);if(ne)return ne}return Tr(A.length,N.length)}(o.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===Fa.mapValue&&p===Fa.mapValue)return 0;if(d===Fa.mapValue)return 1;if(p===Fa.mapValue)return-1;const A=d.fields||{},N=Object.keys(A),W=p.fields||{},ne=Object.keys(W);N.sort(),ne.sort();for(let ke=0;ke<N.length&&ke<ne.length;++ke){const lt=Tr(N[ke],ne[ke]);if(0!==lt)return lt;const Nt=Va(A[N[ke]],W[ne[ke]]);if(0!==Nt)return Nt}return Tr(N.length,ne.length)}(o.mapValue,e.mapValue);default:throw _e()}}function Ao(o,e){if("string"==typeof o&&"string"==typeof e&&o.length===e.length)return Tr(o,e);const r=Oa(o),s=Oa(e),c=Tr(r.seconds,s.seconds);return 0!==c?c:Tr(r.nanos,s.nanos)}function ul(o){return Qr(o)}function Qr(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(r){const s=Oa(r);return`time(${s.seconds},${s.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?Na(o.bytesValue).toBase64():"referenceValue"in o?Mn.fromName(o.referenceValue).toString():"geoPointValue"in o?function(r){return`geo(${r.latitude},${r.longitude})`}(o.geoPointValue):"arrayValue"in o?function(r){let s="[",c=!0;for(const d of r.values||[])c?c=!1:s+=",",s+=Qr(d);return s+"]"}(o.arrayValue):"mapValue"in o?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const p of s)d?d=!1:c+=",",c+=`${p}:${Qr(r.fields[p])}`;return c+"}"}(o.mapValue):_e()}function Zs(o,e){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${e.path.canonicalString()}`}}function cl(o){return!!o&&"integerValue"in o}function Ia(o){return!!o&&"arrayValue"in o}function xu(o){return!!o&&"nullValue"in o}function au(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function Ou(o){return!!o&&"mapValue"in o}function lu(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&"object"==typeof o.timestampValue)return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return El(o.mapValue.fields,(r,s)=>e.mapValue.fields[r]=lu(s)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(o.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=lu(o.arrayValue.values[r]);return e}return Object.assign({},o)}function Nu(o){return"__max__"===(((o.mapValue||{}).fields||{}).__type__||{}).stringValue}function gc(o){return"nullValue"in o?ll:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?Zs(La.empty(),Mn.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:_e()}function uu(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?Zs(La.empty(),Mn.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?Fa:_e()}function $a(o,e){const r=Va(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?-1:!o.inclusive&&e.inclusive?1:0}function Ua(o,e){const r=Va(o.value,e.value);return 0!==r?r:o.inclusive&&!e.inclusive?1:!o.inclusive&&e.inclusive?-1:0}class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Ou(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(r)}setAll(e){let r=Fr.emptyPath(),s={},c=[];e.forEach((p,A)=>{if(!r.isImmediateParentOf(A)){const N=this.getFieldsMap(r);this.applyChanges(N,s,c),s={},c=[],r=A.popLast()}p?s[A.lastSegment()]=lu(p):c.push(A.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,c)}delete(e){const r=this.field(e.popLast());Ou(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return la(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=r.mapValue.fields[e.get(s)];Ou(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,s){El(r,(c,d)=>e[c]=d);for(const c of s)delete e[c]}clone(){return new eo(lu(this.value))}}function ks(o){const e=[];return El(o.fields,(r,s)=>{const c=new Fr([r]);if(Ou(s)){const d=ks(s.mapValue).fields;if(0===d.length)e.push(c);else for(const p of d)e.push(c.child(p))}else e.push(c)}),new Ho(e)}class gi{constructor(e,r,s,c,d,p,A){this.key=e,this.documentType=r,this.version=s,this.readTime=c,this.createTime=d,this.data=p,this.documentState=A}static newInvalidDocument(e){return new gi(e,0,Ln.min(),Ln.min(),Ln.min(),eo.empty(),0)}static newFoundDocument(e,r,s,c){return new gi(e,1,r,Ln.min(),s,c,0)}static newNoDocument(e,r){return new gi(e,2,r,Ln.min(),Ln.min(),eo.empty(),0)}static newUnknownDocument(e,r){return new gi(e,3,r,Ln.min(),Ln.min(),eo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ys{constructor(e,r){this.position=e,this.inclusive=r}}function dl(o,e,r){let s=0;for(let c=0;c<o.position.length;c++){const d=e[c],p=o.position[c];if(s=d.field.isKeyField()?Mn.comparator(Mn.fromName(p.referenceValue),r.key):Va(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function ku(o,e){if(null===o)return null===e;if(null===e||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let r=0;r<o.position.length;r++)if(!la(o.position[r],e.position[r]))return!1;return!0}class Ba{constructor(e,r="asc"){this.field=e,this.dir=r}}function Tl(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class Sd{}class Xr extends Sd{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new du(e,r,s):"array-contains"===r?new $(e,s):"in"===r?new H(e,s):"not-in"===r?new Ie(e,s):"array-contains-any"===r?new st(e,s):new Xr(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new qc(e,s):new S(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Va(r,this.value)):null!==r&&_s(this.value)===_s(r)&&this.matchesComparison(Va(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Sd{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new ci(e,r)}matches(e){return ua(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ua(o){return"and"===o.op}function Lu(o){return"or"===o.op}function mc(o){return vc(o)&&ua(o)}function vc(o){for(const e of o.filters)if(e instanceof ci)return!1;return!0}function cu(o){if(o instanceof Xr)return o.field.canonicalString()+o.op.toString()+ul(o.value);if(mc(o))return o.filters.map(e=>cu(e)).join(",");{const e=o.filters.map(r=>cu(r)).join(",");return`${o.op}(${e})`}}function Hl(o,e){return o instanceof Xr?(s=o,(c=e)instanceof Xr&&s.op===c.op&&s.field.isEqual(c.field)&&la(s.value,c.value)):o instanceof ci?function(s,c){return c instanceof ci&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((d,p,A)=>d&&Hl(p,c.filters[A]),!0)}(o,e):void _e();var s,c}function Rd(o,e){const r=o.filters.concat(e);return ci.create(r,o.op)}function Md(o){return o instanceof Xr?`${(r=o).field.canonicalString()} ${r.op} ${ul(r.value)}`:o instanceof ci?function(r){return r.op.toString()+" {"+r.getFilters().map(Md).join(" ,")+"}"}(o):"Filter";var r}class du extends Xr{constructor(e,r,s){super(e,r,s),this.key=Mn.fromName(s.referenceValue)}matches(e){const r=Mn.comparator(e.key,this.key);return this.matchesComparison(r)}}class qc extends Xr{constructor(e,r){super(e,"in",r),this.keys=v(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class S extends Xr{constructor(e,r){super(e,"not-in",r),this.keys=v(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function v(o,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Mn.fromName(s.referenceValue))}class $ extends Xr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ia(r)&&Xs(r.arrayValue,this.value)}}class H extends Xr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Xs(this.value.arrayValue,r)}}class Ie extends Xr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Xs(this.value.arrayValue,r)}}class st extends Xr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ia(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Xs(this.value.arrayValue,s))}}class $t{constructor(e,r=null,s=[],c=[],d=null,p=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=p,this.endAt=A,this.ce=null}}function ln(o,e=null,r=[],s=[],c=null,d=null,p=null){return new $t(o,e,r,s,c,d,p)}function pn(o){const e=Xt(o);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>cu(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),Go(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ul(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ul(s)).join(",")),e.ce=r}return e.ce}function Wn(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<o.orderBy.length;r++)if(!Tl(o.orderBy[r],e.orderBy[r]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let r=0;r<o.filters.length;r++)if(!Hl(o.filters[r],e.filters[r]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!ku(o.startAt,e.startAt)&&ku(o.endAt,e.endAt)}function rr(o){return Mn.isDocumentKey(o.path)&&null===o.collectionGroup&&0===o.filters.length}function Vr(o,e){return o.filters.filter(r=>r instanceof Xr&&r.field.isEqual(e))}function si(o,e,r){let s=ll,c=!0;for(const d of Vr(o,e)){let p=ll,A=!0;switch(d.op){case"<":case"<=":p=gc(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,A=!1;break;case"!=":case"not-in":p=ll}$a({value:s,inclusive:c},{value:p,inclusive:A})<0&&(s=p,c=A)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];$a({value:s,inclusive:c},{value:p,inclusive:r.inclusive})<0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}function ni(o,e,r){let s=Fa,c=!0;for(const d of Vr(o,e)){let p=Fa,A=!0;switch(d.op){case">=":case">":p=uu(d.value),A=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,A=!1;break;case"!=":case"not-in":p=Fa}Ua({value:s,inclusive:c},{value:p,inclusive:A})>0&&(s=p,c=A)}if(null!==r)for(let d=0;d<o.orderBy.length;++d)if(o.orderBy[d].field.isEqual(e)){const p=r.position[d];Ua({value:s,inclusive:c},{value:p,inclusive:r.inclusive})>0&&(s=p,c=r.inclusive);break}return{value:s,inclusive:c}}class $r{constructor(e,r=null,s=[],c=[],d=null,p="F",A=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=d,this.limitType=p,this.startAt=A,this.endAt=N,this.le=null,this.he=null,this.Pe=null}}function Ri(o,e,r,s,c,d,p,A){return new $r(o,e,r,s,c,d,p,A)}function Wr(o){return new $r(o)}function hi(o){return 0===o.filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())}function mo(o){return null!==o.collectionGroup}function Mi(o){const e=Xt(o);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let A=new Ai(Fr.comparator);return p.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(A=A.add(W.field))})}),A})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Ba(d,s))}),r.has(Fr.keyField().canonicalString())||e.le.push(new Ba(Fr.keyField(),s))}return e.le}function ar(o){const e=Xt(o);return e.he||(e.he=function io(o,e){if("F"===o.limitType)return ln(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(c=>new Ba(c.field,"desc"===c.dir?"asc":"desc"));const r=o.endAt?new ys(o.endAt.position,o.endAt.inclusive):null,s=o.startAt?new ys(o.startAt.position,o.startAt.inclusive):null;return ln(o.path,o.collectionGroup,e,o.filters,o.limit,r,s)}}(e,Mi(o))),e.he}function $i(o,e){const r=o.filters.concat([e]);return new $r(o.path,o.collectionGroup,o.explicitOrderBy.slice(),r,o.limit,o.limitType,o.startAt,o.endAt)}function Ea(o,e,r){return new $r(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,r,o.startAt,o.endAt)}function ko(o,e){return Wn(ar(o),ar(e))&&o.limitType===e.limitType}function Ga(o){return`${pn(ar(o))}|lt:${o.limitType}`}function bl(o){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(c=>Md(c)).join(", ")}]`),Go(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(c=>{return`${(p=c).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(c=>ul(c)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(c=>ul(c)).join(",")),`Target(${s})`}(ar(o))}; limitType=${o.limitType})`}function Wl(o,e){return e.isFoundDocument()&&function(s,c){const d=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Mn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(o,e)&&function(s,c){for(const d of Mi(s))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(o,e)&&function(s,c){for(const d of s.filters)if(!d.matches(c))return!1;return!0}(o,e)&&(c=e,!((s=o).startAt&&!function(p,A,N){const W=dl(p,A,N);return p.inclusive?W<=0:W<0}(s.startAt,Mi(s),c)||s.endAt&&!function(p,A,N){const W=dl(p,A,N);return p.inclusive?W>=0:W>0}(s.endAt,Mi(s),c)));var s,c}function zl(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function _c(o){return(e,r)=>{let s=!1;for(const c of Mi(o)){const d=Sh(c,e,r);if(0!==d)return d;s=s||c.field.isKeyField()}return 0}}function Sh(o,e,r){const s=o.field.isKeyField()?Mn.comparator(e.key,r.key):function(d,p,A){const N=p.data.field(d),W=A.data.field(d);return null!==N&&null!==W?Va(N,W):_e()}(o.field,e,r);switch(o.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}class ja{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[c,d]of s)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[r]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,(r,s)=>{for(const[c,d]of s)e(c,d)})}isEmpty(){return Cl(this.inner)}size(){return this.innerSize}}const Rh=new Yn(Mn.comparator);function ss(){return Rh}const Pp=new Yn(Mn.comparator);function hu(...o){let e=Pp;for(const r of o)e=e.insert(r.key,r);return e}function Pd(o){let e=Pp;return o.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ca(){return Fu()}function xd(){return Fu()}function Fu(){return new ja(o=>o.toString(),(o,e)=>o.isEqual(e))}const I=new Yn(Mn.comparator),f=new Ai(Mn.comparator);function m(...o){let e=f;for(const r of o)e=e.add(r);return e}const b=new Ai(Tr);function Y(){return b}function ge(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vs(e)?"-0":e}}function dt(o){return{integerValue:""+o}}function Lt(o,e){return Su(e)?dt(e):ge(o,e)}class cn{constructor(){this._=void 0}}function nr(o,e,r){return o instanceof So?function(c,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&ya(d)&&(d=ka(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(r,e):o instanceof Lo?yc(o,e):o instanceof ql?Kc(o,e):function(c,d){const p=ri(c,d),A=Od(p)+Od(c.Ie);return cl(p)&&cl(c.Ie)?dt(A):ge(c.serializer,A)}(o,e)}function dr(o,e,r){return o instanceof Lo?yc(o,e):o instanceof ql?Kc(o,e):r}function ri(o,e){return o instanceof Al?cl(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class So extends cn{}class Lo extends cn{constructor(e){super(),this.elements=e}}function yc(o,e){const r=fu(e);for(const s of o.elements)r.some(c=>la(c,s))||r.push(s);return{arrayValue:{values:r}}}class ql extends cn{constructor(e){super(),this.elements=e}}function Kc(o,e){let r=fu(e);for(const s of o.elements)r=r.filter(c=>!la(c,s));return{arrayValue:{values:r}}}class Al extends cn{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function Od(o){return Ji(o.integerValue||o.doubleValue)}function fu(o){return Ia(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}class Ha{constructor(e,r){this.field=e,this.transform=r}}class Nd{constructor(e,r){this.version=e,this.transformResults=r}}class Ur{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(o,e){return void 0!==o.updateTime?e.isFoundDocument()&&e.version.isEqual(o.updateTime):void 0===o.exists||o.exists===e.isFoundDocument()}class Vu{}function $u(o,e){if(!o.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return o.isNoDocument()?new Ec(o.key,Ur.none()):new Yc(o.key,o.data,Ur.none());{const r=o.data,s=eo.empty();let c=new Ai(Fr.comparator);for(let d of e.fields)if(!c.has(d)){let p=r.field(d);null===p&&d.length>1&&(d=d.popLast(),p=r.field(d)),null===p?s.delete(d):s.set(d,p),c=c.add(d)}return new pu(o.key,s,new Ho(c.toArray()),Ur.none())}}function ay(o,e,r){o instanceof Yc?function(c,d,p){const A=c.value.clone(),N=Ld(c.fieldTransforms,d,p.transformResults);A.setAll(N),d.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(o,e,r):o instanceof pu?function(c,d,p){if(!Ic(c.precondition,d))return void d.convertToUnknownDocument(p.version);const A=Ld(c.fieldTransforms,d,p.transformResults),N=d.data;N.setAll(Ph(c)),N.setAll(A),d.convertToFoundDocument(p.version,N).setHasCommittedMutations()}(o,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function kd(o,e,r,s){return o instanceof Yc?function(d,p,A,N){if(!Ic(d.precondition,p))return A;const W=d.value.clone(),ne=Mm(d.fieldTransforms,N,p);return W.setAll(ne),p.convertToFoundDocument(p.version,W).setHasLocalMutations(),null}(o,e,r,s):o instanceof pu?function(d,p,A,N){if(!Ic(d.precondition,p))return A;const W=Mm(d.fieldTransforms,N,p),ne=p.data;return ne.setAll(Ph(d)),ne.setAll(W),p.convertToFoundDocument(p.version,ne).setHasLocalMutations(),null===A?null:A.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ke=>ke.field))}(o,e,r,s):(A=r,Ic(o.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):A);var p,A}function ly(o,e){let r=null;for(const s of o.fieldTransforms){const c=e.data.field(s.field),d=ri(s.transform,c||null);null!=d&&(null===r&&(r=eo.empty()),r.set(s.field,d))}return r||null}function Rm(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=o.fieldTransforms)&&void 0===c||s&&c&&Il(s,c,(d,p)=>function Mh(o,e){return o.field.isEqual(e.field)&&(c=e.transform,(s=o.transform)instanceof Lo&&c instanceof Lo||s instanceof ql&&c instanceof ql?Il(s.elements,c.elements,la):s instanceof Al&&c instanceof Al?la(s.Ie,c.Ie):s instanceof So&&c instanceof So);var s,c}(d,p))))&&(0===o.type?o.value.isEqual(e.value):1!==o.type||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask));var s,c}class Yc extends Vu{constructor(e,r,s,c=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class pu extends Vu{constructor(e,r,s,c,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Ph(o){const e=new Map;return o.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=o.data.field(r);e.set(r,s)}}),e}function Ld(o,e,r){const s=new Map;ht(o.length===r.length);for(let c=0;c<r.length;c++){const d=o[c],p=d.transform,A=e.data.field(d.field);s.set(d.field,dr(p,A,r[c]))}return s}function Mm(o,e,r){const s=new Map;for(const c of o){const d=c.transform,p=r.data.field(c.field);s.set(c.field,nr(d,p,e))}return s}class Ec extends Vu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fd extends Vu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xh{constructor(e,r,s,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&ay(d,e,s[c])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=kd(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=kd(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=xd();return this.mutations.forEach(c=>{const d=e.get(c.key),p=d.overlayedDocument;let A=this.applyToLocalView(p,d.mutatedFields);A=r.has(c.key)?null:A;const N=$u(p,A);null!==N&&s.set(c.key,N),p.isValidDocument()||p.convertToNoDocument(Ln.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),m())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(r,s)=>Rm(r,s))&&Il(this.baseMutations,e.baseMutations,(r,s)=>Rm(r,s))}}class xp{constructor(e,r,s,c){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(e,r,s){ht(e.mutations.length===s.length);let c=function(){return I}();const d=e.mutations;for(let p=0;p<d.length;p++)c=c.insert(d[p].key,s[p].version);return new xp(e,r,s,c)}}class Op{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xm{constructor(e,r){this.count=e,this.unchangedNames=r}}var Wo,mi;function Om(o){switch(o){default:return _e();case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0}}function Sl(o){if(void 0===o)return De("GRPC error has no .code"),vt.UNKNOWN;switch(o){case Wo.OK:return vt.OK;case Wo.CANCELLED:return vt.CANCELLED;case Wo.UNKNOWN:return vt.UNKNOWN;case Wo.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Wo.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Wo.INTERNAL:return vt.INTERNAL;case Wo.UNAVAILABLE:return vt.UNAVAILABLE;case Wo.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Wo.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Wo.NOT_FOUND:return vt.NOT_FOUND;case Wo.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Wo.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Wo.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Wo.ABORTED:return vt.ABORTED;case Wo.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Wo.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Wo.DATA_LOSS:return vt.DATA_LOSS;default:return _e()}}(mi=Wo||(Wo={}))[mi.OK=0]="OK",mi[mi.CANCELLED=1]="CANCELLED",mi[mi.UNKNOWN=2]="UNKNOWN",mi[mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mi[mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mi[mi.NOT_FOUND=5]="NOT_FOUND",mi[mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",mi[mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",mi[mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",mi[mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mi[mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mi[mi.ABORTED=10]="ABORTED",mi[mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",mi[mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",mi[mi.INTERNAL=13]="INTERNAL",mi[mi.UNAVAILABLE=14]="UNAVAILABLE",mi[mi.DATA_LOSS=15]="DATA_LOSS";function Vd(){return new TextEncoder}const Nh=new Ms([4294967295,4294967295],0);function $d(o){const e=Vd().encode(o),r=new sa;return r.update(e),new Uint8Array(r.digest())}function kh(o){const e=new DataView(o.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Ms([r,s],0),new Ms([c,d],0)]}class Lh{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Qc(`Invalid padding: ${r}`);if(s<0)throw new Qc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Qc(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Qc(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Ms.fromNumber(this.Te)}de(e,r,s){let c=e.add(r.multiply(Ms.fromNumber(s)));return 1===c.compare(Nh)&&(c=new Ms([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=$d(e),[s,c]=kh(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);if(!this.Ae(p))return!1}return!0}static create(e,r,s){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new Lh(d,c,r);return s.forEach(A=>p.insert(A)),p}insert(e){if(0===this.Te)return;const r=$d(e),[s,c]=kh(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);this.Re(p)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ud{constructor(e,r,s,c,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const c=new Map;return c.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ud(Ln.min(),c,new Yn(Tr),ss(),m())}}class Kl{constructor(e,r,s,c,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Kl(s,r,m(),m(),m())}}class Uu{constructor(e,r,s,c){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=c}}class Nm{constructor(e,r){this.targetId=e,this.fe=r}}class Fh{constructor(e,r,s=go.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=c}}class km{constructor(){this.ge=0,this.pe=cy(),this.ye=go.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=m(),r=m(),s=m();return this.pe.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:_e()}}),new Kl(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=cy()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ht(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class uy{constructor(e){this.Le=e,this.ke=new Map,this.qe=ss(),this.Qe=Lm(),this.Ke=new Yn(Tr)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,c)=>{this.je(c)&&r(c)})}Je(e){const r=e.targetId,s=e.fe.count,c=this.Ye(r);if(c){const d=c.target;if(rr(d))if(0===s){const p=new Mn(d.path);this.We(r,p,gi.newNoDocument(p,Ln.min()))}else ht(1===s);else{const p=this.Ze(r);if(p!==s){const A=this.Xe(e),N=A?this.et(A,e,p):1;0!==N&&(this.He(r),this.Ke=this.Ke.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:d=0}=r;let p,A;try{p=Na(s).toUint8Array()}catch(N){if(N instanceof su)return B("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{A=new Lh(p,c,d)}catch(N){return B(N instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===A.Te?null:A}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let c=0;return s.forEach(d=>{const p=this.Le.nt(),A=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(A)||(this.We(r,d,null),c++)}),c}it(e){const r=new Map;this.ke.forEach((d,p)=>{const A=this.Ye(p);if(A){if(d.current&&rr(A.target)){const N=new Mn(A.target.path);null!==this.qe.get(N)||this.st(p,N)||this.We(p,N,gi.newNoDocument(N,e))}d.De&&(r.set(p,d.ve()),d.Fe())}});let s=m();this.Qe.forEach((d,p)=>{let A=!0;p.forEachWhile(N=>{const W=this.Ye(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(A=!1,!1)}),A&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const c=new Ud(e,r,this.Ke,this.qe,s);return this.qe=ss(),this.Qe=Lm(),this.Ke=new Yn(Tr),c}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const c=this.ze(e);this.st(e,r)?c.Me(r,1):c.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new km,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new Ai(Tr),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||M("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new km),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Lm(){return new Yn(Mn.comparator)}function cy(){return new Yn(Mn.comparator)}const qE={asc:"ASCENDING",desc:"DESCENDING"},Np={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bd={and:"AND",or:"OR"};class dy{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Cc(o,e){return o.useProto3Json||Go(e)?e:{value:e}}function Bu(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gd(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function KE(o,e){return Bu(o,e.toTimestamp())}function Ro(o){return ht(!!o),Ln.fromTimestamp(function(r){const s=Oa(r);return new Ni(s.seconds,s.nanos)}(o))}function Vh(o,e){return kp(o,e).canonicalString()}function kp(o,e){const r=(c=o,new zr(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===e?r:r.child(e)}function Rl(o){const e=zr.fromString(o);return ht(Gh(e)),e}function jd(o,e){return Vh(o.databaseId,e.path)}function Wa(o,e){const r=Rl(e);if(r.get(1)!==o.databaseId.projectId)throw new Ut(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+o.databaseId.projectId);if(r.get(3)!==o.databaseId.database)throw new Ut(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+o.databaseId.database);return new Mn(Uh(r))}function $h(o,e){return Vh(o.databaseId,e)}function Lp(o){const e=Rl(o);return 4===e.length?zr.emptyPath():Uh(e)}function Xc(o){return new zr(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function Uh(o){return ht(o.length>4&&"documents"===o.get(4)),o.popFirst(5)}function Fm(o,e,r){return{name:jd(o,e),fields:r.value.mapValue.fields}}function Fp(o,e,r){const s=Wa(o,e.name),c=Ro(e.updateTime),d=e.createTime?Ro(e.createTime):Ln.min(),p=new eo({mapValue:{fields:e.fields}}),A=gi.newFoundDocument(s,c,d,p);return r&&A.setHasCommittedMutations(),r?A.setHasCommittedMutations():A}function Zc(o,e){let r;if(e instanceof Yc)r={update:Fm(o,e.key,e.value)};else if(e instanceof Ec)r={delete:jd(o,e.key)};else if(e instanceof pu)r={update:Fm(o,e.key,e.data),updateMask:Gm(e.fieldMask)};else{if(!(e instanceof Fd))return _e();r={verify:jd(o,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const A=p.transform;if(A instanceof So)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Lo)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof ql)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof Al)return{fieldPath:p.field.canonicalString(),increment:A.Ie};throw _e()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:KE(o,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:_e()),r;var d}function Vp(o,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Ur.updateTime(Ro(d.updateTime)):void 0!==d.exists?Ur.exists(d.exists):Ur.none():Ur.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,A){let N=null;"setToServerValue"in A?(ht("REQUEST_TIME"===A.setToServerValue),N=new So):"appendMissingElements"in A?N=new Lo(A.appendMissingElements.values||[]):"removeAllFromArray"in A?N=new ql(A.removeAllFromArray.values||[]):"increment"in A?N=new Al(p,A.increment):_e();const W=Fr.fromServerFormat(A.fieldPath);return new Ha(W,N)}(o,c)):[];var d;if(e.update){const c=Wa(o,e.update.name),d=new eo({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Ho((e.updateMask.fieldPaths||[]).map(ne=>Fr.fromServerFormat(ne)));return new pu(c,d,p,r,s)}return new Yc(c,d,r,s)}if(e.delete){const c=Wa(o,e.delete);return new Ec(c,r)}if(e.verify){const c=Wa(o,e.verify);return new Fd(c,r)}return _e()}function Gu(o,e){return{documents:[$h(o,e.path)]}}function $p(o,e){const r={structuredQuery:{}},s=e.path;let c;null!==e.collectionGroup?(c=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=$h(o,c);const d=function(W){if(0!==W.length)return Bm(ci.create(W,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const p=function(W){if(0!==W.length)return W.map(ne=>{return{field:gu((lt=ne).field),direction:Jc(lt.dir)};var lt})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const A=Cc(o,e.limit);return null!==A&&(r.structuredQuery.limit=A),e.startAt&&(r.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(r.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),{ut:r,parent:c};var W}function Up(o){let e=Lp(o.parent);const r=o.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){ht(1===s);const ne=r.from[0];ne.allDescendants?c=ne.collectionId:e=e.child(ne.collectionId)}let d=[];r.where&&(d=function(ke){const lt=Dc(ke);return lt instanceof ci&&mc(lt)?lt.getFilters():[lt]}(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(lt=>{return new Ba(ju((Dn=lt).field),function(xn){switch(xn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Dn.direction));var Dn}));let A=null;r.limit&&(A=function(ke){let lt;return lt="object"==typeof ke?ke.value:ke,Go(lt)?null:lt}(r.limit));let N=null;var ke;r.startAt&&(N=new ys((ke=r.startAt).values||[],!!ke.before));let W=null;return r.endAt&&(W=function(ke){return new ys(ke.values||[],!ke.before)}(r.endAt)),Ri(e,c,p,d,A,"F",N,W)}function Dc(o){return void 0!==o.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ju(r.unaryFilter.field);return Xr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=ju(r.unaryFilter.field);return Xr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=ju(r.unaryFilter.field);return Xr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=ju(r.unaryFilter.field);return Xr.create(p,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(o):void 0!==o.fieldFilter?Xr.create(ju((r=o).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==o.compositeFilter?function(r){return ci.create(r.compositeFilter.filters.map(s=>Dc(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return _e()}}(r.compositeFilter.op))}(o):_e();var r}function Jc(o){return qE[o]}function as(o){return Np[o]}function hy(o){return Bd[o]}function gu(o){return{fieldPath:o.canonicalString()}}function ju(o){return Fr.fromServerFormat(o.fieldPath)}function Bm(o){return o instanceof Xr?function(r){if("=="===r.op){if(au(r.value))return{unaryFilter:{field:gu(r.field),op:"IS_NAN"}};if(xu(r.value))return{unaryFilter:{field:gu(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(au(r.value))return{unaryFilter:{field:gu(r.field),op:"IS_NOT_NAN"}};if(xu(r.value))return{unaryFilter:{field:gu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(r.field),op:as(r.op),value:r.value}}}(o):o instanceof ci?function(r){const s=r.getFilters().map(c=>Bm(c));return 1===s.length?s[0]:{compositeFilter:{op:hy(r.op),filters:s}}}(o):_e()}function Gm(o){const e=[];return o.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Gh(o){return o.length>=4&&"projects"===o.get(0)&&"databases"===o.get(2)}class mu{constructor(e,r,s,c,d=Ln.min(),p=Ln.min(),A=go.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=A,this.expectedCount=N}withSequenceNumber(e){return new mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bp{constructor(e){this.ct=e}}function Hd(o,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Wd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:jd(d=o.ct,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Bu(d,p.version.toTimestamp()),createTime:Bu(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:wc(e.version)};else{if(!e.isUnknownDocument())return _e();s.unknownDocument={path:r.path.toArray(),version:wc(e.version)}}var d,p;return s}function Wd(o){const e=o.toTimestamp();return[e.seconds,e.nanoseconds]}function wc(o){const e=o.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tc(o){const e=new Ni(o.seconds,o.nanoseconds);return Ln.fromTimestamp(e)}function bc(o,e){const r=(e.baseMutations||[]).map(d=>Vp(o.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>Vp(o.ct,d)),c=Ni.fromMillis(e.localWriteTimeMs);return new xh(e.batchId,c,r,s)}function ed(o){const e=Tc(o.readTime),r=void 0!==o.lastLimboFreeSnapshotVersion?Tc(o.lastLimboFreeSnapshotVersion):Ln.min();let s;return s=void 0!==o.query.documents?(ht(1===(d=o.query).documents.length),ar(Wr(Lp(d.documents[0])))):function(d){return ar(Up(d))}(o.query),new mu(s,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,e,r,go.fromBase64String(o.resumeToken));var d}function jm(o,e){const r=wc(e.snapshotVersion),s=wc(e.lastLimboFreeSnapshotVersion);let c;c=rr(e.target)?Gu(o.ct,e.target):$p(o.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pn(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function jh(o){const e=Up({parent:o.parent,structuredQuery:o.structuredQuery});return"LAST"===o.limitType?Ea(e,e.limit,"L"):e}function jp(o,e){return new Op(e.largestBatchId,Vp(o.ct,e.overlayMutation))}function Hm(o,e){const r=e.path.lastSegment();return[o,To(e.path.popLast()),r]}function fy(o,e,r,s){return{indexId:o,uid:e,sequenceNumber:r,readTime:wc(s.readTime),documentKey:To(s.documentKey.path),largestBatchId:s.largestBatchId}}class Wm{getBundleMetadata(e,r){return Hp(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:Tc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return Hp(e).put({bundleId:(c=r).id,createTime:wc(Ro(c.createTime)),version:c.version});var c}getNamedQuery(e,r){return Da(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:jh(d.bundledQuery),readTime:Tc(d.readTime)};var d})}saveNamedQuery(e,r){return Da(e).put({name:(c=r).name,readTime:wc(Ro(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Hp(o){return Vi(o,"bundles")}function Da(o){return Vi(o,"namedQueries")}class zd{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new zd(e,r.uid||"")}getOverlay(e,r){return Hh(e).get(Hm(this.userId,r)).next(s=>s?jp(this.serializer,s):null)}getOverlays(e,r){const s=Ca();return bt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){const c=[];return s.forEach((d,p)=>{const A=new Op(r,p);c.push(this.ht(e,A))}),bt.waitFor(c)}removeOverlaysForBatchId(e,r,s){const c=new Set;r.forEach(p=>c.add(To(p.getCollectionPath())));const d=[];return c.forEach(p=>{const A=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Hh(e).H("collectionPathOverlayIndex",A))}),bt.waitFor(d)}getOverlaysForCollection(e,r,s){const c=Ca(),d=To(r),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Hh(e).W("collectionPathOverlayIndex",p).next(A=>{for(const N of A){const W=jp(this.serializer,N);c.set(W.getKey(),W)}return c})}getOverlaysForCollectionGroup(e,r,s,c){const d=Ca();let p;const A=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Hh(e).Y({index:"collectionGroupOverlayIndex",range:A},(N,W,ne)=>{const ke=jp(this.serializer,W);d.size()<c||ke.largestBatchId===p?(d.set(ke.getKey(),ke),p=ke.largestBatchId):ne.done()}).next(()=>d)}ht(e,r){return Hh(e).put(function(c,d,p){const[A,N,W]=Hm(d,p.mutation.key);return{userId:d,collectionPath:N,documentId:W,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Zc(c.ct,p.mutation)}}(this.serializer,this.userId,r))}}function Hh(o){return Vi(o,"documentOverlays")}class vu{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(Ji(e.integerValue));else if("doubleValue"in e){const s=Ji(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),vs(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(r,20),"string"==typeof s?r.At(s):(r.At(`${s.seconds||""}`),r.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(Na(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?Nu(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):_e()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const c of Object.keys(s))this.Rt(c,r),this.It(s[c],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const c of s)this.It(c,r)}gt(e,r){this.Et(r,37),Mn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Hu(o){if(0===o)return 8;let e=0;return!(o>>4)&&(e+=4,o<<=4),!(o>>6)&&(e+=2,o<<=2),!(o>>7)&&(e+=1),e}function Wp(o){const e=64-function(s){let c=0;for(let d=0;d<8;++d){const p=Hu(255&s[d]);if(c+=p,8!==p)break}return c}(o);return Math.ceil(e/8)}vu.bt=new vu;class Wh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const c=r.codePointAt(0);this.Ct(240|c>>>18),this.Ct(128|63&c>>>12),this.Ct(128|63&c>>>6),this.Ct(128|63&c)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const c=r.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Bt(e){const r=this.Lt(e),s=Wp(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=255&r[c]}qt(e){const r=this.Lt(e),s=Wp(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const r=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let c=1;c<r.length;++c)r[c]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class zm{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class qm{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Wu{constructor(){this.Gt=new Wh,this.zt=new zm(this.Gt),this.jt=new qm(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class _u{constructor(e,r,s,c){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=c}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new _u(this.indexId,this.documentKey,this.arrayValue,s)}}function za(o,e){let r=o.indexId-e.indexId;return 0!==r?r:(r=Km(o.arrayValue,e.arrayValue),0!==r?r:(r=Km(o.directionalValue,e.directionalValue),0!==r?r:Mn.comparator(o.documentKey,e.documentKey)))}function Km(o,e){for(let r=0;r<o.length&&r<e.length;++r){const s=o[r]-e[r];if(0!==s)return s}return o.length-e.length}class Ym{constructor(e){this.Yt=new Ai((r,s)=>Fr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(ht(e.collectionGroup===this.collectionId),this.en)return!1;const r=Oo(e);if(void 0!==r&&!this.nn(r))return!1;const s=qs(e);let c=new Set,d=0,p=0;for(;d<s.length&&this.nn(s[d]);++d)c=c.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const A=this.Yt.getIterator().getNext();if(!c.has(A.field.canonicalString())){const N=s[d];if(!this.rn(A,N)||!this.sn(this.Zt[p++],N))return!1}++d}for(;d<s.length;++d)if(p>=this.Zt.length||!this.sn(this.Zt[p++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new Ai(Fr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new ao(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new ao(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new ao(s.field,"asc"===s.dir?0:1)));return new rl(rl.UNKNOWN_ID,this.collectionId,r,fa.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function py(o){var e,r;if(ht(o instanceof Xr||o instanceof ci),o instanceof Xr){if(o instanceof H){const c=(null===(r=null===(e=o.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Xr.create(o.field,"==",d)))||[];return ci.create(c,"or")}return o}const s=o.filters.map(c=>py(c));return ci.create(s,o.op)}function zh(o){if(0===o.getFilters().length)return[];const e=Kh(py(o));return ht(zp(e)),qd(e)||qh(e)?[e]:e.getFilters()}function qd(o){return o instanceof Xr}function qh(o){return o instanceof ci&&mc(o)}function zp(o){return qd(o)||qh(o)||function(r){if(r instanceof ci&&Lu(r)){for(const s of r.getFilters())if(!qd(s)&&!qh(s))return!1;return!0}return!1}(o)}function Kh(o){if(ht(o instanceof Xr||o instanceof ci),o instanceof Xr)return o;if(1===o.filters.length)return Kh(o.filters[0]);const e=o.filters.map(s=>Kh(s));let r=ci.create(e,o.op);return r=Qh(r),zp(r)?r:(ht(r instanceof ci),ht(ua(r)),ht(r.filters.length>1),r.filters.reduce((s,c)=>Yh(s,c)))}function Yh(o,e){let r;return ht(o instanceof Xr||o instanceof ci),ht(e instanceof Xr||e instanceof ci),r=o instanceof Xr?e instanceof Xr?ci.create([o,e],"and"):Qm(o,e):e instanceof Xr?Qm(e,o):function(c,d){if(ht(c.filters.length>0&&d.filters.length>0),ua(c)&&ua(d))return Rd(c,d.getFilters());const p=Lu(c)?c:d,A=Lu(c)?d:c,N=p.filters.map(W=>Yh(W,A));return ci.create(N,"or")}(o,e),Qh(r)}function Qm(o,e){if(ua(e))return Rd(e,o.getFilters());{const r=e.filters.map(s=>Yh(o,s));return ci.create(r,"or")}}function Qh(o){if(ht(o instanceof Xr||o instanceof ci),o instanceof Xr)return o;const e=o.getFilters();if(1===e.length)return Qh(e[0]);if(vc(o))return o;const r=e.map(c=>Qh(c)),s=[];return r.forEach(c=>{c instanceof Xr?s.push(c):c instanceof ci&&(c.op===o.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:ci.create(s,o.op)}class gy{constructor(){this._n=new qp}addToCollectionParentIndex(e,r){return this._n.add(r),bt.resolve()}getCollectionParents(e,r){return bt.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return bt.resolve()}deleteFieldIndex(e,r){return bt.resolve()}deleteAllFieldIndexes(e){return bt.resolve()}createTargetIndexes(e,r){return bt.resolve()}getDocumentsMatchingTarget(e,r){return bt.resolve(null)}getIndexType(e,r){return bt.resolve(0)}getFieldIndexes(e,r){return bt.resolve([])}getNextCollectionGroupToUpdate(e){return bt.resolve(null)}getMinOffset(e,r){return bt.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,r){return bt.resolve(ts.min())}updateCollectionGroup(e,r,s){return bt.resolve()}updateIndexEntries(e,r){return bt.resolve()}}class qp{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r]||new Ai(zr.comparator),d=!c.has(s);return this.index[r]=c.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Ai(zr.comparator)).toArray()}}const Xh=new Uint8Array(0);class zu{constructor(e,r){this.databaseId=r,this.an=new qp,this.un=new ja(s=>pn(s),(s,c)=>Wn(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:To(c)};return td(e).put(d)}return bt.resolve()}getCollectionParents(e,r){const s=[],c=IDBKeyRange.bound([r,""],[Au(r),""],!1,!0);return td(e).W(c).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(w(p.parent))}return s})}addFieldIndex(e,r){const s=Zh(e),c={indexId:(A=r).indexId,collectionGroup:A.collectionGroup,fields:A.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var A;delete c.indexId;const d=s.add(c);if(r.indexState){const p=Kd(e);return d.next(A=>{p.put(fy(A,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=Zh(e),c=Kd(e),d=nd(e);return s.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Zh(e),s=nd(e),c=Kd(e);return r.H().next(()=>s.H()).next(()=>c.H())}createTargetIndexes(e,r){return bt.forEach(this.cn(r),s=>this.getIndexType(e,s).next(c=>{if(0===c||1===c){const d=new Ym(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=nd(e);let c=!0;const d=new Map;return bt.forEach(this.cn(r),p=>this.ln(e,p).next(A=>{c&&(c=!!A),d.set(p,A)})).next(()=>{if(c){let p=m();const A=[];return bt.forEach(d,(N,W)=>{var yr;M("IndexedDbIndexManager",`Using index ${yr=N,`id=${yr.indexId}|cg=${yr.collectionGroup}|f=${yr.fields.map(qr=>`${qr.fieldPath}:${qr.kind}`).join(",")}`} to execute ${pn(r)}`);const ne=function(yr,qr){const Ki=Oo(qr);if(void 0===Ki)return null;for(const Ui of Vr(yr,Ki.fieldPath))switch(Ui.op){case"array-contains-any":return Ui.value.arrayValue.values||[];case"array-contains":return[Ui.value]}return null}(W,N),ke=function(yr,qr){const Ki=new Map;for(const Ui of qs(qr))for(const qo of Vr(yr,Ui.fieldPath))switch(qo.op){case"==":case"in":Ki.set(Ui.fieldPath.canonicalString(),qo.value);break;case"not-in":case"!=":return Ki.set(Ui.fieldPath.canonicalString(),qo.value),Array.from(Ki.values())}return null}(W,N),lt=function(yr,qr){const Ki=[];let Ui=!0;for(const qo of qs(qr)){const Ka=0===qo.kind?si(yr,qo.fieldPath,yr.startAt):ni(yr,qo.fieldPath,yr.startAt);Ki.push(Ka.value),Ui&&(Ui=Ka.inclusive)}return new ys(Ki,Ui)}(W,N),Nt=function(yr,qr){const Ki=[];let Ui=!0;for(const qo of qs(qr)){const Ka=0===qo.kind?ni(yr,qo.fieldPath,yr.endAt):si(yr,qo.fieldPath,yr.endAt);Ki.push(Ka.value),Ui&&(Ui=Ka.inclusive)}return new ys(Ki,Ui)}(W,N),Dn=this.hn(N,W,lt),jn=this.hn(N,W,Nt),xn=this.Pn(N,W,ke),gr=this.In(N.indexId,ne,Dn,lt.inclusive,jn,Nt.inclusive,xn);return bt.forEach(gr,Nr=>s.j(Nr,r.limit).next(yr=>{yr.forEach(qr=>{const Ki=Mn.fromSegments(qr.documentKey);p.has(Ki)||(p=p.add(Ki),A.push(Ki))})}))}).next(()=>A)}return bt.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:zh(ci.create(e.filters,"and")).map(s=>ln(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,c,d,p,A){const N=(null!=r?r.length:1)*Math.max(s.length,d.length),W=N/(null!=r?r.length:1),ne=[];for(let ke=0;ke<N;++ke){const lt=r?this.Tn(r[ke/W]):Xh,Nt=this.En(e,lt,s[ke%W],c),Dn=this.dn(e,lt,d[ke%W],p),jn=A.map(xn=>this.En(e,lt,xn,!0));ne.push(...this.createRange(Nt,Dn,jn))}return ne}En(e,r,s,c){const d=new _u(e,Mn.empty(),r,s);return c?d:d.Jt()}dn(e,r,s,c){const d=new _u(e,Mn.empty(),r,s);return c?d.Jt():d}ln(e,r){const s=new Ym(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(d=>{let p=null;for(const A of d)s.tn(A)&&(!p||A.fields.length>p.fields.length)&&(p=A);return p})}getIndexType(e,r){let s=2;const c=this.cn(r);return bt.forEach(c,d=>this.ln(e,d).next(p=>{p?0!==s&&p.fields.length<function(N){let W=new Ai(Fr.comparator),ne=!1;for(const ke of N.filters)for(const lt of ke.getFlattenedFilters())lt.field.isKeyField()||("array-contains"===lt.op||"array-contains-any"===lt.op?ne=!0:W=W.add(lt.field));for(const ke of N.orderBy)ke.field.isKeyField()||(W=W.add(ke.field));return W.size+(ne?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&c.length>1&&2===s?1:s)}An(e,r){const s=new Wu;for(const c of qs(e)){const d=r.data.field(c.fieldPath);if(null==d)return null;const p=s.Ht(c.kind);vu.bt.Pt(d,p)}return s.Wt()}Tn(e){const r=new Wu;return vu.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new Wu;return vu.bt.Pt(Zs(this.databaseId,r),s.Ht(function(d){const p=qs(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let c=[];c.push(new Wu);let d=0;for(const p of qs(e)){const A=s[d++];for(const N of c)if(this.Vn(r,p.fieldPath)&&Ia(A))c=this.mn(c,p,A);else{const W=N.Ht(p.kind);vu.bt.Pt(A,W)}}return this.fn(c)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const c=[...e],d=[];for(const p of s.arrayValue.values||[])for(const A of c){const N=new Wu;N.seed(A.Wt()),vu.bt.Pt(p,N.Ht(r.kind)),d.push(N)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof Xr&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=Zh(e),c=Kd(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const p=[];return bt.forEach(d,A=>c.get([A.indexId,this.uid]).next(N=>{p.push(function(ne,ke){const lt=ke?new fa(ke.sequenceNumber,new ts(Tc(ke.readTime),new Mn(w(ke.documentKey)),ke.largestBatchId)):fa.empty(),Nt=ne.fields.map(([Dn,jn])=>new ao(Fr.fromServerFormat(Dn),jn));return new rl(ne.indexId,ne.collectionGroup,Nt,lt)}(A,N))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,c)=>{const d=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==d?d:Tr(s.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const c=Zh(e),d=Kd(e);return this.gn(e).next(p=>c.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(A=>bt.forEach(A,N=>d.put(fy(N.indexId,this.uid,p,s)))))}updateIndexEntries(e,r){const s=new Map;return bt.forEach(r,(c,d)=>{const p=s.get(c.collectionGroup);return(p?bt.resolve(p):this.getFieldIndexes(e,c.collectionGroup)).next(A=>(s.set(c.collectionGroup,A),bt.forEach(A,N=>this.pn(e,c,N).next(W=>{const ne=this.yn(d,N);return W.isEqual(ne)?bt.resolve():this.wn(e,d,N,W,ne)}))))})}Sn(e,r,s,c){return nd(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,c){return nd(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const c=nd(e);let d=new Ai(za);return c.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(p,A)=>{d=d.add(new _u(s.indexId,r,A.arrayValue,A.directionalValue))}).next(()=>d)}yn(e,r){let s=new Ai(za);const c=this.An(r,e);if(null==c)return s;const d=Oo(r);if(null!=d){const p=e.data.field(d.fieldPath);if(Ia(p))for(const A of p.arrayValue.values||[])s=s.add(new _u(r.indexId,e.key,this.Tn(A),c))}else s=s.add(new _u(r.indexId,e.key,Xh,c));return s}wn(e,r,s,c,d){M("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const p=[];return function(N,W,ne,ke,lt){const Nt=N.getIterator(),Dn=W.getIterator();let jn=jl(Nt),xn=jl(Dn);for(;jn||xn;){let gr=!1,Nr=!1;if(jn&&xn){const yr=ne(jn,xn);yr<0?Nr=!0:yr>0&&(gr=!0)}else null!=jn?Nr=!0:gr=!0;gr?(ke(xn),xn=jl(Dn)):Nr?(lt(jn),jn=jl(Nt)):(jn=jl(Nt),xn=jl(Dn))}}(c,d,za,A=>{p.push(this.Sn(e,r,s,A))},A=>{p.push(this.bn(e,r,s,A))}),bt.waitFor(p)}gn(e){let r=1;return Kd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,d)=>{d.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((p,A)=>za(p,A)).filter((p,A,N)=>!A||0!==za(p,N[A-1]));const c=[];c.push(e);for(const p of s){const A=za(p,e),N=za(p,r);if(0===A)c[0]=e.Jt();else if(A>0&&N<0)c.push(p),c.push(p.Jt());else if(N>0)break}c.push(r);const d=[];for(let p=0;p<c.length;p+=2){if(this.Dn(c[p],c[p+1]))return[];d.push(IDBKeyRange.bound([c[p].indexId,this.uid,c[p].arrayValue,c[p].directionalValue,Xh,[]],[c[p+1].indexId,this.uid,c[p+1].arrayValue,c[p+1].directionalValue,Xh,[]]))}return d}Dn(e,r){return za(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(my)}getMinOffset(e,r){return bt.mapArray(this.cn(r),s=>this.ln(e,s).next(c=>c||_e())).next(my)}}function td(o){return Vi(o,"collectionParents")}function nd(o){return Vi(o,"indexEntries")}function Zh(o){return Vi(o,"indexConfiguration")}function Kd(o){return Vi(o,"indexState")}function my(o){ht(0!==o.length);let e=o[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<o.length;s++){const c=o[s].indexState.offset;Cr(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new ts(e.readTime,e.documentKey,r)}const vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ca{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ca(e,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Kp(o,e,r){const s=o.store("mutations"),c=o.store("documentMutations"),d=[],p=IDBKeyRange.only(r.batchId);let A=0;const N=s.Y({range:p},(ne,ke,lt)=>(A++,lt.delete()));d.push(N.next(()=>{ht(1===A)}));const W=[];for(const ne of r.mutations){const ke=V(e,ne.key.path,r.batchId);d.push(c.delete(ke)),W.push(ne.key)}return bt.waitFor(d).next(()=>W)}function Jh(o){if(!o)return 0;let e;if(o.document)e=o.document;else if(o.unknownDocument)e=o.unknownDocument;else{if(!o.noDocument)throw _e();e=o.noDocument}return JSON.stringify(e).length}ca.DEFAULT_COLLECTION_PERCENTILE=10,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ca.DEFAULT=new ca(41943040,ca.DEFAULT_COLLECTION_PERCENTILE,ca.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ca.DISABLED=new ca(-1,0,0);class ef{constructor(e,r,s,c){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=c,this.Cn={}}static lt(e,r,s,c){ht(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new ef(d,r,s,c)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qu(e).Y({index:"userMutationsIndex",range:s},(c,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(e,r,s,c){const d=Ku(e),p=qu(e);return p.add({}).next(A=>{ht("number"==typeof A);const N=new xh(A,r,s,c),W=function(Nt,Dn,jn){const xn=jn.baseMutations.map(Nr=>Zc(Nt.ct,Nr)),gr=jn.mutations.map(Nr=>Zc(Nt.ct,Nr));return{userId:Dn,batchId:jn.batchId,localWriteTimeMs:jn.localWriteTime.toMillis(),baseMutations:xn,mutations:gr}}(this.serializer,this.userId,N),ne=[];let ke=new Ai((lt,Nt)=>Tr(lt.canonicalString(),Nt.canonicalString()));for(const lt of c){const Nt=V(this.userId,lt.key.path,A);ke=ke.add(lt.key.path.popLast()),ne.push(p.put(W)),ne.push(d.put(Nt,J))}return ke.forEach(lt=>{ne.push(this.indexManager.addToCollectionParentIndex(e,lt))}),e.addOnCommittedListener(()=>{this.Cn[A]=N.keys()}),bt.waitFor(ne).next(()=>N)})}lookupMutationBatch(e,r){return qu(e).get(r).next(s=>s?(ht(s.userId===this.userId),bc(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?bt.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const c=s.keys();return this.Cn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,c=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return qu(e).Y({index:"userMutationsIndex",range:c},(p,A,N)=>{A.userId===this.userId&&(ht(A.batchId>=s),d=bc(this.serializer,A)),N.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return qu(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(c,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qu(e).W("userMutationsIndex",r).next(s=>s.map(c=>bc(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=T(this.userId,r.path),c=IDBKeyRange.lowerBound(s),d=[];return Ku(e).Y({range:c},(p,A,N)=>{const[W,ne,ke]=p,lt=w(ne);if(W===this.userId&&r.path.isEqual(lt))return qu(e).get(ke).next(Nt=>{if(!Nt)throw _e();ht(Nt.userId===this.userId),d.push(bc(this.serializer,Nt))});N.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Ai(Tr);const c=[];return r.forEach(d=>{const p=T(this.userId,d.path),A=IDBKeyRange.lowerBound(p),N=Ku(e).Y({range:A},(W,ne,ke)=>{const[lt,Nt,Dn]=W,jn=w(Nt);lt===this.userId&&d.path.isEqual(jn)?s=s.add(Dn):ke.done()});c.push(N)}),bt.waitFor(c).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1,d=T(this.userId,s),p=IDBKeyRange.lowerBound(d);let A=new Ai(Tr);return Ku(e).Y({range:p},(N,W,ne)=>{const[ke,lt,Nt]=N,Dn=w(lt);ke===this.userId&&s.isPrefixOf(Dn)?Dn.length===c&&(A=A.add(Nt)):ne.done()}).next(()=>this.Fn(e,A))}Fn(e,r){const s=[],c=[];return r.forEach(d=>{c.push(qu(e).get(d).next(p=>{if(null===p)throw _e();ht(p.userId===this.userId),s.push(bc(this.serializer,p))}))}),bt.waitFor(c).next(()=>s)}removeMutationBatch(e,r){return Kp(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),bt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return bt.resolve();const s=IDBKeyRange.lowerBound(function(p){return[p]}(this.userId)),c=[];return Ku(e).Y({range:s},(d,p,A)=>{if(d[0]===this.userId){const N=w(d[1]);c.push(N)}else A.done()}).next(()=>{ht(0===c.length)})})}containsKey(e,r){return Xm(e,this.userId,r)}xn(e){return Yl(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xm(o,e,r){const s=T(e,r.path),c=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Ku(o).Y({range:d,J:!0},(A,N,W)=>{const[ne,ke,lt]=A;ne===e&&ke===c&&(p=!0),W.done()}).next(()=>p)}function qu(o){return Vi(o,"mutations")}function Ku(o){return Vi(o,"documentMutations")}function Yl(o){return Vi(o,"mutationQueues")}class Ml{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ml(0)}static Bn(){return new Ml(-1)}}class Zm{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Ln(e).next(r=>{const s=new Ml(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(r=>Ln.fromTimestamp(new Ni(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Ln(e).next(c=>(c.highestListenSequenceNumber=r,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.kn(e,c)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Ac(e).delete(r.targetId)).next(()=>this.Ln(e)).next(s=>(ht(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let c=0;const d=[];return Ac(e).Y((p,A)=>{const N=ed(A);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(c++,d.push(this.removeTargetData(e,N)))}).next(()=>bt.waitFor(d)).next(()=>c)}forEachTarget(e,r){return Ac(e).Y((s,c)=>{const d=ed(c);r(d)})}Ln(e){return Yp(e).get("targetGlobalKey").next(r=>(ht(null!==r),r))}kn(e,r){return Yp(e).put("targetGlobalKey",r)}qn(e,r){return Ac(e).put(jm(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(r=>r.targetCount)}getTargetData(e,r){const s=pn(r),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Ac(e).Y({range:c,index:"queryTargetsIndex"},(p,A,N)=>{const W=ed(A);Wn(r,W.target)&&(d=W,N.done())}).next(()=>d)}addMatchingKeys(e,r,s){const c=[],d=Sc(e);return r.forEach(p=>{const A=To(p.path);c.push(d.put({targetId:s,path:A})),c.push(this.referenceDelegate.addReference(e,s,p))}),bt.waitFor(c)}removeMatchingKeys(e,r,s){const c=Sc(e);return bt.forEach(r,d=>{const p=To(d.path);return bt.waitFor([c.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=Sc(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),c=Sc(e);let d=m();return c.Y({range:s,J:!0},(p,A,N)=>{const W=w(p[1]),ne=new Mn(W);d=d.add(ne)}).next(()=>d)}containsKey(e,r){const s=To(r.path),c=IDBKeyRange.bound([s],[Au(s)],!1,!0);let d=0;return Sc(e).Y({index:"documentTargetsIndex",J:!0,range:c},([p,A],N,W)=>{0!==p&&(d++,W.done())}).next(()=>d>0)}_t(e,r){return Ac(e).get(r).next(s=>s?ed(s):null)}}function Ac(o){return Vi(o,"targets")}function Yp(o){return Vi(o,"targetGlobal")}function Sc(o){return Vi(o,"targetDocuments")}function _y([o,e],[r,s]){const c=Tr(o,r);return 0===c?Tr(e,s):c}class YE{constructor(e){this.Kn=e,this.buffer=new Ai(_y),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();_y(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class tf{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;M("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.c)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Os(s)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ys(s)}yield r.zn(3e5)}))}}class Qp{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return bt.resolve(Ns._e);const s=new YE(r);return this.jn.forEachTarget(e,c=>s.Wn(c.sequenceNumber)).next(()=>this.jn.Jn(e,c=>s.Wn(c))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(vy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vy):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,c,d,p,A,N,W;const ne=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),c=this.params.maximumSequenceNumbersToCollect):c=ke,p=Date.now(),this.nthSequenceNumber(e,c))).next(ke=>(s=ke,A=Date.now(),this.removeTargets(e,s,r))).next(ke=>(d=ke,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(ke=>(W=Date.now(),Di()<=ie.Ge.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-ne}ms\n\tDetermined least recently used ${c} in `+(A-p)+`ms\n\tRemoved ${d} targets in `+(N-A)+`ms\n\tRemoved ${ke} documents in `+(W-N)+`ms\nTotal Duration: ${W-ne}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:ke})))}}class QE{constructor(e,r){this.db=e,this.garbageCollector=function yy(o,e){return new Qp(o,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(c=>s+c))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,c)=>r(c))}addReference(e,r,s){return Yd(e,s)}removeReference(e,r,s){return Yd(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Yd(e,r)}er(e,r){return function(c,d){let p=!1;return Yl(c).Z(A=>Xm(c,A,d).next(N=>(N&&(p=!0),bt.resolve(!N)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Xn(e,(p,A)=>{if(A<=r){const N=this.er(e,p).next(W=>{if(!W)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Ln.min()),Sc(e).delete([0,To(p.path)])))});c.push(N)}}).next(()=>bt.waitFor(c)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Yd(e,r)}Xn(e,r){const s=Sc(e);let c,d=Ns._e;return s.Y({index:"documentTargetsIndex"},([p,A],{path:N,sequenceNumber:W})=>{0===p?(d!==Ns._e&&r(new Mn(w(c)),d),d=W,c=N):d=Ns._e}).next(()=>{d!==Ns._e&&r(new Mn(w(c)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yd(o,e){return Sc(o).put((c=o.currentSequenceNumber,{targetId:0,path:To(e.path),sequenceNumber:c}));var c}class Jm{constructor(){this.changes=new ja(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?bt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Iy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return Ql(e).put(s)}removeEntry(e,r,s){return Ql(e).delete(function(d,p){const A=d.path.toArray();return[A.slice(0,A.length-2),A[A.length-2],Wd(p),A[A.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=gi.newInvalidDocument(r);return Ql(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(r))},(c,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:gi.newInvalidDocument(r)};return Ql(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Qd(r))},(c,d)=>{s={document:this.nr(r,d),size:Jh(d)}}).next(()=>s)}getEntries(e,r){let s=ss();return this.ir(e,r,(c,d)=>{const p=this.nr(c,d);s=s.insert(c,p)}).next(()=>s)}sr(e,r){let s=ss(),c=new Yn(Mn.comparator);return this.ir(e,r,(d,p)=>{const A=this.nr(d,p);s=s.insert(d,A),c=c.insert(d,Jh(p))}).next(()=>({documents:s,_r:c}))}ir(e,r,s){if(r.isEmpty())return bt.resolve();let c=new Ai(tv);r.forEach(N=>c=c.add(N));const d=IDBKeyRange.bound(Qd(c.first()),Qd(c.last())),p=c.getIterator();let A=p.getNext();return Ql(e).Y({index:"documentKeyIndex",range:d},(N,W,ne)=>{const ke=Mn.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;A&&tv(A,ke)<0;)s(A,null),A=p.getNext();A&&A.isEqual(ke)&&(s(A,W),A=p.hasNext()?p.getNext():null),A?ne.U(Qd(A)):ne.done()}).next(()=>{for(;A;)s(A,null),A=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,s,c,d){const p=r.path,A=[p.popLast().toArray(),p.lastSegment(),Wd(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ql(e).W(IDBKeyRange.bound(A,N,!0)).next(W=>{null==d||d.incrementDocumentReadCount(W.length);let ne=ss();for(const ke of W){const lt=this.nr(Mn.fromSegments(ke.prefixPath.concat(ke.collectionGroup,ke.documentId)),ke);lt.isFoundDocument()&&(Wl(r,lt)||c.has(lt.key))&&(ne=ne.insert(lt.key,lt))}return ne})}getAllFromCollectionGroup(e,r,s,c){let d=ss();const p=nf(r,s),A=nf(r,ts.max());return Ql(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,A,!0)},(N,W,ne)=>{const ke=this.nr(Mn.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);d=d.insert(ke.key,ke),d.size===c&&ne.done()}).next(()=>d)}newChangeBuffer(e){return new Ey(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Xp(e).get("remoteDocumentGlobalKey").next(r=>(ht(!!r),r))}tr(e,r){return Xp(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Gp(o,e){let r;if(e.document)r=Fp(o.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Mn.fromSegments(e.noDocument.path),c=Tc(e.noDocument.readTime);r=gi.newNoDocument(s,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e();{const s=Mn.fromSegments(e.unknownDocument.path),c=Tc(e.unknownDocument.version);r=gi.newUnknownDocument(s,c)}}return e.readTime&&r.setReadTime(function(c){const d=new Ni(c[0],c[1]);return Ln.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Ln.min()))return s}return gi.newInvalidDocument(e)}}function ev(o){return new Iy(o)}class Ey extends Jm{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new ja(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const r=[];let s=0,c=new Ai((d,p)=>Tr(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const A=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,A.readTime)),p.isValidDocument()){const N=Hd(this.ar.serializer,p);c=c.add(d.path.popLast());const W=Jh(N);s+=W-A.size,r.push(this.ar.addEntry(e,d,N))}else if(s-=A.size,this.trackRemovals){const N=Hd(this.ar.serializer,p.convertToNoDocument(Ln.min()));r.push(this.ar.addEntry(e,d,N))}}),c.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),bt.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:c})=>(c.forEach((d,p)=>{this.ur.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function Xp(o){return Vi(o,"remoteDocumentGlobal")}function Ql(o){return Vi(o,"remoteDocumentsV14")}function Qd(o){const e=o.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nf(o,e){const r=e.documentKey.path.toArray();return[o,Wd(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function tv(o,e){const r=o.path.toArray(),s=e.path.toArray();let c=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(c=Tr(r[d],s[d]),c)return c;return c=Tr(r.length,s.length),c||(c=Tr(r[r.length-2],s[s.length-2]),c||Tr(r[r.length-1],s[s.length-1]))}class rd{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class nv{constructor(e,r,s,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,r))).next(c=>(null!==s&&kd(s.mutation,c,Ho.empty(),Ni.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,m()).next(()=>s))}getLocalViewOfDocuments(e,r,s=m()){const c=Ca();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,s).next(d=>{let p=hu();return d.forEach((A,N)=>{p=p.insert(A,N.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const s=Ca();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,m()))}populateOverlays(e,r,s){const c=[];return s.forEach(d=>{r.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((p,A)=>{r.set(p,A)})})}computeViews(e,r,s,c){let d=ss();const p=Fu(),A=Fu();return r.forEach((N,W)=>{const ne=s.get(W.key);c.has(W.key)&&(void 0===ne||ne.mutation instanceof pu)?d=d.insert(W.key,W):void 0!==ne?(p.set(W.key,ne.mutation.getFieldMask()),kd(ne.mutation,W,ne.mutation.getFieldMask(),Ni.now())):p.set(W.key,Ho.empty())}),this.recalculateAndSaveOverlays(e,d).next(N=>(N.forEach((W,ne)=>p.set(W,ne)),r.forEach((W,ne)=>{var ke;return A.set(W,new rd(ne,null!==(ke=p.get(W))&&void 0!==ke?ke:null))}),A))}recalculateAndSaveOverlays(e,r){const s=Fu();let c=new Yn((p,A)=>p-A),d=m();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const A of p)A.keys().forEach(N=>{const W=r.get(N);if(null===W)return;let ne=s.get(N)||Ho.empty();ne=A.applyToLocalView(W,ne),s.set(N,ne);const ke=(c.get(A.batchId)||m()).add(N);c=c.insert(A.batchId,ke)})}).next(()=>{const p=[],A=c.getReverseIterator();for(;A.hasNext();){const N=A.getNext(),W=N.key,ne=N.value,ke=xd();ne.forEach(lt=>{if(!d.has(lt)){const Nt=$u(r.get(lt),s.get(lt));null!==Nt&&ke.set(lt,Nt),d=d.add(lt)}}),p.push(this.documentOverlayCache.saveOverlays(e,W,ke))}return bt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,c){return Mn.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):mo(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,c):this.getDocumentsMatchingCollectionQuery(e,r,s,c);var p}getNextDocuments(e,r,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,c).next(d=>{const p=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,c-d.size):bt.resolve(Ca());let A=-1,N=d;return p.next(W=>bt.forEach(W,(ne,ke)=>(A<ke.largestBatchId&&(A=ke.largestBatchId),d.get(ne)?bt.resolve():this.remoteDocumentCache.getEntry(e,ne).next(lt=>{N=N.insert(ne,lt)}))).next(()=>this.populateOverlays(e,W,d)).next(()=>this.computeViews(e,N,W,m())).next(ne=>({batchId:A,changes:Pd(ne)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Mn(r)).next(s=>{let c=hu();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,s,c){const d=r.collectionGroup;let p=hu();return this.indexManager.getCollectionParents(e,d).next(A=>bt.forEach(A,N=>{const W=(ke=r,lt=N.child(d),new $r(lt,null,ke.explicitOrderBy.slice(),ke.filters.slice(),ke.limit,ke.limitType,ke.startAt,ke.endAt));var ke,lt;return this.getDocumentsMatchingCollectionQuery(e,W,s,c).next(ne=>{ne.forEach((ke,lt)=>{p=p.insert(ke,lt)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,s,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,c))).next(p=>{d.forEach((N,W)=>{const ne=W.getKey();null===p.get(ne)&&(p=p.insert(ne,gi.newInvalidDocument(ne)))});let A=hu();return p.forEach((N,W)=>{const ne=d.get(N);void 0!==ne&&kd(ne.mutation,W,Ho.empty(),Ni.now()),Wl(r,W)&&(A=A.insert(N,W))}),A})}}class Cy{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return bt.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(c=r).id,version:c.version,createTime:Ro(c.createTime)}),bt.resolve();var c}getNamedQuery(e,r){return bt.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(c=r).name,query:jh(c.bundledQuery),readTime:Ro(c.readTime)}),bt.resolve();var c}}class Zp{constructor(){this.overlays=new Yn(Mn.comparator),this.hr=new Map}getOverlay(e,r){return bt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ca();return bt.forEach(r,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((c,d)=>{this.ht(e,r,d)}),bt.resolve()}removeOverlaysForBatchId(e,r,s){const c=this.hr.get(s);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),bt.resolve()}getOverlaysForCollection(e,r,s){const c=Ca(),d=r.length+1,p=new Mn(r.child("")),A=this.overlays.getIteratorFrom(p);for(;A.hasNext();){const N=A.getNext().value,W=N.getKey();if(!r.isPrefixOf(W.path))break;W.path.length===d&&N.largestBatchId>s&&c.set(N.getKey(),N)}return bt.resolve(c)}getOverlaysForCollectionGroup(e,r,s,c){let d=new Yn((W,ne)=>W-ne);const p=this.overlays.getIterator();for(;p.hasNext();){const W=p.getNext().value;if(W.getKey().getCollectionGroup()===r&&W.largestBatchId>s){let ne=d.get(W.largestBatchId);null===ne&&(ne=Ca(),d=d.insert(W.largestBatchId,ne)),ne.set(W.getKey(),W)}}const A=Ca(),N=d.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,ne)=>A.set(W,ne)),!(A.size()>=c)););return bt.resolve(A)}ht(e,r,s){const c=this.overlays.get(s.key);if(null!==c){const p=this.hr.get(c.largestBatchId).delete(s.key);this.hr.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Op(r,s));let d=this.hr.get(r);void 0===d&&(d=m(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class rf{constructor(){this.Pr=new Ai(Is.Ir),this.Tr=new Ai(Is.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Is(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Is(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new Mn(new zr([])),s=new Is(r,e),c=new Is(r,e+1),d=[];return this.Tr.forEachInRange([s,c],p=>{this.Ar(p),d.push(p.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new Mn(new zr([])),s=new Is(r,e),c=new Is(r,e+1);let d=m();return this.Tr.forEachInRange([s,c],p=>{d=d.add(p.key)}),d}containsKey(e){const r=new Is(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Is{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return Mn.comparator(e.key,r.key)||Tr(e.pr,r.pr)}static Er(e,r){return Tr(e.pr,r.pr)||Mn.comparator(e.key,r.key)}}class Dy{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Ai(Is.Ir)}checkEmpty(e){return bt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,c){const d=this.yr;this.yr++;const p=new xh(d,r,s,c);this.mutationQueue.push(p);for(const A of c)this.wr=this.wr.add(new Is(A.key,d)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return bt.resolve(p)}lookupMutationBatch(e,r){return bt.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.br(r+1),d=c<0?0:c;return bt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Is(r,0),c=new Is(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,c],p=>{const A=this.Sr(p.pr);d.push(A)}),bt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Ai(Tr);return r.forEach(c=>{const d=new Is(c,0),p=new Is(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,p],A=>{s=s.add(A.pr)})}),bt.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,c=s.length+1;let d=s;Mn.isDocumentKey(d)||(d=d.child(""));const p=new Is(new Mn(d),0);let A=new Ai(Tr);return this.wr.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===c&&(A=A.add(N.pr)),!0)},p),bt.resolve(this.Dr(A))}Dr(e){const r=[];return e.forEach(s=>{const c=this.Sr(s);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){ht(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return bt.forEach(r.mutations,c=>{const d=new Is(c.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Is(r,0),c=this.wr.firstAfterOrEqual(s);return bt.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return bt.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class wy{constructor(e){this.vr=e,this.docs=new Yn(Mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,c=this.docs.get(s),d=c?c.size:0,p=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return bt.resolve(s?s.document.mutableCopy():gi.newInvalidDocument(r))}getEntries(e,r){let s=ss();return r.forEach(c=>{const d=this.docs.get(c);s=s.insert(c,d?d.document.mutableCopy():gi.newInvalidDocument(c))}),bt.resolve(s)}getDocumentsMatchingQuery(e,r,s,c){let d=ss();const p=r.path,A=new Mn(p.child("")),N=this.docs.getIteratorFrom(A);for(;N.hasNext();){const{key:W,value:{document:ne}}=N.getNext();if(!p.isPrefixOf(W.path))break;W.path.length>p.length+1||Cr(xa(ne),s)<=0||(c.has(ne.key)||Wl(r,ne))&&(d=d.insert(ne.key,ne.mutableCopy()))}return bt.resolve(d)}getAllFromCollectionGroup(e,r,s,c){_e()}Fr(e,r){return bt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Ty(this)}getSize(e){return bt.resolve(this.size)}}class Ty extends Jm{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?r.push(this.ar.addEntry(e,c)):this.ar.removeEntry(s)}),bt.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class rv{constructor(e){this.persistence=e,this.Mr=new ja(r=>pn(r),Wn),this.lastRemoteSnapshotVersion=Ln.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rf,this.targetCount=0,this.Br=Ml.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,c)=>r(c)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),bt.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Br=new Ml(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,bt.resolve()}updateTargetData(e,r){return this.qn(r),bt.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,r,s){let c=0;const d=[];return this.Mr.forEach((p,A)=>{A.sequenceNumber<=r&&null===s.get(A.targetId)&&(this.Mr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,A.targetId)),c++)}),bt.waitFor(d).next(()=>c)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return bt.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),bt.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const c=this.persistence.referenceDelegate,d=[];return c&&r.forEach(p=>{d.push(c.markPotentiallyOrphaned(e,p))}),bt.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),bt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return bt.resolve(s)}containsKey(e,r){return bt.resolve(this.Nr.containsKey(r))}}class iv{constructor(e,r){this.Lr={},this.overlays={},this.kr=new Ns(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new rv(this),this.indexManager=new gy,this.remoteDocumentCache=new wy(s=>this.referenceDelegate.Kr(s)),this.serializer=new Bp(r),this.$r=new Cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Zp,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Lr[e.toKey()];return s||(s=new Dy(r,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){M("MemoryPersistence","Starting transaction:",e);const c=new XE(this.kr.next());return this.referenceDelegate.Ur(),s(c).next(d=>this.referenceDelegate.Wr(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Gr(e,r){return bt.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,r)))}}class XE extends pa{constructor(e){super(),this.currentSequenceNumber=e}}class Yu{constructor(e){this.persistence=e,this.zr=new rf,this.jr=null}static Hr(e){return new Yu(e)}get Jr(){if(this.jr)return this.jr;throw _e()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),bt.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),bt.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),bt.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(c=>this.Jr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.Jr,s=>{const c=Mn.fromPath(s);return this.Yr(e,c).next(d=>{d||r.removeEntry(c,Ln.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return bt.or([()=>bt.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class by{constructor(e){this.serializer=e}N(e,r,s,c){const d=new sl("createOrUpgrade",r);var N;s<1&&c>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P,{unique:!0}),N.createObjectStore("documentMutations"),ov(e),function(N){N.createObjectStore("remoteDocuments")}(e));let p=bt.resolve();return s<3&&c>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),ov(e)),p=p.next(()=>function(N){const W=N.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ln.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",ne)}(d))),s<4&&c>=4&&(0!==s&&(p=p.next(()=>function(N,W){return W.store("mutations").W().next(ne=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P,{unique:!0});const ke=W.store("mutations"),lt=ne.map(Nt=>ke.put(Nt));return bt.waitFor(lt)})}(e,d))),p=p.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(p=p.next(()=>this.Xr(d))),s<6&&c>=6&&(p=p.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&c>=7&&(p=p.next(()=>this.ti(d))),s<8&&c>=8&&(p=p.next(()=>this.ni(e,d))),s<9&&c>=9&&(p=p.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(p=p.next(()=>this.ri(d))),s<11&&c>=11&&(p=p.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(p=p.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:cr});W.createIndex("collectionPathOverlayIndex",va,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",aa,{unique:!1})}(e)})),s<13&&c>=13&&(p=p.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:ye});W.createIndex("documentKeyIndex",yt),W.createIndex("collectionGroupIndex",an)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(p=p.next(()=>this.si(e,d))),s<15&&c>=15&&(p=p.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Sr}).createIndex("sequenceNumberIndex",po,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:ma}).createIndex("documentKeyIndex",os,{unique:!1})}(e))),p}ei(e){let r=0;return e.store("remoteDocuments").Y((s,c)=>{r+=Jh(c)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(c=>bt.forEach(c,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(A=>bt.forEach(A,N=>{ht(N.userId===d.userId);const W=bc(this.serializer,N);return Kp(e,d.userId,W).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const d=[];return s.Y((p,A)=>{const N=new zr(p),W=[0,To(N)];d.push(r.get(W).next(ne=>ne?bt.resolve():r.put({targetId:0,path:To(N),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>bt.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Fi});const s=r.store("collectionParents"),c=new qp,d=p=>{if(c.add(p)){const A=p.lastSegment(),N=p.popLast();return s.put({collectionId:A,parent:To(N)})}};return r.store("remoteDocuments").Y({J:!0},(p,A)=>{const N=new zr(p);return d(N.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([p,A,N],W)=>{const ne=w(A);return d(ne.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,c)=>{const d=ed(c),p=jm(this.serializer,d);return r.put(p)})}ii(e,r){const s=r.store("remoteDocuments"),c=[];return s.Y((d,p)=>{const A=r.store("remoteDocumentsV14"),N=(ke=p,ke.document?new Mn(zr.fromString(ke.document.name).popFirst(5)):ke.noDocument?Mn.fromSegments(ke.noDocument.path):ke.unknownDocument?Mn.fromSegments(ke.unknownDocument.path):_e()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var ke;c.push(A.put(W))}).next(()=>bt.waitFor(c))}si(e,r){const s=r.store("mutations"),c=ev(this.serializer),d=new iv(Yu.Hr,this.serializer.ct);return s.W().next(p=>{const A=new Map;return p.forEach(N=>{var W;let ne=null!==(W=A.get(N.userId))&&void 0!==W?W:m();bc(this.serializer,N).keys().forEach(ke=>ne=ne.add(ke)),A.set(N.userId,ne)}),bt.forEach(A,(N,W)=>{const ne=new kr(W),ke=zd.lt(this.serializer,ne),lt=d.getIndexManager(ne),Nt=ef.lt(ne,this.serializer,lt,d.referenceDelegate);return new nv(c,Nt,ke,lt).recalculateAndSaveOverlaysForDocumentKeys(new ou(r,Ns._e),N).next()})})}}function ov(o){o.createObjectStore("targetDocuments",{keyPath:Nn}).createIndex("documentTargetsIndex",br,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",At,{unique:!0}),o.createObjectStore("targetGlobal")}const af="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jp{constructor(e,r,s,c,d,p,A,N,W,ne,ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=p,this.document=A,this._i=W,this.ai=ne,this.ui=ke,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=lt=>Promise.resolve(),!Jp.D())throw new Ut(vt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QE(this,c),this.Ti=r+"main",this.serializer=new Bp(N),this.Ei=new fo(this.Ti,this.ui,new by(this.serializer)),this.Qr=new Zm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ev(this.serializer),this.$r=new Wm,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ne&&De("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ut(vt.FAILED_PRECONDITION,af);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ns(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,l.c)(function*(c){if(r.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var r=(0,l.c)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,l.c)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Os(e))return M("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Xd(e).get("owner").next(r=>bt.resolve(this.Si(r)))}bi(e){return lf(e).delete(this.clientId)}Di(){var e=this;return(0,l.c)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Vi(s,"clientMetadata");return c.W().next(d=>{const p=e.vi(d,18e5),A=d.filter(N=>-1===p.indexOf(N));return bt.forEach(A,N=>c.delete(N.clientId)).next(()=>A)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?bt.resolve(!0):Xd(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Ut(vt.FAILED_PRECONDITION,af);return!1}}return!(!this.networkEnabled||!this.inForeground)||lf(e).W().next(s=>void 0===this.vi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&M("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.c)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new ou(r,Ns._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>lf(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return ef.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zu(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return zd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){M("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",d=15===(N=this.ui)?hc:14===N?Mu:13===N?Ru:12===N?_a:11===N?jo:void _e();var N;let p;return this.Ei.runTransaction(e,c,d,A=>(p=new ou(A,this.kr?this.kr.next():Ns._e),"readwrite-primary"===r?this.gi(p).next(N=>!!N||this.pi(p)).next(N=>{if(!N)throw De(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Ut(vt.FAILED_PRECONDITION,il);return s(p)}).next(N=>this.wi(p).next(()=>N)):this.ki(p).next(()=>s(p)))).then(A=>(p.raiseOnCommittedEvent(),A))}ki(e){return Xd(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ut(vt.FAILED_PRECONDITION,af)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xd(e).put("owner",r)}static D(){return fo.D()}yi(e){const r=Xd(e);return r.get("owner").next(s=>this.Si(s)?(M("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):bt.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(De(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,we.qk)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return M("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return De("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){De("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xd(o){return Vi(o,"owner")}function lf(o){return Vi(o,"clientMetadata")}function eg(o,e){let r=o.projectId;return o.isDefaultDatabase||(r+="."+o.database),"firestore/"+e+"/"+r+"/"}class Zd{constructor(e,r,s,c){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=c}static Ki(e,r){let s=m(),c=m();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new Zd(e,r.fromCache,s,c)}}class Ay{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sv{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,we.qk)()?8:fo.v((0,we.Su)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,c){const d={result:null};return this.ji(e,r).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.Hi(e,r,c,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new Ay;return this.Ji(e,r,p).next(A=>{if(d.result=A,this.Ui)return this.Yi(e,r,p,A.size)})}).next(()=>d.result)}Yi(e,r,s,c){return s.documentReadCount<this.Wi?(Di()<=ie.Ge.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",bl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),bt.resolve()):(Di()<=ie.Ge.DEBUG&&M("QueryEngine","Query:",bl(r),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Gi*c?(Di()<=ie.Ge.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",bl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(r))):bt.resolve())}ji(e,r){if(hi(r))return bt.resolve(null);let s=ar(r);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Ea(r,null,"F"),s=ar(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=m(...d);return this.zi.getDocuments(e,p).next(A=>this.indexManager.getMinOffset(e,s).next(N=>{const W=this.Zi(r,A);return this.Xi(r,W,p,N.readTime)?this.ji(e,Ea(r,null,"F")):this.es(e,W,r,N)}))})))}Hi(e,r,s,c){return hi(r)||c.isEqual(Ln.min())?bt.resolve(null):this.zi.getDocuments(e,s).next(d=>{const p=this.Zi(r,d);return this.Xi(r,p,s,c)?bt.resolve(null):(Di()<=ie.Ge.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),bl(r)),this.es(e,p,r,dc(c,-1)).next(A=>A))})}Zi(e,r){let s=new Ai(_c(e));return r.forEach((c,d)=>{Wl(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,c){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ji(e,r,s){return Di()<=ie.Ge.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",bl(r)),this.zi.getDocumentsMatchingQuery(e,r,ts.min(),s)}es(e,r,s,c){return this.zi.getDocumentsMatchingQuery(e,s,c).next(d=>(r.forEach(p=>{d=d.insert(p.key,p)}),d))}}class Sy{constructor(e,r,s,c){this.persistence=e,this.ts=r,this.serializer=c,this.ns=new Yn(Tr),this.rs=new ja(d=>pn(d),Wn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function tg(o,e,r,s){return new Sy(o,e,r,s)}function av(o,e){return ng.apply(this,arguments)}function ng(){return ng=(0,l.c)(function*(o,e){const r=Xt(o);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let c;return r.mutationQueue.getAllMutationBatches(s).next(d=>(c=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],A=[];let N=m();for(const W of c){p.push(W.batchId);for(const ne of W.mutations)N=N.add(ne.key)}for(const W of d){A.push(W.batchId);for(const ne of W.mutations)N=N.add(ne.key)}return r.localDocuments.getDocuments(s,N).next(W=>({us:W,removedBatchIds:p,addedBatchIds:A}))})})}),ng.apply(this,arguments)}function uf(o){const e=Xt(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function cf(o,e,r){let s=m(),c=m();return r.forEach(d=>s=s.add(d)),e.getEntries(o,s).next(d=>{let p=ss();return r.forEach((A,N)=>{const W=d.get(A);N.isFoundDocument()!==W.isFoundDocument()&&(c=c.add(A)),N.isNoDocument()&&N.version.isEqual(Ln.min())?(e.removeEntry(A,N.readTime),p=p.insert(A,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(N),p=p.insert(A,N)):M("LocalStore","Ignoring outdated watch update for ",A,". Current version:",W.version," Watch version:",N.version)}),{cs:p,ls:c}})}function Js(o,e){const r=Xt(o);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Xl(o,e){const r=Xt(o);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.Qr.getTargetData(s,e).next(d=>d?(c=d,bt.resolve(c)):r.Qr.allocateTargetId(s).next(p=>(c=new mu(e,p,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.ns.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Rc(o,e,r){return df.apply(this,arguments)}function df(){return df=(0,l.c)(function*(o,e,r){const s=Xt(o),c=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,c)))}catch(p){if(!Os(p))throw p;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ns=s.ns.remove(e),s.rs.delete(c.target)}),df.apply(this,arguments)}function hf(o,e,r){const s=Xt(o);let c=Ln.min(),d=m();return s.persistence.runTransaction("Execute query","readwrite",p=>function(N,W,ne){const ke=Xt(N),lt=ke.rs.get(ne);return void 0!==lt?bt.resolve(ke.ns.get(lt)):ke.Qr.getTargetData(W,ne)}(s,p,ar(e)).next(A=>{if(A)return c=A.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(p,A.targetId).next(N=>{d=N})}).next(()=>s.ts.getDocumentsMatchingQuery(p,e,r?c:Ln.min(),r?d:m())).next(A=>(ig(s,zl(e),A),{documents:A,hs:d})))}function rg(o,e){const r=Xt(o),s=Xt(r.Qr),c=r.ns.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function uv(o,e){const r=Xt(o),s=r.ss.get(e)||Ln.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.os.getAllFromCollectionGroup(c,e,dc(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(ig(r,e,c),c))}function ig(o,e,r){let s=o.ss.get(e)||Ln.min();r.forEach((c,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),o.ss.set(e,s)}function ff(){return ff=(0,l.c)(function*(o,e,r,s){const c=Xt(o);let d=m(),p=ss();for(const W of r){const ne=e.Ps(W.metadata.name);W.document&&(d=d.add(ne));const ke=e.Is(W);ke.setReadTime(e.Ts(W.metadata.readTime)),p=p.insert(ne,ke)}const A=c.os.newChangeBuffer({trackRemovals:!0}),N=yield Xl(c,(ne=s,ar(Wr(zr.fromString(`__bundle__/docs/${ne}`)))));var ne;return c.persistence.runTransaction("Apply bundle documents","readwrite",W=>cf(W,A,p).next(ne=>(A.apply(W),ne)).next(ne=>c.Qr.removeMatchingKeysForTargetId(W,N.targetId).next(()=>c.Qr.addMatchingKeys(W,d,N.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(W,ne.cs,ne.ls)).next(()=>ne.cs)))}),ff.apply(this,arguments)}function My(o,e){return og.apply(this,arguments)}function og(){return og=(0,l.c)(function*(o,e,r=m()){const s=yield Xl(o,ar(jh(e.bundledQuery))),c=Xt(o);return c.persistence.runTransaction("Save named query","readwrite",d=>{const p=Ro(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return c.$r.saveNamedQuery(d,e);const A=s.withResumeToken(go.EMPTY_BYTE_STRING,p);return c.ns=c.ns.insert(A.targetId,A),c.Qr.updateTargetData(d,A).next(()=>c.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>c.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>c.$r.saveNamedQuery(d,e))})}),og.apply(this,arguments)}function cv(o,e){return`firestore_clients_${o}_${e}`}function dv(o,e,r){let s=`firestore_mutations_${o}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Jd(o,e){return`firestore_targets_${o}_${e}`}class sg{constructor(e,r,s,c){this.user=e,this.batchId=r,this.state=s,this.error=c}static Es(e,r,s){const c=JSON.parse(s);let d,p="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return p&&c.error&&(p="string"==typeof c.error.message&&"string"==typeof c.error.code,p&&(d=new Ut(c.error.code,c.error.message))),p?new sg(e,r,c.state,d):(De("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pf{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let c,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(c=new Ut(s.error.code,s.error.message))),d?new pf(e,s.state,c):(De("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class id{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let c="object"==typeof s&&s.activeTargetIds instanceof Array,d=Y();for(let p=0;c&&p<s.activeTargetIds.length;++p)c=Su(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return c?new id(e,d):(De("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class hv{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new hv(r.clientId,r.onlineState):(De("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fv{constructor(){this.activeTargetIds=Y()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pv{constructor(e,r,s,c,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Yn(Tr),this.started=!1,this.ys=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=cv(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new fv),this.bs=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.c)(function*(){const r=yield e.syncEngine.Li();for(const c of r){if(c===e.Vs)continue;const d=e.getItem(cv(e.persistenceKey,c));if(d){const p=id.Es(c,d);p&&(e.ps=e.ps.insert(p.clientId,p))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const c=e.xs(s);c&&e.Os(c)}for(const c of e.ys)e.gs(c);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,r,s){this.Bs(e,r,s),this.Ls(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Jd(this.persistenceKey,e));if(s){const c=pf.Es(e,s);c&&(r=c.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Jd(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(c=>{this.Ls(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return M("SharedClientState","READ",e,r),r}setItem(e,r){M("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){M("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(M("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void De("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,l.c)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const c=r.$s(s.key);return r.Us(c,null)}{const c=r.Ws(s.key,s.newValue);if(c)return r.Us(c.clientId,c)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const c=r.Gs(s.key,s.newValue);if(c)return r.zs(c)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const c=r.js(s.key,s.newValue);if(c)return r.Hs(c)}}else if(s.key===r.vs){if(null!==s.newValue){const c=r.xs(s.newValue);if(c)return r.Os(c)}}else if(s.key===r.Ss){const c=function(p){let A=Ns._e;if(null!=p)try{const N=JSON.parse(p);ht("number"==typeof N),A=N}catch(N){De("SharedClientState","Failed to read sequence number from WebStorage",N)}return A}(s.newValue);c!==Ns._e&&r.sequenceNumberHandler(c)}else if(s.key===r.Fs){const c=r.Js(s.newValue);yield Promise.all(c.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,r,s){const c=new sg(this.currentUser,e,r,s),d=dv(this.persistenceKey,this.currentUser,e);this.setItem(d,c.ds())}Ls(e){const r=dv(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const c=Jd(this.persistenceKey,e),d=new pf(e,r,s);this.setItem(c,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return id.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),c=Number(s[1]);return sg.Es(new kr(void 0!==s[2]?s[2]:null),c,r)}js(e,r){const s=this.Cs.exec(e),c=Number(s[1]);return pf.Es(c,r)}xs(e){return hv.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,l.c)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);M("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),c=this.Ns(this.ps),d=this.Ns(s),p=[],A=[];return d.forEach(N=>{c.has(N)||p.push(N)}),c.forEach(N=>{d.has(N)||A.push(N)}),this.syncEngine.eo(p,A).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Y();return e.forEach((s,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class Py{constructor(){this.no=new fv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fv,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZE{io(e){}shutdown(){}}class gv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Mc=null;function od(){return null===Mc?Mc=268435456+Math.round(2147483648*Math.random()):Mc++,"0x"+Mc.toString(16)}const ag={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mv{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Ls="WebChannelConnection";class xy extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${c}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get wo(){return!1}So(r,s,c,d,p){const A=od(),N=this.bo(r,s.toUriEncodedString());M("RestConnection",`Sending RPC '${r}' ${A}:`,N,c);const W={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(W,d,p),this.Co(r,N,W,c).then(ne=>(M("RestConnection",`Received RPC '${r}' ${A}: `,ne),ne),ne=>{throw B("RestConnection",`RPC '${r}' ${A} failed with error: `,ne,"url: ",N,"request:",c),ne})}vo(r,s,c,d,p,A){return this.So(r,s,c,d,p)}Do(r,s,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+qi,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>r[p]=d),c&&c.headers.forEach((d,p)=>r[p]=d)}bo(r,s){return`${this.fo}/v1/${s}:${ag[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,c){const d=od();return new Promise((p,A)=>{const N=new yl;N.setWithCredentials(!0),N.listenOnce(oi.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Pa.NO_ERROR:const ne=N.getResponseJson();M(Ls,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ne)),p(ne);break;case Pa.TIMEOUT:M(Ls,`RPC '${e}' ${d} timed out`),A(new Ut(vt.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:const ke=N.getStatus();if(M(Ls,`RPC '${e}' ${d} failed with status:`,ke,"response text:",N.getResponseText()),ke>0){let lt=N.getResponseJson();Array.isArray(lt)&&(lt=lt[0]);const Nt=null==lt?void 0:lt.error;if(Nt&&Nt.status&&Nt.message){const Dn=function(xn){const gr=xn.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(gr)>=0?gr:vt.UNKNOWN}(Nt.status);A(new Ut(Dn,Nt.message))}else A(new Ut(vt.UNKNOWN,"Server responded with status "+N.getStatus()))}else A(new Ut(vt.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{M(Ls,`RPC '${e}' ${d} completed.`)}});const W=JSON.stringify(c);M(Ls,`RPC '${e}' ${d} sending request:`,c),N.send(r,"POST",W,s,15)})}Fo(e,r,s){const c=od(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=jr(),A=el(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Do(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const ne=d.join("");M(Ls,`Creating RPC '${e}' stream ${c}: ${ne}`,N);const ke=p.createWebChannel(ne,N);let lt=!1,Nt=!1;const Dn=new mv({lo:xn=>{Nt?M(Ls,`Not sending because RPC '${e}' stream ${c} is closed:`,xn):(lt||(M(Ls,`Opening RPC '${e}' stream ${c} transport.`),ke.open(),lt=!0),M(Ls,`RPC '${e}' stream ${c} sending:`,xn),ke.send(xn))},ho:()=>ke.close()}),jn=(xn,gr,Nr)=>{xn.listen(gr,yr=>{try{Nr(yr)}catch(qr){setTimeout(()=>{throw qr},0)}})};return jn(ke,zs.EventType.OPEN,()=>{Nt||M(Ls,`RPC '${e}' stream ${c} transport opened.`)}),jn(ke,zs.EventType.CLOSE,()=>{Nt||(Nt=!0,M(Ls,`RPC '${e}' stream ${c} transport closed`),Dn.Vo())}),jn(ke,zs.EventType.ERROR,xn=>{Nt||(Nt=!0,B(Ls,`RPC '${e}' stream ${c} transport errored:`,xn),Dn.Vo(new Ut(vt.UNAVAILABLE,"The operation could not be completed")))}),jn(ke,zs.EventType.MESSAGE,xn=>{var gr;if(!Nt){const Nr=xn.data[0];ht(!!Nr);const qr=Nr.error||(null===(gr=Nr[0])||void 0===gr?void 0:gr.error);if(qr){M(Ls,`RPC '${e}' stream ${c} received error:`,qr);const Ki=qr.status;let Ui=function(VI){const $I=Wo[VI];if(void 0!==$I)return Sl($I)}(Ki),qo=qr.message;void 0===Ui&&(Ui=vt.INTERNAL,qo="Unknown error status: "+Ki+" with message "+qr.message),Nt=!0,Dn.Vo(new Ut(Ui,qo)),ke.close()}else M(Ls,`RPC '${e}' stream ${c} received:`,Nr),Dn.mo(Nr)}}),jn(A,Bl.STAT_EVENT,xn=>{xn.stat===oa.PROXY?M(Ls,`RPC '${e}' stream ${c} detected buffering proxy`):xn.stat===oa.NOPROXY&&M(Ls,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Dn.Ro()},0),Dn}}function vv(){return typeof window<"u"?window:null}function eh(){return typeof document<"u"?document:null}function Zl(o){return new dy(o,!0)}class da{constructor(e,r,s=1e3,c=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=c,this.Oo=d,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),c=Math.max(0,r-s);c>0&&M("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class yu{constructor(e,r,s,c,d,p,A,N){this.oi=e,this.$o=s,this.Uo=c,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=A,this.listener=N,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new da(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,l.c)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,l.c)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,l.c)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===vt.RESOURCE_EXHAUSTED?(De(r.toString()),De("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===vt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Wo===r&&this.o_(s,c)},s=>{e(()=>{const c=new Ut(vt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(c)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(c=>{s(()=>this.__(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Yo(){var e=this;this.state=5,this.jo.qo((0,l.c)(function*(){e.state=0,e.start()}))}__(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _v extends yu{constructor(e,r,s,c,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function $m(o,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:_e(),c=e.targetChange.targetIds||[],d=function(W,ne){return W.useProto3Json?(ht(void 0===ne||"string"==typeof ne),go.fromBase64String(ne||"")):(ht(void 0===ne||ne instanceof Uint8Array),go.fromUint8Array(ne||new Uint8Array))}(o,e.targetChange.resumeToken),p=e.targetChange.cause,A=p&&function(W){const ne=void 0===W.code?vt.UNKNOWN:Sl(W.code);return new Ut(ne,W.message||"")}(p);r=new Fh(s,c,d,A||null)}else if("documentChange"in e){const s=e.documentChange,c=Wa(o,s.document.name),d=Ro(s.document.updateTime),p=s.document.createTime?Ro(s.document.createTime):Ln.min(),A=new eo({mapValue:{fields:s.document.fields}}),N=gi.newFoundDocument(c,d,p,A);r=new Uu(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,c=Wa(o,s.document),d=s.readTime?Ro(s.readTime):Ln.min(),p=gi.newNoDocument(c,d);r=new Uu([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,c=Wa(o,s.document);r=new Uu([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return _e();{const s=e.filter,{count:c=0,unchangedNames:d}=s,p=new xm(c,d);r=new Nm(s.targetId,p)}}var W;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Ln.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Ln.min():p.readTime?Ro(p.readTime):Ln.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=Xc(this.serializer),r.addTarget=function(d,p){let A;const N=p.target;if(A=rr(N)?{documents:Gu(d,N)}:{query:$p(d,N).ut},A.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){A.resumeToken=Gd(d,p.resumeToken);const W=Cc(d,p.expectedCount);null!==W&&(A.expectedCount=W)}else if(p.snapshotVersion.compareTo(Ln.min())>0){A.readTime=Bu(d,p.snapshotVersion.toTimestamp());const W=Cc(d,p.expectedCount);null!==W&&(A.expectedCount=W)}return A}(this.serializer,e);const s=function Um(o,e){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=Xc(this.serializer),r.removeTarget=e,this.t_(r)}}class JE extends yu{constructor(e,r,s,c,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,c,p),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function Bh(o,e){return o&&o.length>0?(ht(void 0!==e),o.map(r=>function(c,d){let p=Ro(c.updateTime?c.updateTime:d);return p.isEqual(Ln.min())&&(p=Ro(d)),new Nd(p,c.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Ro(e.commitTime);return this.listener.T_(s,r)}return ht(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Xc(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Zc(this.serializer,s))};this.t_(r)}}class Oy extends class{}{constructor(e,r,s,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=c,this.A_=!1}R_(){if(this.A_)throw new Ut(vt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.So(e,kp(r,s),c,d,p)).catch(d=>{throw"FirebaseError"===d.name?(d.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ut(vt.UNKNOWN,d.toString())})}vo(e,r,s,c,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,A])=>this.connection.vo(e,kp(r,s),c,p,A,d)).catch(p=>{throw"FirebaseError"===p.name?(p.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ut(vt.UNKNOWN,p.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Iv{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(De(r),this.g_=!1):M("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Ev{constructor(e,r,s,c,d){var p=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(A=>{s.enqueueAndForget((0,l.c)(function*(){var N;Xu(p)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,l.c)(function*(ne){const ke=Xt(ne);ke.v_.add(4),yield Qu(ke),ke.x_.set("Unknown"),ke.v_.delete(4),yield gf(ke)}),function W(ne){return N.apply(this,arguments)})(p))}))}),this.x_=new Iv(s,c)}}function gf(o){return sd.apply(this,arguments)}function sd(){return sd=(0,l.c)(function*(o){if(Xu(o))for(const e of o.F_)yield e(!0)}),sd.apply(this,arguments)}function Qu(o){return th.apply(this,arguments)}function th(){return th=(0,l.c)(function*(o){for(const e of o.F_)yield e(!1)}),th.apply(this,arguments)}function mf(o,e){const r=Xt(o);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),ld(r)?nh(r):Zu(r).Jo()&&ad(r,e))}function Jl(o,e){const r=Xt(o),s=Zu(r);r.C_.delete(e),s.Jo()&&lg(r,e),0===r.C_.size&&(s.Jo()?s.Xo():Xu(r)&&r.x_.set("Unknown"))}function ad(o,e){if(o.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ln.min())>0){const r=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zu(o).c_(e)}function lg(o,e){o.O_.Oe(e),Zu(o).l_(e)}function nh(o){o.O_=new uy({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>o.C_.get(e)||null,nt:()=>o.datastore.serializer.databaseId}),Zu(o).start(),o.x_.p_()}function ld(o){return Xu(o)&&!Zu(o).Ho()&&o.C_.size>0}function Xu(o){return 0===Xt(o).v_.size}function Cv(o){o.O_=void 0}function Dv(o){return ug.apply(this,arguments)}function ug(){return ug=(0,l.c)(function*(o){o.C_.forEach((e,r)=>{ad(o,e)})}),ug.apply(this,arguments)}function Ny(o,e){return cg.apply(this,arguments)}function cg(){return cg=(0,l.c)(function*(o,e){Cv(o),ld(o)?(o.x_.S_(e),nh(o)):o.x_.set("Unknown")}),cg.apply(this,arguments)}function wv(o,e,r){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,l.c)(function*(o,e,r){if(o.x_.set("Online"),e instanceof Fh&&2===e.state&&e.cause)try{yield(s=(0,l.c)(function*(d,p){const A=p.cause;for(const N of p.targetIds)d.C_.has(N)&&(yield d.remoteSyncer.rejectListen(N,A),d.C_.delete(N),d.O_.removeTarget(N))}),function c(d,p){return s.apply(this,arguments)})(o,e)}catch(s){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield xc(o,s)}else if(e instanceof Uu?o.O_.$e(e):e instanceof Nm?o.O_.Je(e):o.O_.Ge(e),!r.isEqual(Ln.min()))try{const s=yield uf(o.localStore);r.compareTo(s)>=0&&(yield function(d,p){const A=d.O_.it(p);return A.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const ne=d.C_.get(W);ne&&d.C_.set(W,ne.withResumeToken(N.resumeToken,p))}}),A.targetMismatches.forEach((N,W)=>{const ne=d.C_.get(N);if(!ne)return;d.C_.set(N,ne.withResumeToken(go.EMPTY_BYTE_STRING,ne.snapshotVersion)),lg(d,N);const ke=new mu(ne.target,N,W,ne.sequenceNumber);ad(d,ke)}),d.remoteSyncer.applyRemoteEvent(A)}(o,r))}catch(s){M("RemoteStore","Failed to raise snapshot:",s),yield xc(o,s)}var s}),Pc.apply(this,arguments)}function xc(o,e,r){return rh.apply(this,arguments)}function rh(){return rh=(0,l.c)(function*(o,e,r){if(!Os(e))throw e;o.v_.add(1),yield Qu(o),o.x_.set("Offline"),r||(r=()=>uf(o.localStore)),o.asyncQueue.enqueueRetryable((0,l.c)(function*(){M("RemoteStore","Retrying IndexedDB access"),yield r(),o.v_.delete(1),yield gf(o)}))}),rh.apply(this,arguments)}function Tv(o,e){return e().catch(r=>xc(o,r,e))}function ud(o){return ih.apply(this,arguments)}function ih(){return ih=(0,l.c)(function*(o){const e=Xt(o),r=Pl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;bv(e);)try{const c=yield Js(e.localStore,s);if(null===c){0===e.D_.length&&r.Xo();break}s=c.batchId,Oc(e,c)}catch(c){yield xc(e,c)}dg(e)&&hg(e)}),ih.apply(this,arguments)}function bv(o){return Xu(o)&&o.D_.length<10}function Oc(o,e){o.D_.push(e);const r=Pl(o);r.Jo()&&r.P_&&r.I_(e.mutations)}function dg(o){return Xu(o)&&!Pl(o).Ho()&&o.D_.length>0}function hg(o){Pl(o).start()}function ky(o){return Av.apply(this,arguments)}function Av(){return Av=(0,l.c)(function*(o){Pl(o).d_()}),Av.apply(this,arguments)}function vf(o){return fg.apply(this,arguments)}function fg(){return fg=(0,l.c)(function*(o){const e=Pl(o);for(const r of o.D_)e.I_(r.mutations)}),fg.apply(this,arguments)}function Sv(o,e,r){return _f.apply(this,arguments)}function _f(){return _f=(0,l.c)(function*(o,e,r){const s=o.D_.shift(),c=xp.from(s,e,r);yield Tv(o,()=>o.remoteSyncer.applySuccessfulWrite(c)),yield ud(o)}),_f.apply(this,arguments)}function Rv(o,e){return oh.apply(this,arguments)}function oh(){return oh=(0,l.c)(function*(o,e){var r;e&&Pl(o).P_&&(yield(r=(0,l.c)(function*(c,d){if(Om(A=d.code)&&A!==vt.ABORTED){const p=c.D_.shift();Pl(c).Zo(),yield Tv(c,()=>c.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield ud(c)}var A}),function s(c,d){return r.apply(this,arguments)})(o,e)),dg(o)&&hg(o)}),oh.apply(this,arguments)}function pg(o,e){return cd.apply(this,arguments)}function cd(){return cd=(0,l.c)(function*(o,e){const r=Xt(o);r.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const s=Xu(r);r.v_.add(3),yield Qu(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield gf(r)}),cd.apply(this,arguments)}function Nc(o,e){return yf.apply(this,arguments)}function yf(){return yf=(0,l.c)(function*(o,e){const r=Xt(o);e?(r.v_.delete(2),yield gf(r)):e||(r.v_.add(2),yield Qu(r),r.x_.set("Unknown"))}),yf.apply(this,arguments)}function Zu(o){return o.N_||(o.N_=function(r,s,c){const d=Xt(r);return d.R_(),new _v(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:Dv.bind(null,o),To:Ny.bind(null,o),u_:wv.bind(null,o)}),o.F_.push(function(){var e=(0,l.c)(function*(r){r?(o.N_.Zo(),ld(o)?nh(o):o.x_.set("Unknown")):(yield o.N_.stop(),Cv(o))});return function(r){return e.apply(this,arguments)}}())),o.N_}function Pl(o){return o.B_||(o.B_=function(r,s,c){const d=Xt(r);return d.R_(),new JE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(o.datastore,o.asyncQueue,{Po:ky.bind(null,o),To:Rv.bind(null,o),E_:vf.bind(null,o),T_:Sv.bind(null,o)}),o.F_.push(function(){var e=(0,l.c)(function*(r){r?(o.B_.Zo(),yield ud(o)):(yield o.B_.stop(),o.D_.length>0&&(M("RemoteStore",`Stopping write stream with ${o.D_.length} pending writes`),o.D_=[]))});return function(r){return e.apply(this,arguments)}}())),o.B_}class If{constructor(e,r,s,c,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=d,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,c,d){const p=Date.now()+s,A=new If(e,r,p,c,d);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ju(o,e){if(De("AsyncQueue",`${e}: ${o}`),Os(o))return new Ut(vt.UNAVAILABLE,`${e}: ${o}`);throw o}class Iu{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Mn.comparator(r.key,s.key):(r,s)=>Mn.comparator(r.key,s.key),this.keyedMap=hu(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new Iu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,d=s.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Iu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Mv{constructor(){this.L_=new Yn(Mn.comparator)}track(e){const r=e.doc.key,s=this.L_.get(r);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(r,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(r):1===e.type&&2===s.type?this.L_=this.L_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(r,{type:2,doc:e.doc}):_e():this.L_=this.L_.insert(r,e)}k_(){const e=[];return this.L_.inorderTraversal((r,s)=>{e.push(s)}),e}}class kc{constructor(e,r,s,c,d,p,A,N,W){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=A,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(e,r,s,c,d){const p=[];return r.forEach(A=>{p.push({type:0,doc:A})}),new kc(e,r,Iu.emptySet(r),p,s,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ko(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class Ly{constructor(){this.q_=void 0,this.Q_=[]}}class Fy{constructor(){this.queries=new ja(e=>Ga(e),ko),this.onlineState="Unknown",this.K_=new Set}}function gg(o,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,l.c)(function*(o,e){const r=Xt(o),s=e.query;let c=!1,d=r.queries.get(s);if(d||(c=!0,d=new Ly),c)try{d.q_=yield r.onListen(s)}catch(p){const A=Ju(p,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(A)}r.queries.set(s,d),d.Q_.push(e),e.U_(r.onlineState),d.q_&&e.W_(d.q_)&&ec(r)}),Ef.apply(this,arguments)}function Cf(o,e){return Or.apply(this,arguments)}function Or(){return Or=(0,l.c)(function*(o,e){const r=Xt(o),s=e.query;let c=!1;const d=r.queries.get(s);if(d){const p=d.Q_.indexOf(e);p>=0&&(d.Q_.splice(p,1),c=0===d.Q_.length)}if(c)return r.queries.delete(s),r.onUnlisten(s)}),Or.apply(this,arguments)}function Pv(o,e){const r=Xt(o);let s=!1;for(const c of e){const p=r.queries.get(c.query);if(p){for(const A of p.Q_)A.W_(c)&&(s=!0);p.q_=c}}s&&ec(r)}function xv(o,e,r){const s=Xt(o),c=s.queries.get(e);if(c)for(const d of c.Q_)d.onError(r);s.queries.delete(e)}function ec(o){o.K_.forEach(e=>{e.next()})}class Df{constructor(e,r,s){this.query=e,this.G_=r,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new kc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.z_?this.H_(e)&&(this.G_.next(e),r=!0):this.J_(e,this.onlineState)&&(this.Y_(e),r=!0),this.j_=e,r}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let r=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),r=!0),r}J_(e,r){return!e.fromCache||(!this.options.Z_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Ov{constructor(e,r){this.X_=e,this.byteLength=r}ea(){return"metadata"in this.X_}}class Nv{constructor(e){this.serializer=e}Ps(e){return Wa(this.serializer,e)}Is(e){return e.metadata.exists?Fp(this.serializer,e.document,!1):gi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ro(e)}}class wf{constructor(e,r,s){this.ta=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lc(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++r;const s=zr.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ra(e){const r=new Map,s=new Nv(this.serializer);for(const c of e)if(c.metadata.queries){const d=s.Ps(c.metadata.name);for(const p of c.metadata.queries){const A=(r.get(p)||m()).add(d);r.set(p,A)}}return r}complete(){var e=this;return(0,l.c)(function*(){const r=yield function Ry(o,e,r,s){return ff.apply(this,arguments)}(e.localStore,new Nv(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const c of e.queries)yield My(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:r}})()}}function Lc(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}class Tf{constructor(e){this.key=e}}class dd{constructor(e){this.key=e}}class mg{constructor(e,r){this.query=e,this.oa=r,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=m(),this.mutatedKeys=m(),this.ua=_c(e),this.ca=new Iu(this.ua)}get la(){return this.oa}ha(e,r){const s=r?r.Pa:new Mv,c=r?r.ca:this.ca;let d=r?r.mutatedKeys:this.mutatedKeys,p=c,A=!1;const N="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,W="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ne,ke)=>{const lt=c.get(ne),Nt=Wl(this.query,ke)?ke:null,Dn=!!lt&&this.mutatedKeys.has(lt.key),jn=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let xn=!1;lt&&Nt?lt.data.isEqual(Nt.data)?Dn!==jn&&(s.track({type:3,doc:Nt}),xn=!0):this.Ia(lt,Nt)||(s.track({type:2,doc:Nt}),xn=!0,(N&&this.ua(Nt,N)>0||W&&this.ua(Nt,W)<0)&&(A=!0)):!lt&&Nt?(s.track({type:0,doc:Nt}),xn=!0):lt&&!Nt&&(s.track({type:1,doc:lt}),xn=!0,(N||W)&&(A=!0)),xn&&(Nt?(p=p.add(Nt),d=jn?d.add(ne):d.delete(ne)):(p=p.delete(ne),d=d.delete(ne)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const ne="F"===this.query.limitType?p.last():p.first();p=p.delete(ne.key),d=d.delete(ne.key),s.track({type:1,doc:ne})}return{ca:p,Pa:s,Xi:A,mutatedKeys:d}}Ia(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,c){const d=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const p=e.Pa.k_();p.sort((ne,ke)=>function(Nt,Dn){const jn=xn=>{switch(xn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return jn(Nt)-jn(Dn)}(ne.type,ke.type)||this.ua(ne.doc,ke.doc)),this.Ta(s),c=null!=c&&c;const A=r&&!c?this.Ea():[],N=0===this.aa.size&&this.current&&!c?1:0,W=N!==this._a;return this._a=N,0!==p.length||W?{snapshot:new kc(this.query,e.ca,d,p,e.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:A}:{da:A}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Mv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(r=>this.oa=this.oa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.oa=this.oa.delete(r)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=m(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const r=[];return e.forEach(s=>{this.aa.has(s)||r.push(new dd(s))}),this.aa.forEach(s=>{e.has(s)||r.push(new Tf(s))}),r}Ra(e){this.oa=e.hs,this.aa=m();const r=this.ha(e.documents);return this.applyChanges(r,!0)}Va(){return kc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class vg{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class _g{constructor(e){this.key=e,this.ma=!1}}class yg{constructor(e,r,s,c,d,p){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.fa={},this.ga=new ja(A=>Ga(A),ko),this.pa=new Map,this.ya=new Set,this.wa=new Yn(Mn.comparator),this.Sa=new Map,this.ba=new rf,this.Da={},this.Ca=new Map,this.va=Ml.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function kv(o,e){return sh.apply(this,arguments)}function sh(){return sh=(0,l.c)(function*(o,e){const r=kg(o);let s,c;const d=r.ga.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),c=d.view.Va();else{const p=yield Xl(r.localStore,ar(e)),A=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,c=yield Ig(r,e,s,"current"===A,p.resumeToken),r.isPrimaryClient&&mf(r.remoteStore,p)}return c}),sh.apply(this,arguments)}function Ig(o,e,r,s,c){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,l.c)(function*(o,e,r,s,c){o.Ma=(ke,lt,Nt)=>{return(Dn=(0,l.c)(function*(xn,gr,Nr,yr){let qr=gr.view.ha(Nr);qr.Xi&&(qr=yield hf(xn.localStore,gr.query,!1).then(({documents:Ka})=>gr.view.ha(Ka,qr)));const Ki=yr&&yr.targetChanges.get(gr.targetId),Ui=yr&&null!=yr.targetMismatches.get(gr.targetId),qo=gr.view.applyChanges(qr,xn.isPrimaryClient,Ki,Ui);return Sf(xn,gr.targetId,qo.da),qo.snapshot}),function jn(xn,gr,Nr,yr){return Dn.apply(this,arguments)})(o,ke,lt,Nt);var Dn};const d=yield hf(o.localStore,e,!0),p=new mg(e,d.hs),A=p.ha(d.documents),N=Kl.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==o.onlineState,c),W=p.applyChanges(A,o.isPrimaryClient,N);Sf(o,r,W.da);const ne=new vg(e,r,p);return o.ga.set(e,ne),o.pa.has(r)?o.pa.get(r).push(e):o.pa.set(r,[e]),W.snapshot}),Eg.apply(this,arguments)}function Vy(o,e){return bf.apply(this,arguments)}function bf(){return bf=(0,l.c)(function*(o,e){const r=Xt(o),s=r.ga.get(e),c=r.pa.get(s.targetId);if(c.length>1)return r.pa.set(s.targetId,c.filter(d=>!ko(d,e))),void r.ga.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Rc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Jl(r.remoteStore,s.targetId),hd(r,s.targetId)}).catch(Ys))):(hd(r,s.targetId),yield Rc(r.localStore,s.targetId,!0))}),bf.apply(this,arguments)}function Cg(){return Cg=(0,l.c)(function*(o,e,r){const s=Lg(o);try{const c=yield function(p,A){const N=Xt(p),W=Ni.now(),ne=A.reduce((Nt,Dn)=>Nt.add(Dn.key),m());let ke,lt;return N.persistence.runTransaction("Locally write mutations","readwrite",Nt=>{let Dn=ss(),jn=m();return N.os.getEntries(Nt,ne).next(xn=>{Dn=xn,Dn.forEach((gr,Nr)=>{Nr.isValidDocument()||(jn=jn.add(gr))})}).next(()=>N.localDocuments.getOverlayedDocuments(Nt,Dn)).next(xn=>{ke=xn;const gr=[];for(const Nr of A){const yr=ly(Nr,ke.get(Nr.key).overlayedDocument);null!=yr&&gr.push(new pu(Nr.key,yr,ks(yr.value.mapValue),Ur.exists(!0)))}return N.mutationQueue.addMutationBatch(Nt,W,gr,A)}).next(xn=>{lt=xn;const gr=xn.applyToLocalDocumentSet(ke,jn);return N.documentOverlayCache.saveOverlays(Nt,xn.batchId,gr)})}).then(()=>({batchId:lt.batchId,changes:Pd(ke)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,A,N){let W=p.Da[p.currentUser.toKey()];W||(W=new Yn(Tr)),W=W.insert(A,N),p.Da[p.currentUser.toKey()]=W}(s,c.batchId,r),yield xl(s,c.changes),yield ud(s.remoteStore)}catch(c){const d=Ju(c,"Failed to persist write");r.reject(d)}}),Cg.apply(this,arguments)}function Lv(o,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,l.c)(function*(o,e){const r=Xt(o);try{const s=yield function lv(o,e){const r=Xt(o),s=e.snapshotVersion;let c=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.os.newChangeBuffer({trackRemovals:!0});c=r.ns;const A=[];e.targetChanges.forEach((ne,ke)=>{const lt=c.get(ke);if(!lt)return;A.push(r.Qr.removeMatchingKeys(d,ne.removedDocuments,ke).next(()=>r.Qr.addMatchingKeys(d,ne.addedDocuments,ke)));let Nt=lt.withSequenceNumber(d.currentSequenceNumber);var jn,xn,gr;null!==e.targetMismatches.get(ke)?Nt=Nt.withResumeToken(go.EMPTY_BYTE_STRING,Ln.min()).withLastLimboFreeSnapshotVersion(Ln.min()):ne.resumeToken.approximateByteSize()>0&&(Nt=Nt.withResumeToken(ne.resumeToken,s)),c=c.insert(ke,Nt),xn=Nt,gr=ne,(0===(jn=lt).resumeToken.approximateByteSize()||xn.snapshotVersion.toMicroseconds()-jn.snapshotVersion.toMicroseconds()>=3e8||gr.addedDocuments.size+gr.modifiedDocuments.size+gr.removedDocuments.size>0)&&A.push(r.Qr.updateTargetData(d,Nt))});let N=ss(),W=m();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(d,ne))}),A.push(cf(d,p,e.documentUpdates).next(ne=>{N=ne.cs,W=ne.ls})),!s.isEqual(Ln.min())){const ne=r.Qr.getLastRemoteSnapshotVersion(d).next(ke=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));A.push(ne)}return bt.waitFor(A).next(()=>p.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,N,W)).next(()=>N)}).then(d=>(r.ns=c,d))}(r.localStore,e);e.targetChanges.forEach((c,d)=>{const p=r.Sa.get(d);p&&(ht(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.ma=!0:c.modifiedDocuments.size>0?ht(p.ma):c.removedDocuments.size>0&&(ht(p.ma),p.ma=!1))}),yield xl(r,s,e)}catch(s){yield Ys(s)}}),Dg.apply(this,arguments)}function wg(o,e,r){const s=Xt(o);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.ga.forEach((d,p)=>{const A=p.view.U_(e);A.snapshot&&c.push(A.snapshot)}),function(p,A){const N=Xt(p);N.onlineState=A;let W=!1;N.queries.forEach((ne,ke)=>{for(const lt of ke.Q_)lt.U_(A)&&(W=!0)}),W&&ec(N)}(s.eventManager,e),c.length&&s.fa.u_(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Fv(o,e,r){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,l.c)(function*(o,e,r){const s=Xt(o);s.sharedClientState.updateQueryState(e,"rejected",r);const c=s.Sa.get(e),d=c&&c.key;if(d){let p=new Yn(Mn.comparator);p=p.insert(d,gi.newNoDocument(d,Ln.min()));const A=m().add(d),N=new Ud(Ln.min(),new Map,new Yn(Tr),p,A);yield Lv(s,N),s.wa=s.wa.remove(d),s.Sa.delete(e),Sg(s)}else yield Rc(s.localStore,e,!1).then(()=>hd(s,e,r)).catch(Ys)}),Tg.apply(this,arguments)}function Uy(o,e){return ea.apply(this,arguments)}function ea(){return ea=(0,l.c)(function*(o,e){const r=Xt(o),s=e.batch.batchId;try{const c=yield function wa(o,e){const r=Xt(o);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(A,N,W,ne){const ke=W.batch,lt=ke.keys();let Nt=bt.resolve();return lt.forEach(Dn=>{Nt=Nt.next(()=>ne.getEntry(N,Dn)).next(jn=>{const xn=W.docVersions.get(Dn);ht(null!==xn),jn.version.compareTo(xn)<0&&(ke.applyToRemoteDocument(jn,W),jn.isValidDocument()&&(jn.setReadTime(W.commitVersion),ne.addEntry(jn)))})}),Nt.next(()=>A.mutationQueue.removeMutationBatch(N,ke))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(A){let N=m();for(let W=0;W<A.mutationResults.length;++W)A.mutationResults[W].transformResults.length>0&&(N=N.add(A.batch.mutations[W].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,c))})}(r.localStore,e);Ag(r,s,null),Af(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield xl(r,c)}catch(c){yield Ys(c)}}),ea.apply(this,arguments)}function By(o,e,r){return bg.apply(this,arguments)}function bg(){return bg=(0,l.c)(function*(o,e,r){const s=Xt(o);try{const c=yield function(p,A){const N=Xt(p);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let ne;return N.mutationQueue.lookupMutationBatch(W,A).next(ke=>(ht(null!==ke),ne=ke.keys(),N.mutationQueue.removeMutationBatch(W,ke))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,ne,A)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,ne)).next(()=>N.localDocuments.getDocuments(W,ne))})}(s.localStore,e);Ag(s,e,r),Af(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield xl(s,c)}catch(c){yield Ys(c)}}),bg.apply(this,arguments)}function ah(){return ah=(0,l.c)(function*(o,e){const r=Xt(o);Xu(r.remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const A=Xt(p);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>A.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const c=r.Ca.get(s)||[];c.push(e),r.Ca.set(s,c)}catch(s){const c=Ju(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),ah.apply(this,arguments)}function Af(o,e){(o.Ca.get(e)||[]).forEach(r=>{r.resolve()}),o.Ca.delete(e)}function Ag(o,e,r){const s=Xt(o);let c=s.Da[s.currentUser.toKey()];if(c){const d=c.get(e);d&&(r?d.reject(r):d.resolve(),c=c.remove(e)),s.Da[s.currentUser.toKey()]=c}}function hd(o,e,r=null){o.sharedClientState.removeLocalQueryTarget(e);for(const s of o.pa.get(e))o.ga.delete(s),r&&o.fa.xa(s,r);o.pa.delete(e),o.isPrimaryClient&&o.ba.Vr(e).forEach(s=>{o.ba.containsKey(s)||Vv(o,s)})}function Vv(o,e){o.ya.delete(e.path.canonicalString());const r=o.wa.get(e);null!==r&&(Jl(o.remoteStore,r),o.wa=o.wa.remove(e),o.Sa.delete(r),Sg(o))}function Sf(o,e,r){for(const s of r)s instanceof Tf?(o.ba.addReference(s.key,e),Gy(o,s)):s instanceof dd?(M("SyncEngine","Document no longer in limbo: "+s.key),o.ba.removeReference(s.key,e),o.ba.containsKey(s.key)||Vv(o,s.key)):_e()}function Gy(o,e){const r=e.key,s=r.path.canonicalString();o.wa.get(r)||o.ya.has(s)||(M("SyncEngine","New document in limbo: "+r),o.ya.add(s),Sg(o))}function Sg(o){for(;o.ya.size>0&&o.wa.size<o.maxConcurrentLimboResolutions;){const e=o.ya.values().next().value;o.ya.delete(e);const r=new Mn(zr.fromString(e)),s=o.va.next();o.Sa.set(s,new _g(r)),o.wa=o.wa.insert(r,s),mf(o.remoteStore,new mu(ar(Wr(r.path)),s,"TargetPurposeLimboResolution",Ns._e))}}function xl(o,e,r){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,l.c)(function*(o,e,r){const s=Xt(o),c=[],d=[],p=[];var A;s.ga.isEmpty()||(s.ga.forEach((A,N)=>{p.push(s.Ma(N,e,r).then(W=>{if((W||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,null!=W&&W.fromCache?"not-current":"current"),W){c.push(W);const ne=Zd.Ki(N.targetId,W);d.push(ne)}}))}),yield Promise.all(p),s.fa.u_(c),yield(A=(0,l.c)(function*(W,ne){const ke=Xt(W);try{yield ke.persistence.runTransaction("notifyLocalViewChanges","readwrite",lt=>bt.forEach(ne,Nt=>bt.forEach(Nt.qi,Dn=>ke.persistence.referenceDelegate.addReference(lt,Nt.targetId,Dn)).next(()=>bt.forEach(Nt.Qi,Dn=>ke.persistence.referenceDelegate.removeReference(lt,Nt.targetId,Dn)))))}catch(lt){if(!Os(lt))throw lt;M("LocalStore","Failed to update sequence numbers: "+lt)}for(const lt of ne){const Nt=lt.targetId;if(!lt.fromCache){const Dn=ke.ns.get(Nt),xn=Dn.withLastLimboFreeSnapshotVersion(Dn.snapshotVersion);ke.ns=ke.ns.insert(Nt,xn)}}}),function N(W,ne){return A.apply(this,arguments)})(s.localStore,d))}),Rg.apply(this,arguments)}function jy(o,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,l.c)(function*(o,e){const r=Xt(o);if(!r.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const s=yield av(r.localStore,e);r.currentUser=e,(d=r).Ca.forEach(A=>{A.forEach(N=>{N.reject(new Ut(vt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ca.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield xl(r,s.us)}var d}),Mg.apply(this,arguments)}function Hy(o,e){const r=Xt(o),s=r.Sa.get(e);if(s&&s.ma)return m().add(s.key);{let c=m();const d=r.pa.get(e);if(!d)return c;for(const p of d){const A=r.ga.get(p);c=c.unionWith(A.view.la)}return c}}function Wy(o,e){return hl.apply(this,arguments)}function hl(){return hl=(0,l.c)(function*(o,e){const r=Xt(o),s=yield hf(r.localStore,e.query,!0),c=e.view.Ra(s);return r.isPrimaryClient&&Sf(r,e.targetId,c.da),c}),hl.apply(this,arguments)}function Pg(o,e){return xg.apply(this,arguments)}function xg(){return xg=(0,l.c)(function*(o,e){const r=Xt(o);return uv(r.localStore,e).then(s=>xl(r,s))}),xg.apply(this,arguments)}function zy(o,e,r,s){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,l.c)(function*(o,e,r,s){const c=Xt(o),d=yield function(A,N){const W=Xt(A),ne=Xt(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",ke=>ne.vn(ke,N).next(lt=>lt?W.localDocuments.getDocuments(ke,lt):bt.resolve(null)))}(c.localStore,e);var N;null!==d?("pending"===r?yield ud(c.remoteStore):"acknowledged"===r||"rejected"===r?(Ag(c,e,s||null),Af(c,e),N=e,Xt(Xt(c.localStore).mutationQueue).Mn(N)):_e(),yield xl(c,d)):M("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rf.apply(this,arguments)}function fd(){return fd=(0,l.c)(function*(o,e){const r=Xt(o);if(kg(r),Lg(r),!0===e&&!0!==r.Fa){const s=r.sharedClientState.getAllActiveQueryTargets(),c=yield Mf(r,s.toArray());r.Fa=!0,yield Nc(r.remoteStore,!0);for(const d of c)mf(r.remoteStore,d)}else if(!1===e&&!1!==r.Fa){const s=[];let c=Promise.resolve();r.pa.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):c=c.then(()=>(hd(r,p),Rc(r.localStore,p,!0))),Jl(r.remoteStore,p)}),yield c,yield Mf(r,s),function(p){const A=Xt(p);A.Sa.forEach((N,W)=>{Jl(A.remoteStore,W)}),A.ba.mr(),A.Sa=new Map,A.wa=new Yn(Mn.comparator)}(r),r.Fa=!1,yield Nc(r.remoteStore,!1)}}),fd.apply(this,arguments)}function Mf(o,e,r){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,l.c)(function*(o,e,r){const s=Xt(o),c=[],d=[];for(const p of e){let A;const N=s.pa.get(p);if(N&&0!==N.length){A=yield Xl(s.localStore,ar(N[0]));for(const W of N){const ne=s.ga.get(W),ke=yield Wy(s,ne);ke.snapshot&&d.push(ke.snapshot)}}else{const W=yield rg(s.localStore,p);A=yield Xl(s.localStore,W),yield Ig(s,Og(W),p,!1,A.resumeToken)}c.push(A)}return s.fa.u_(d),c}),Uv.apply(this,arguments)}function Og(o){return Ri(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function Bv(o){return r=Xt(o).localStore,Xt(Xt(r).persistence).Li();var r}function Gv(o,e,r,s){return pd.apply(this,arguments)}function pd(){return pd=(0,l.c)(function*(o,e,r,s){const c=Xt(o);if(c.Fa)return void M("SyncEngine","Ignoring unexpected query state notification.");const d=c.pa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const p=yield uv(c.localStore,zl(d[0])),A=Ud.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,go.EMPTY_BYTE_STRING);yield xl(c,p,A);break}case"rejected":yield Rc(c.localStore,e,!0),hd(c,e,s);break;default:_e()}}),pd.apply(this,arguments)}function Ng(o,e,r){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,l.c)(function*(o,e,r){const s=kg(o);if(s.Fa){for(const c of e){if(s.pa.has(c)){M("SyncEngine","Adding an already active target "+c);continue}const d=yield rg(s.localStore,c),p=yield Xl(s.localStore,d);yield Ig(s,Og(d),p.targetId,!1,p.resumeToken),mf(s.remoteStore,p)}for(const c of r)s.pa.has(c)&&(yield Rc(s.localStore,c,!1).then(()=>{Jl(s.remoteStore,c),hd(s,c)}).catch(Ys))}}),Ol.apply(this,arguments)}function kg(o){const e=Xt(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fv.bind(null,e),e.fa.u_=Pv.bind(null,e.eventManager),e.fa.xa=xv.bind(null,e.eventManager),e}function Lg(o){const e=Xt(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=By.bind(null,e),e}class gd{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.c)(function*(){r.serializer=Zl(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return tg(this.persistence,new sv,e.initialUser,this.serializer)}createPersistence(e){return new iv(Yu.Hr,this.serializer)}createSharedClientState(e){return new Py}terminate(){var e=this;return(0,l.c)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pf extends gd{constructor(e,r,s){super(),this.Na=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.c)(function*(){yield r().call(s,e),yield s.Na.initialize(s,e),yield Lg(s.Na.syncEngine),yield ud(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return tg(this.persistence,new sv,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new tf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new Ti(r,this.persistence);return new is(e.asyncQueue,s)}createPersistence(e){const r=eg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ca.withCacheSize(this.cacheSizeBytes):ca.DEFAULT;return new Jp(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,vv(),eh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Py}}class Fc extends Pf{constructor(e,r){super(e,r,!1),this.Na=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.c)(function*(){yield r().call(s,e);const c=s.Na.syncEngine;s.sharedClientState instanceof pv&&(s.sharedClientState.syncEngine={Zs:zy.bind(null,c),Xs:Gv.bind(null,c),eo:Ng.bind(null,c),Li:Bv.bind(null,c),Ys:Pg.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,l.c)(function*(p){yield function $v(o,e){return fd.apply(this,arguments)}(s.Na.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=vv();if(!pv.D(r))throw new Ut(vt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=eg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pv(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class eu{initialize(e,r){var s=this;return(0,l.c)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>wg(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=jy.bind(null,s.syncEngine),yield Nc(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fy}createDatastore(e){const r=Zl(e.databaseInfo.databaseId),s=new xy(e.databaseInfo);return new Oy(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,c=this.datastore,d=e.asyncQueue,p=r=>wg(this.syncEngine,r,0),A=gv.D()?new gv:new ZE,new Ev(s,c,d,p,A);var s,c,d,p,A}createSyncEngine(e,r){return function(c,d,p,A,N,W,ne){const ke=new yg(c,d,p,A,N,W);return ne&&(ke.Fa=!0),ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,l.c)(function*(){var r,s;yield(s=(0,l.c)(function*(d){const p=Xt(d);M("RemoteStore","RemoteStore shutting down."),p.v_.add(5),yield Qu(p),p.M_.shutdown(),p.x_.set("Unknown")}),function c(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function xf(o,e=10240){let r=0;return{read:()=>(0,l.c)(function*(){if(r<o.byteLength){const s={value:o.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class tc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):De("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class jv{constructor(e,r){this.ka=e,this.serializer=r,this.metadata=new Xn,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,l.c)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,l.c)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,l.c)(function*(){const r=yield e.Ka();if(null===r)return null;const s=e.qa.decode(r),c=Number(s);isNaN(c)&&e.$a(`length string (${s}) is not valid number`);const d=yield e.Ua(c);return new Ov(JSON.parse(d),r.length+c)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,l.c)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const r=e.Wa();r<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ua(e){var r=this;return(0,l.c)(function*(){for(;r.buffer.length<e;)(yield r.Ga())&&r.$a("Reached the end of bundle when more is expected.");const s=r.qa.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,l.c)(function*(){const r=yield e.ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class Hv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.c)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ut(vt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(c=(0,l.c)(function*(p,A){const N=Xt(p),W={documents:A.map(Nt=>jd(N.serializer,Nt))},ne=yield N.vo("BatchGetDocuments",N.serializer.databaseId,zr.emptyPath(),W,A.length),ke=new Map;ne.forEach(Nt=>{const Dn=function Vm(o,e){return"found"in e?function(s,c){ht(!!c.found);const d=Wa(s,c.found.name),p=Ro(c.found.updateTime),A=c.found.createTime?Ro(c.found.createTime):Ln.min(),N=new eo({mapValue:{fields:c.found.fields}});return gi.newFoundDocument(d,p,A,N)}(o,e):"missing"in e?function(s,c){ht(!!c.missing),ht(!!c.readTime);const d=Wa(s,c.missing),p=Ro(c.readTime);return gi.newNoDocument(d,p)}(o,e):_e()}(N.serializer,Nt);ke.set(Dn.key.toString(),Dn)});const lt=[];return A.forEach(Nt=>{const Dn=ke.get(Nt.toString());ht(!!Dn),lt.push(Dn)}),lt}),function d(p,A){return c.apply(this,arguments)})(r.datastore,e);var c;return s.forEach(c=>r.recordVersion(c)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ec(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.c)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,c)=>{const d=Mn.fromPath(c);e.mutations.push(new Fd(d,e.precondition(d)))}),yield(s=(0,l.c)(function*(d,p){const A=Xt(d),N={writes:p.map(W=>Zc(A.serializer,W))};yield A.So("Commit",A.serializer.databaseId,zr.emptyPath(),N)}),function c(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw _e();r=Ln.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Ut(vt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Ln.min())?Ur.exists(!1):Ur.updateTime(r):Ur.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Ln.min()))throw new Ut(vt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(r)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qy{constructor(e,r,s,c,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=c,this.deferred=d,this.za=s.maxAttempts,this.jo=new da(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,l.c)(function*(){const r=new Hv(e.datastore),s=e.Ja(r);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(d=>{e.Ya(d)}))}).catch(c=>{e.Ya(c)})}))}Ja(e){try{const r=this.updateFunction(e);return!Go(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Om(r)}return!1}}class Ky{constructor(e,r,s,c){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=c,this.user=kr.UNAUTHENTICATED,this.clientId=nl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,l.c)(function*(A){M("FirestoreClient","Received user=",A.uid),yield d.authCredentialListener(A),d.user=A});return function(A){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(M("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ut(vt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const c=Ju(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Of(o,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,l.c)(function*(o,e){o.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const r=o.configuration;yield e.initialize(r);let s=r.initialUser;o.setCredentialChangeListener(function(){var c=(0,l.c)(function*(d){s.isEqual(d)||(yield av(e.localStore,d),s=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}),Vg.apply(this,arguments)}function $g(o,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,l.c)(function*(o,e){o.asyncQueue.verifyOperationInProgress();const r=yield Nf(o);M("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,o.configuration),o.setCredentialChangeListener(s=>pg(e.remoteStore,s)),o.setAppCheckTokenChangeListener((s,c)=>pg(e.remoteStore,c)),o._onlineComponents=e}),Ug.apply(this,arguments)}function Bg(o){return"FirebaseError"===o.name?o.code===vt.FAILED_PRECONDITION||o.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code}function Nf(o){return kf.apply(this,arguments)}function kf(){return kf=(0,l.c)(function*(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Of(o,o._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Bg(r))throw r;B("Error using user provided cache. Falling back to memory cache: "+r),yield Of(o,new gd)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield Of(o,new gd);return o._offlineComponents}),kf.apply(this,arguments)}function uh(o){return md.apply(this,arguments)}function md(){return md=(0,l.c)(function*(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield $g(o,o._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield $g(o,new eu))),o._onlineComponents}),md.apply(this,arguments)}function Wv(o){return Nf(o).then(e=>e.persistence)}function ch(o){return Nf(o).then(e=>e.localStore)}function zv(o){return uh(o).then(e=>e.remoteStore)}function Gg(o){return uh(o).then(e=>e.syncEngine)}function vd(o){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,l.c)(function*(o){const e=yield uh(o),r=e.eventManager;return r.onListen=kv.bind(null,e.syncEngine),r.onUnlisten=Vy.bind(null,e.syncEngine),r}),Hg.apply(this,arguments)}function _d(o,e,r={}){const s=new Xn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function(d,p,A,N,W){const ne=new tc({next:lt=>{p.enqueueAndForget(()=>Cf(d,ke));const Nt=lt.docs.has(A);!Nt&&lt.fromCache?W.reject(new Ut(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):Nt&&lt.fromCache&&N&&"server"===N.source?W.reject(new Ut(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(lt)},error:lt=>W.reject(lt)}),ke=new Df(Wr(A.path),ne,{includeMetadataChanges:!0,Z_:!0});return gg(d,ke)}(yield vd(o),o.asyncQueue,e,r,s)})),s.promise}function yd(o,e,r={}){const s=new Xn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function(d,p,A,N,W){const ne=new tc({next:lt=>{p.enqueueAndForget(()=>Cf(d,ke)),lt.fromCache&&"server"===N.source?W.reject(new Ut(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(lt)},error:lt=>W.reject(lt)}),ke=new Df(A,ne,{includeMetadataChanges:!0,Z_:!0});return gg(d,ke)}(yield vd(o),o.asyncQueue,e,r,s)})),s.promise}function Jy(o){const e={};return void 0!==o.timeoutSeconds&&(e.timeoutSeconds=o.timeoutSeconds),e}const eI=new Map;function qg(o,e,r){if(!r)throw new Ut(vt.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function Yv(o,e,r,s){if(!0===e&&!0===s)throw new Ut(vt.INVALID_ARGUMENT,`${o} and ${r} cannot be used together.`)}function tI(o){if(!Mn.isDocumentKey(o))throw new Ut(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function Qv(o){if(Mn.isDocumentKey(o))throw new Ut(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function Kg(o){if(void 0===o)return"undefined";if(null===o)return"null";if("string"==typeof o)return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if("number"==typeof o||"boolean"==typeof o)return""+o;if("object"==typeof o){if(o instanceof Array)return"an array";{const e=(s=o).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof o?"a function":_e()}function fi(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Ut(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Kg(o);throw new Ut(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return o}function Xv(o,e){if(e<=0)throw new Ut(vt.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${e}.`)}class Zv{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ut(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Ut(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Ut(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Ut(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,r,s,c){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ut(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new ti;switch(s.type){case"firstParty":return new Xi(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ut(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=eI.get(r);s&&(M("ComponentProvider","Removing Datastore"),eI.delete(r),s.terminate())}(this),Promise.resolve()}}function Id(o,e,r,s={}){var c;const d=(o=fi(o,Vc))._getSettings(),p=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&B("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let A,N;if("string"==typeof s.mockUserToken)A=s.mockUserToken,N=kr.MOCK_USER;else{A=(0,we.YD)(s.mockUserToken,null===(c=o._app)||void 0===c?void 0:c.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new Ut(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new kr(W)}o._authCredentials=new Oi(new Pr(A,N))}}class ls{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class lo{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class Nl extends ls{constructor(e,r,s){super(e,r,Wr(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new Mn(e))}withConverter(e){return new Nl(this.firestore,e,this._path)}}function hh(o,e,...r){if(o=(0,we.Yj)(o),qg("collection","path",e),o instanceof Vc){const s=zr.fromString(e,...r);return Qv(s),new Nl(o,null,s)}{if(!(o instanceof lo||o instanceof Nl))throw new Ut(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(zr.fromString(e,...r));return Qv(s),new Nl(o.firestore,null,s)}}function Jv(o,e){if(o=fi(o,Vc),qg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ut(vt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(o,null,(s=e,new $r(zr.emptyPath(),s)));var s}function e_(o,e,...r){if(o=(0,we.Yj)(o),1===arguments.length&&(e=nl.newId()),qg("doc","path",e),o instanceof Vc){const s=zr.fromString(e,...r);return tI(s),new lo(o,null,new Mn(s))}{if(!(o instanceof lo||o instanceof Nl))throw new Ut(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=o._path.child(zr.fromString(e,...r));return tI(s),new lo(o.firestore,o instanceof Nl?o.converter:null,new Mn(s))}}function fh(o,e){return o=(0,we.Yj)(o),e=(0,we.Yj)(e),(o instanceof lo||o instanceof Nl)&&(e instanceof lo||e instanceof Nl)&&o.firestore===e.firestore&&o.path===e.path&&o.converter===e.converter}function Ff(o,e){return o=(0,we.Yj)(o),e=(0,we.Yj)(e),o instanceof ls&&e instanceof ls&&o.firestore===e.firestore&&ko(o._query,e._query)&&o.converter===e.converter}class nI{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new da(this,"async_queue_retry"),this._u=()=>{const r=eh();r&&M("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=eh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const r=eh();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const r=new Xn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,l.c)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(r){if(!Os(r))throw r;M("AsyncQueue","Operation failed with retryable error: "+r)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const r=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,De("INTERNAL UNHANDLED ERROR: ",function(p){let A=p.message||"";return p.stack&&(A=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),A}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=r,r}enqueueAfterDelay(e,r,s){this.au(),this.ou.indexOf(e)>-1&&(r=0);const c=If.createAndSchedule(this,e,r,s,d=>this.lu(d));return this.nu.push(c),c}au(){this.ru&&_e()}verifyOperationInProgress(){}hu(){var e=this;return(0,l.c)(function*(){let r;do{r=e.Xa,yield r}while(r!==e.Xa)})()}Pu(e){for(const r of this.nu)if(r.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.nu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const r=this.nu.indexOf(e);this.nu.splice(r,1)}}function Vf(o){return function(r,s){if("object"!=typeof r||null===r)return!1;const c=r;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(o)}class $f{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const rI=-1;class oo extends Vc{constructor(e,r,s,c){super(e,r,s,c),this.type="firestore",this._queue=new nI,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uf(this),this._firestoreClient.terminate()}}function iI(o,e){const r="object"==typeof o?o:(0,x.getApp)(),s="string"==typeof o?o:e||"(default)",c=(0,x._getProvider)(r,"firestore").getImmediate({identifier:s});if(!c._initialized){const d=(0,we.on)("firestore");d&&Id(c,...d)}return c}function Mo(o){return o._firestoreClient||Uf(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function Uf(o){var e,r,s;const c=o._freezeSettings(),d=(N=(null===(e=o._app)||void 0===e?void 0:e.options.appId)||"",new Dl(o._databaseId,N,o._persistenceKey,(ne=c).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,Jy(ne.experimentalLongPollingOptions),ne.useFetchStreams));var N,ne;o._firestoreClient=new Ky(o._authCredentials,o._appCheckCredentials,o._queue,d),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function ph(o,e){n_(o=fi(o,oo));const r=Mo(o);if(r._uninitializedComponentsProvider)throw new Ut(vt.FAILED_PRECONDITION,"SDK cache is already specified.");B("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=o._freezeSettings(),c=new eu;return gh(r,c,new Pf(c,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Bf(o){n_(o=fi(o,oo));const e=Mo(o);if(e._uninitializedComponentsProvider)throw new Ut(vt.FAILED_PRECONDITION,"SDK cache is already specified.");B("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=o._freezeSettings(),s=new eu;return gh(e,s,new Fc(s,r.cacheSizeBytes))}function gh(o,e,r){const s=new Xn;return o.asyncQueue.enqueue((0,l.c)(function*(){try{yield Of(o,r),yield $g(o,e),s.resolve()}catch(c){const d=c;if(!Bg(d))throw d;B("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function r0(o){if(o._initialized&&!o._terminated)throw new Ut(vt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xn;return o._queue.enqueueAndForgetEvenWhileRestricted((0,l.c)(function*(){try{yield(r=(0,l.c)(function*(c){if(!fo.D())return Promise.resolve();const d=c+"main";yield fo.delete(d)}),function s(c){return r.apply(this,arguments)})(eg(o._databaseId,o._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function oI(o){return function(r){const s=new Xn;return r.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function t0(o,e){return ah.apply(this,arguments)}(yield Gg(r),s)})),s.promise}(Mo(o=fi(o,oo)))}function sI(o){return function qv(o){return o.asyncQueue.enqueue((0,l.c)(function*(){const e=yield Wv(o),r=yield zv(o);return e.setNetworkEnabled(!0),function(c){const d=Xt(c);return d.v_.delete(0),gf(d)}(r)}))}(Mo(o=fi(o,oo)))}function Yg(o){return function Wg(o){return o.asyncQueue.enqueue((0,l.c)(function*(){const e=yield Wv(o),r=yield zv(o);return e.setNetworkEnabled(!1),(s=(0,l.c)(function*(d){const p=Xt(d);p.v_.add(0),yield Qu(p),p.x_.set("Offline")}),function c(d){return s.apply(this,arguments)})(r);var s}))}(Mo(o=fi(o,oo)))}function t_(o,e){const r=Mo(o=fi(o,oo)),s=new $f;return function Qy(o,e,r,s){const c=function(p,A){let N;return N="string"==typeof p?Vd().encode(p):p,ne=function(ne,ke){if(ne instanceof Uint8Array)return xf(ne,void 0);if(ne instanceof ArrayBuffer)return xf(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new jv(ne,A);var ne}(r,Zl(e));o.asyncQueue.enqueueAndForget((0,l.c)(function*(){!function Fg(o,e,r){const s=Xt(o);var c;(c=(0,l.c)(function*(p,A,N){try{const W=yield A.getMetadata();if(yield function(Dn,jn){const xn=Xt(Dn),gr=Ro(jn.createTime);return xn.persistence.runTransaction("hasNewerBundle","readonly",Nr=>xn.$r.getBundleMetadata(Nr,jn.id)).then(Nr=>!!Nr&&Nr.createTime.compareTo(gr)>=0)}(p.localStore,W))return yield A.close(),N._completeWith({taskState:"Success",documentsLoaded:(Dn=W).totalDocuments,bytesLoaded:Dn.totalBytes,totalDocuments:Dn.totalDocuments,totalBytes:Dn.totalBytes}),Promise.resolve(new Set);N._updateProgress(Lc(W));const ne=new wf(W,p.localStore,A.serializer);let ke=yield A.Oa();for(;ke;){const Nt=yield ne.na(ke);Nt&&N._updateProgress(Nt),ke=yield A.Oa()}const lt=yield ne.complete();return yield xl(p,lt.sa,void 0),yield function(Dn,jn){const xn=Xt(Dn);return xn.persistence.runTransaction("Save bundle","readwrite",gr=>xn.$r.saveBundleMetadata(gr,jn))}(p.localStore,W),N._completeWith(lt.progress),Promise.resolve(lt.ia)}catch(W){return B("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var Dn}),function d(p,A,N){return c.apply(this,arguments)})(s,e,r).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield Gg(o),c,s)}))}(r,o._databaseId,e,s),s}function aI(o,e){return function Xy(o,e){return o.asyncQueue.enqueue((0,l.c)(function*(){return function(s,c){const d=Xt(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.$r.getNamedQuery(p,c))}(yield ch(o),e)}))}(Mo(o=fi(o,oo)),e).then(r=>r?new ls(o,null,r.query):null)}function n_(o){if(o._initialized||o._terminated)throw new Ut(vt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(go.fromBase64String(e))}catch(r){throw new Ut(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new nc(go.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qa{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ut(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $c{constructor(e){this._methodName=e}}class mh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ut(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ut(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tr(this._lat,e._lat)||Tr(this._long,e._long)}}const cI=/^__.*__$/;class r_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,r,this.fieldTransforms):new Yc(e,this.data,r,this.fieldTransforms)}}class dI{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new pu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function i_(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Uc{constructor(e,r,s,c,d,p){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===d&&this.Eu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Uc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Au({path:s,Vu:!1});return c.mu(e),c}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.Au({path:s,Vu:!1});return c.Eu(),c}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Cd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(i_(this.du)&&cI.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class o_{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Zl(e)}Su(e,r,s,c=!1){return new Uc({du:e,methodName:r,wu:s,path:Fr.emptyPath(),Vu:!1,yu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bc(o){const e=o._freezeSettings(),r=Zl(o._databaseId);return new o_(o._databaseId,!!e.ignoreUndefinedProperties,r)}function Gf(o,e,r,s,c,d={}){const p=o.Su(d.merge||d.mergeFields?2:0,e,r,c);d_("Data must be an object, but it was:",p,s);const A=Qg(s,p);let N,W;if(d.merge)N=new Ho(p.fieldMask),W=p.fieldTransforms;else if(d.mergeFields){const ne=[];for(const ke of d.mergeFields){const lt=rc(e,ke,r);if(!p.contains(lt))throw new Ut(vt.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);Xg(ne,lt)||ne.push(lt)}N=new Ho(ne),W=p.fieldTransforms.filter(ke=>N.covers(ke.field))}else N=null,W=p.fieldTransforms;return new r_(new eo(A),N,W)}class vh extends $c{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function jf(o,e,r){return new Uc({du:3,wu:e.settings.wu,methodName:o._methodName,Vu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Hf extends $c{_toFieldTransform(e){return new Ha(e.path,new So)}isEqual(e){return e instanceof Hf}}class Wf extends $c{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=jf(this,e,!0),s=this.bu.map(d=>Gc(d,r)),c=new Lo(s);return new Ha(e.path,c)}isEqual(e){return e instanceof Wf&&(0,we.IN)(this.bu,e.bu)}}class fl extends $c{constructor(e,r){super(e),this.bu=r}_toFieldTransform(e){const r=jf(this,e,!0),s=this.bu.map(d=>Gc(d,r)),c=new ql(s);return new Ha(e.path,c)}isEqual(e){return e instanceof fl&&(0,we.IN)(this.bu,e.bu)}}class s_ extends $c{constructor(e,r){super(e),this.Du=r}_toFieldTransform(e){const r=new Al(e.serializer,Lt(e.serializer,this.Du));return new Ha(e.path,r)}isEqual(e){return e instanceof s_&&this.Du===e.Du}}function a_(o,e,r,s){const c=o.Su(1,e,r);d_("Data must be an object, but it was:",c,s);const d=[],p=eo.empty();El(s,(N,W)=>{const ne=zf(e,N,r);W=(0,we.Yj)(W);const ke=c.fu(ne);if(W instanceof vh)d.push(ne);else{const lt=Gc(W,ke);null!=lt&&(d.push(ne),p.set(ne,lt))}});const A=new Ho(d);return new dI(p,A,c.fieldTransforms)}function l_(o,e,r,s,c,d){const p=o.Su(1,e,r),A=[rc(e,s,r)],N=[c];if(d.length%2!=0)throw new Ut(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<d.length;lt+=2)A.push(rc(e,d[lt])),N.push(d[lt+1]);const W=[],ne=eo.empty();for(let lt=A.length-1;lt>=0;--lt)if(!Xg(W,A[lt])){const Nt=A[lt];let Dn=N[lt];Dn=(0,we.Yj)(Dn);const jn=p.fu(Nt);if(Dn instanceof vh)W.push(Nt);else{const xn=Gc(Dn,jn);null!=xn&&(W.push(Nt),ne.set(Nt,xn))}}const ke=new Ho(W);return new dI(ne,ke,p.fieldTransforms)}function u_(o,e,r,s=!1){return Gc(r,o.Su(s?4:3,e))}function Gc(o,e){if(c_(o=(0,we.Yj)(o)))return d_("Unsupported field value:",e,o),Qg(o,e);if(o instanceof $c)return function(s,c){if(!i_(c.du))throw c.pu(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.pu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(o,e),null;if(void 0===o&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,c){const d=[];let p=0;for(const A of s){let N=Gc(A,c.gu(p));null==N&&(N={nullValue:"NULL_VALUE"}),d.push(N),p++}return{arrayValue:{values:d}}}(o,e)}return function(s,c){if(null===(s=(0,we.Yj)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Lt(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Ni.fromDate(s);return{timestampValue:Bu(c.serializer,d)}}if(s instanceof Ni){const d=new Ni(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bu(c.serializer,d)}}if(s instanceof mh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof nc)return{bytesValue:Gd(c.serializer,s._byteString)};if(s instanceof lo){const d=c.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw c.pu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Vh(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.pu(`Unsupported field value: ${Kg(s)}`)}(o,e)}function Qg(o,e){const r={};return Cl(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(o,(s,c)=>{const d=Gc(c,e.Ru(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function c_(o){return!("object"!=typeof o||null===o||o instanceof Array||o instanceof Date||o instanceof Ni||o instanceof mh||o instanceof nc||o instanceof lo||o instanceof $c)}function d_(o,e,r){if(!c_(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=Kg(r);throw e.pu("an object"===s?o+" a custom object":o+" "+s)}var c}function rc(o,e,r){if((e=(0,we.Yj)(e))instanceof qa)return e._internalPath;if("string"==typeof e)return zf(o,e);throw Cd("Field path arguments must be of type string or ",o,!1,void 0,r)}const hI=new RegExp("[~\\*/\\[\\]]");function zf(o,e,r){if(e.search(hI)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,r);try{return new qa(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,r)}}function Cd(o,e,r,s,c){const d=s&&!s.isEmpty(),p=void 0!==c;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let N="";return(d||p)&&(N+=" (found",d&&(N+=` in field ${s}`),p&&(N+=` in document ${c}`),N+=")"),new Ut(vt.INVALID_ARGUMENT,A+o+N)}function Xg(o,e){return o.some(r=>r.isEqual(e))}class _h{constructor(e,r,s,c,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(qf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class fI extends _h{data(){return super.data()}}function qf(o,e){return"string"==typeof e?zf(o,e):e instanceof qa?e._internalPath:e._delegate._internalPath}function h_(o){if("L"===o.limitType&&0===o.explicitOrderBy.length)throw new Ut(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kf{}class Dd extends Kf{}function f_(o,e,...r){let s=[];e instanceof Kf&&s.push(e),s=s.concat(r),function(d){const p=d.filter(N=>N instanceof jc).length,A=d.filter(N=>N instanceof yh).length;if(p>1||p>0&&A>0)throw new Ut(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)o=c._apply(o);return o}class yh extends Dd{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new yh(e,r,s)}_apply(e){const r=this._parse(e);return __(e._query,r),new ls(e.firestore,e.converter,$i(e._query,r))}_parse(e){const r=Bc(e.firestore);return function(d,p,A,N,W,ne,ke){let lt;if(W.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Ut(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){_I(ke,ne);const Nt=[];for(const Dn of ke)Nt.push(v_(N,d,Dn));lt={arrayValue:{values:Nt}}}else lt=v_(N,d,ke)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||_I(ke,ne),lt=u_(A,"where",ke,"in"===ne||"not-in"===ne);return Xr.create(W,ne,lt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function pI(o,e,r){const s=e,c=qf("where",o);return yh._create(c,s,r)}class jc extends Kf{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new jc(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:ci.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(c,d){let p=c;const A=d.getFlattenedFilters();for(const N of A)__(p,N),p=$i(p,N)}(e._query,r),new ls(e.firestore,e.converter,$i(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yf extends Dd{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Yf(e,r)}_apply(e){const r=function(c,d,p){if(null!==c.startAt)throw new Ut(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Ut(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ba(d,p)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(c,d){const p=c.explicitOrderBy.concat([d]);return new $r(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,r))}}function Zg(o,e="asc"){const r=e,s=qf("orderBy",o);return Yf._create(s,r)}class Qf extends Dd{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Qf(e,r,s)}_apply(e){return new ls(e.firestore,e.converter,Ea(e._query,this._limit,this._limitType))}}function g_(o){return Xv("limit",o),Qf._create("limit",o,"F")}function gI(o){return Xv("limitToLast",o),Qf._create("limitToLast",o,"L")}class Xf extends Dd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Xf(e,r,s)}_apply(e){const r=m_(e,this.type,this._docOrFields,this._inclusive);return new ls(e.firestore,e.converter,(d=r,new $r((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,d,c.endAt)));var c,d}}function mI(...o){return Xf._create("startAt",o,!0)}function vI(...o){return Xf._create("startAfter",o,!1)}class Jg extends Dd{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new Jg(e,r,s)}_apply(e){const r=m_(e,this.type,this._docOrFields,this._inclusive);return new ls(e.firestore,e.converter,(d=r,new $r((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,d)));var c,d}}function s0(...o){return Jg._create("endBefore",o,!1)}function Zf(...o){return Jg._create("endAt",o,!0)}function m_(o,e,r,s){if(r[0]=(0,we.Yj)(r[0]),r[0]instanceof _h)return function(d,p,A,N,W){if(!N)throw new Ut(vt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const ne=[];for(const ke of Mi(d))if(ke.field.isKeyField())ne.push(Zs(p,N.key));else{const lt=N.data.field(ke.field);if(ya(lt))throw new Ut(vt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ke.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===lt){const Nt=ke.field.canonicalString();throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Nt}' (used as the orderBy) does not exist.`)}ne.push(lt)}return new ys(ne,W)}(o._query,o.firestore._databaseId,e,r[0]._document,s);{const c=Bc(o.firestore);return function(p,A,N,W,ne,ke){const lt=p.explicitOrderBy;if(ne.length>lt.length)throw new Ut(vt.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Nt=[];for(let Dn=0;Dn<ne.length;Dn++){const jn=ne[Dn];if(lt[Dn].field.isKeyField()){if("string"!=typeof jn)throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof jn}`);if(!mo(p)&&-1!==jn.indexOf("/"))throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${jn}' contains a slash.`);const xn=p.path.child(zr.fromString(jn));if(!Mn.isDocumentKey(xn))throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${xn}' is not because it contains an odd number of segments.`);const gr=new Mn(xn);Nt.push(Zs(A,gr))}else{const xn=u_(N,W,jn);Nt.push(xn)}}return new ys(Nt,ke)}(o._query,o.firestore._databaseId,c,e,r,s)}}function v_(o,e,r){if("string"==typeof(r=(0,we.Yj)(r))){if(""===r)throw new Ut(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mo(e)&&-1!==r.indexOf("/"))throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(zr.fromString(r));if(!Mn.isDocumentKey(s))throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zs(o,new Mn(s))}if(r instanceof lo)return Zs(o,r._key);throw new Ut(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kg(r)}.`)}function _I(o,e){if(!Array.isArray(o)||0===o.length)throw new Ut(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __(o,e){const r=function(c,d){for(const p of c)for(const A of p.getFlattenedFilters())if(d.indexOf(A.op)>=0)return A.op;return null}(o.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ut(vt.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class em{convertValue(e,r="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw _e()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return El(e,(c,d)=>{s[c]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new mh(Ji(e.latitude),Ji(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ka(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const r=Oa(e);return new Ni(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=zr.fromString(e);ht(Gh(s));const c=new La(s.get(1),s.get(3)),d=new Mn(s.popFirst(5));return c.isEqual(r)||De(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Jf(o,e,r){let s;return s=o?r&&(r.merge||r.mergeFields)?o.toFirestore(e,r):o.toFirestore(e):e,s}class yI extends em{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}class Eu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hc extends _h{constructor(e,r,s,c,d,p){super(e,r,s,c,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(qf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Ih extends Hc{data(e={}){return super.data(e)}}class Cu{constructor(e,r,s,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new Eu(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Ih(this._firestore,this._userDataWriter,s.key,s,new Eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ut(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let p=0;return c._snapshot.docChanges.map(A=>({type:"added",doc:new Ih(c._firestore,c._userDataWriter,A.doc.key,A.doc,new Eu(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:p++}))}{let p=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(A=>d||3!==A.type).map(A=>{const N=new Ih(c._firestore,c._userDataWriter,A.doc.key,A.doc,new Eu(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter);let W=-1,ne=-1;return 0!==A.type&&(W=p.indexOf(A.doc.key),p=p.delete(A.doc.key)),1!==A.type&&(p=p.add(A.doc),ne=p.indexOf(A.doc.key)),{type:I_(A.type),doc:N,oldIndex:W,newIndex:ne}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function I_(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function E_(o,e){return o instanceof Hc&&e instanceof Hc?o._firestore===e._firestore&&o._key.isEqual(e._key)&&(null===o._document?null===e._document:o._document.isEqual(e._document))&&o._converter===e._converter:o instanceof Cu&&e instanceof Cu&&o._firestore===e._firestore&&Ff(o.query,e.query)&&o.metadata.isEqual(e.metadata)&&o._snapshot.isEqual(e._snapshot)}function C_(o){o=fi(o,lo);const e=fi(o.firestore,oo);return _d(Mo(e),o._key).then(r=>ep(e,o,r))}class ic extends em{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,r)}}function EI(o){o=fi(o,lo);const e=fi(o.firestore,oo),r=Mo(e),s=new ic(e);return function Kv(o,e){const r=new Xn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return(s=(0,l.c)(function*(d,p,A){try{const N=yield function(ne,ke){const lt=Xt(ne);return lt.persistence.runTransaction("read document","readonly",Nt=>lt.localDocuments.getDocument(Nt,ke))}(d,p);N.isFoundDocument()?A.resolve(N):N.isNoDocument()?A.resolve(null):A.reject(new Ut(vt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=Ju(N,`Failed to get document '${p} from cache`);A.reject(W)}}),function c(d,p,A){return s.apply(this,arguments)})(yield ch(o),e,r);var s})),r.promise}(r,o._key).then(c=>new Hc(e,s,o._key,c,new Eu(null!==c&&c.hasLocalMutations,!0),o.converter))}function Wc(o){o=fi(o,lo);const e=fi(o.firestore,oo);return _d(Mo(e),o._key,{source:"server"}).then(r=>ep(e,o,r))}function D_(o){o=fi(o,ls);const e=fi(o.firestore,oo),r=Mo(e),s=new ic(e);return h_(o._query),yd(r,o._query).then(c=>new Cu(e,s,o,c))}function tm(o){o=fi(o,ls);const e=fi(o.firestore,oo),r=Mo(e),s=new ic(e);return function dh(o,e){const r=new Xn;return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return(s=(0,l.c)(function*(d,p,A){try{const N=yield hf(d,p,!0),W=new mg(p,N.hs),ne=W.ha(N.documents),ke=W.applyChanges(ne,!1);A.resolve(ke.snapshot)}catch(N){const W=Ju(N,`Failed to execute query '${p} against cache`);A.reject(W)}}),function c(d,p,A){return s.apply(this,arguments)})(yield ch(o),e,r);var s})),r.promise}(r,o._query).then(c=>new Cu(e,s,o,c))}function CI(o){o=fi(o,ls);const e=fi(o.firestore,oo),r=Mo(e),s=new ic(e);return yd(r,o._query,{source:"server"}).then(c=>new Cu(e,s,o,c))}function w_(o,e,r){o=fi(o,lo);const s=fi(o.firestore,oo),c=Jf(o.converter,e,r);return Du(s,[Gf(Bc(s),"setDoc",o._key,c,null!==o.converter,r).toMutation(o._key,Ur.none())])}function T_(o,e,r,...s){o=fi(o,lo);const c=fi(o.firestore,oo),d=Bc(c);let p;return p="string"==typeof(e=(0,we.Yj)(e))||e instanceof qa?l_(d,"updateDoc",o._key,e,r,s):a_(d,"updateDoc",o._key,e),Du(c,[p.toMutation(o._key,Ur.exists(!0))])}function b_(o){return Du(fi(o.firestore,oo),[new Ec(o._key,Ur.none())])}function Eh(o,e){const r=fi(o.firestore,oo),s=e_(o),c=Jf(o.converter,e);return Du(r,[Gf(Bc(o.firestore),"addDoc",s._key,c,null!==o.converter,{}).toMutation(s._key,Ur.exists(!1))]).then(()=>s)}function nm(o,...e){var r,s,c;o=(0,we.Yj)(o);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Vf(e[p])||(d=e[p],p++);const A={includeMetadataChanges:d.includeMetadataChanges};if(Vf(e[p])){const ke=e[p];e[p]=null===(r=ke.next)||void 0===r?void 0:r.bind(ke),e[p+1]=null===(s=ke.error)||void 0===s?void 0:s.bind(ke),e[p+2]=null===(c=ke.complete)||void 0===c?void 0:c.bind(ke)}let N,W,ne;if(o instanceof lo)W=fi(o.firestore,oo),ne=Wr(o._key.path),N={next:ke=>{e[p]&&e[p](ep(W,o,ke))},error:e[p+1],complete:e[p+2]};else{const ke=fi(o,ls);W=fi(ke.firestore,oo),ne=ke._query;const lt=new ic(W);N={next:Nt=>{e[p]&&e[p](new Cu(W,lt,ke,Nt))},error:e[p+1],complete:e[p+2]},h_(o._query)}return function(lt,Nt,Dn,jn){const xn=new tc(jn),gr=new Df(Nt,xn,Dn);return lt.asyncQueue.enqueueAndForget((0,l.c)(function*(){return gg(yield vd(lt),gr)})),()=>{xn.La(),lt.asyncQueue.enqueueAndForget((0,l.c)(function*(){return Cf(yield vd(lt),gr)}))}}(Mo(W),ne,A,N)}function oc(o,e){return function Yy(o,e){const r=new tc(e);return o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return c=yield vd(o),d=r,Xt(c).K_.add(d),void d.next();var c,d})),()=>{r.La(),o.asyncQueue.enqueueAndForget((0,l.c)(function*(){return c=yield vd(o),d=r,void Xt(c).K_.delete(d);var c,d}))}}(Mo(o=fi(o,oo)),Vf(e)?e:{next:e})}function Du(o,e){return function(s,c){const d=new Xn;return s.asyncQueue.enqueueAndForget((0,l.c)(function*(){return function $y(o,e,r){return Cg.apply(this,arguments)}(yield Gg(s),c,d)})),d.promise}(Mo(o),e)}function ep(o,e,r){const s=r.docs.get(e._key),c=new ic(o);return new Hc(o,c,e._key,s,new Eu(r.hasPendingWrites,r.fromCache),e.converter)}const SI={maxAttempts:5};class R_{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Bc(e)}set(e,r,s){this._verifyNotCommitted();const c=ac(e,this._firestore),d=Jf(c.converter,r,s),p=Gf(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,s);return this._mutations.push(p.toMutation(c._key,Ur.none())),this}update(e,r,s,...c){this._verifyNotCommitted();const d=ac(e,this._firestore);let p;return p="string"==typeof(r=(0,we.Yj)(r))||r instanceof qa?l_(this._dataReader,"WriteBatch.update",d._key,r,s,c):a_(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ac(e,this._firestore);return this._mutations=this._mutations.concat(new Ec(r._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ac(o,e){if((o=(0,we.Yj)(o)).firestore!==e)throw new Ut(vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}class RI extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Bc(r)}get(r){const s=ac(r,this._firestore),c=new yI(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return _e();const p=d[0];if(p.isFoundDocument())return new _h(this._firestore,c,p.key,p,s.converter);if(p.isNoDocument())return new _h(this._firestore,c,s._key,null,s.converter);throw _e()})}set(r,s,c){const d=ac(r,this._firestore),p=Jf(d.converter,s,c),A=Gf(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,c);return this._transaction.set(d._key,A),this}update(r,s,c,...d){const p=ac(r,this._firestore);let A;return A="string"==typeof(s=(0,we.Yj)(s))||s instanceof qa?l_(this._dataReader,"Transaction.update",p._key,s,c,d):a_(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,A),this}delete(r){const s=ac(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=ac(e,this._firestore),s=new ic(this._firestore);return super.get(e).then(c=>new Hc(this._firestore,s,r._key,c._document,new Eu(!1,!1),r.converter))}}function MI(o,e,r){o=fi(o,oo);const s=Object.assign(Object.assign({},SI),r);return function(d){if(d.maxAttempts<1)throw new Ut(vt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,A){const N=new Xn;return d.asyncQueue.enqueueAndForget((0,l.c)(function*(){const W=yield function jg(o){return uh(o).then(e=>e.datastore)}(d);new qy(d.asyncQueue,W,A,p,N).ja()})),N.promise}(Mo(o),c=>e(new RI(o,c)),s)}function PI(){return new vh("deleteField")}function xI(){return new Hf("serverTimestamp")}function OI(...o){return new Wf("arrayUnion",o)}function ip(...o){return new fl("arrayRemove",o)}function NI(o){return new s_("increment",o)}!function(e,r=!0){qi=x.SDK_VERSION,(0,x._registerComponent)(new K.Yl("firestore",(s,{instanceIdentifier:c,options:d})=>{const p=s.getProvider("app").getImmediate(),A=new oo(new Ps(s.getProvider("auth-internal")),new Zi(s.getProvider("app-check-internal")),function(W,ne){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new Ut(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(W.options.projectId,ne)}(p,c),p);return d=Object.assign({useFetchStreams:r},d),A._setSettings(d),A},"PUBLIC").setMultipleInstances(!0)),(0,x.registerVersion)(tl,"4.4.3",e),(0,x.registerVersion)(tl,"4.4.3","esm2017")}()},7144:(fn,at,O)=>{"use strict";O.d(at,{A3:()=>ve,AL:()=>Ae,AV:()=>z,Cc:()=>Le,EB:()=>Se,IN:()=>mt,Su:()=>me,UR:()=>Ue,Uv:()=>Ct,WW:()=>de,Wg:()=>Xe,Ww:()=>Ge,Y7:()=>wt,YD:()=>ot,Yd:()=>We,Yj:()=>tt,aw:()=>mr,ik:()=>pr,kF:()=>lr,kx:()=>ut,my:()=>$n,o9:()=>Qe,on:()=>it,qk:()=>nt,sX:()=>Ke,t7:()=>hn,uH:()=>Be,yW:()=>$e,yy:()=>Ee});const ie=function(oe){const he=[];let Z=0;for(let R=0;R<oe.length;R++){let F=oe.charCodeAt(R);F<128?he[Z++]=F:F<2048?(he[Z++]=F>>6|192,he[Z++]=63&F|128):55296==(64512&F)&&R+1<oe.length&&56320==(64512&oe.charCodeAt(R+1))?(F=65536+((1023&F)<<10)+(1023&oe.charCodeAt(++R)),he[Z++]=F>>18|240,he[Z++]=F>>12&63|128,he[Z++]=F>>6&63|128,he[Z++]=63&F|128):(he[Z++]=F>>12|224,he[Z++]=F>>6&63|128,he[Z++]=63&F|128)}return he},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,he){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let F=0;F<oe.length;F+=3){const pe=oe[F],Pe=F+1<oe.length,ct=Pe?oe[F+1]:0,Mt=F+2<oe.length,xt=Mt?oe[F+2]:0;let dn=(15&ct)<<2|xt>>6,Rn=63&xt;Mt||(Rn=64,Pe||(dn=64)),R.push(Z[pe>>2],Z[(3&pe)<<4|ct>>4],Z[dn],Z[Rn])}return R.join("")},encodeString(oe,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(oe):this.encodeByteArray(ie(oe),he)},decodeString(oe,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(oe):function(oe){const he=[];let Z=0,R=0;for(;Z<oe.length;){const F=oe[Z++];if(F<128)he[R++]=String.fromCharCode(F);else if(F>191&&F<224){const pe=oe[Z++];he[R++]=String.fromCharCode((31&F)<<6|63&pe)}else if(F>239&&F<365){const Mt=((7&F)<<18|(63&oe[Z++])<<12|(63&oe[Z++])<<6|63&oe[Z++])-65536;he[R++]=String.fromCharCode(55296+(Mt>>10)),he[R++]=String.fromCharCode(56320+(1023&Mt))}else{const pe=oe[Z++],Pe=oe[Z++];he[R++]=String.fromCharCode((15&F)<<12|(63&pe)<<6|63&Pe)}}return he.join("")}(this.decodeStringToByteArray(oe,he))},decodeStringToByteArray(oe,he){this.init_();const Z=he?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let F=0;F<oe.length;){const pe=Z[oe.charAt(F++)],ct=F<oe.length?Z[oe.charAt(F)]:0;++F;const xt=F<oe.length?Z[oe.charAt(F)]:64;++F;const Vt=F<oe.length?Z[oe.charAt(F)]:64;if(++F,null==pe||null==ct||null==xt||null==Vt)throw new ae;R.push(pe<<2|ct>>4),64!==xt&&(R.push(ct<<4&240|xt>>2),64!==Vt&&R.push(xt<<6&192|Vt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xe=function(oe){return function(oe){const he=ie(oe);return ce.encodeByteArray(he,!0)}(oe).replace(/\./g,"")},de=function(oe){try{return ce.decodeString(oe,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function Ge(oe,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return he}for(const Z in he)!he.hasOwnProperty(Z)||!je(Z)||(oe[Z]=Ge(oe[Z],he[Z]));return oe}function je(oe){return"__proto__"!==oe}const Ve=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=oe&&de(oe[1]);return he&&JSON.parse(he)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Se=oe=>{var he,Z;return null===(Z=null===(he=Ve())||void 0===he?void 0:he.emulatorHosts)||void 0===Z?void 0:Z[oe]},it=oe=>{const he=Se(oe);if(!he)return;const Z=he.lastIndexOf(":");if(Z<=0||Z+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const R=parseInt(he.substring(Z+1),10);return"["===he[0]?[he.substring(1,Z-1),R]:[he.substring(0,Z),R]},We=()=>{var oe;return null===(oe=Ve())||void 0===oe?void 0:oe.config},Ke=oe=>{var he;return null===(he=Ve())||void 0===he?void 0:he[`_${oe}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,Z)=>{this.resolve=he,this.reject=Z})}wrapCallback(he){return(Z,R)=>{Z?this.reject(Z):this.resolve(R),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(Z):he(Z,R))}}}function ot(oe,he){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=he||"demo-project",F=oe.iat||0,pe=oe.sub||oe.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:F,exp:F+3600,auth_time:F,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(Pe)),""].join(".")}function me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function $e(){var oe;const he=null===(oe=Ve())||void 0===oe?void 0:oe.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function Le(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ct(){const oe=me();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function nt(){return!$e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((oe,he)=>{try{let Z=!0;const R="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(R);F.onsuccess=()=>{F.result.close(),Z||self.indexedDB.deleteDatabase(R),oe(!0)},F.onupgradeneeded=()=>{Z=!1},F.onerror=()=>{var pe;he((null===(pe=F.error)||void 0===pe?void 0:pe.message)||"")}}catch(Z){he(Z)}})}class ut extends Error{constructor(he,Z,R){super(Z),this.code=he,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(he,Z,R){this.service=he,this.serviceName=Z,this.errors=R}create(he,...Z){const R=Z[0]||{},F=`${this.service}/${he}`,pe=this.errors[he],Pe=pe?function Zt(oe,he){return oe.replace(on,(Z,R)=>{const F=he[R];return null!=F?String(F):`<${R}?>`})}(pe,R):"Error";return new ut(F,`${this.serviceName}: ${Pe} (${F}).`,R)}}const on=/\{\$([^}]+)}/g;function wt(oe,he){return Object.prototype.hasOwnProperty.call(oe,he)}function hn(oe){for(const he in oe)if(Object.prototype.hasOwnProperty.call(oe,he))return!1;return!0}function mt(oe,he){if(oe===he)return!0;const Z=Object.keys(oe),R=Object.keys(he);for(const F of Z){if(!R.includes(F))return!1;const pe=oe[F],Pe=he[F];if(wn(pe)&&wn(Pe)){if(!mt(pe,Pe))return!1}else if(pe!==Pe)return!1}for(const F of R)if(!Z.includes(F))return!1;return!0}function wn(oe){return null!==oe&&"object"==typeof oe}function pr(oe){const he=[];for(const[Z,R]of Object.entries(oe))Array.isArray(R)?R.forEach(F=>{he.push(encodeURIComponent(Z)+"="+encodeURIComponent(F))}):he.push(encodeURIComponent(Z)+"="+encodeURIComponent(R));return he.length?"&"+he.join("&"):""}function mr(oe){const he={};return oe.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[F,pe]=R.split("=");he[decodeURIComponent(F)]=decodeURIComponent(pe)}}),he}function lr(oe){const he=oe.indexOf("?");if(!he)return"";const Z=oe.indexOf("#",he);return oe.substring(he,Z>0?Z:void 0)}function $n(oe,he){const Z=new vr(oe,he);return Z.subscribe.bind(Z)}class vr{constructor(he,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{he(this)}).catch(R=>{this.error(R)})}next(he){this.forEachObserver(Z=>{Z.next(he)})}error(he){this.forEachObserver(Z=>{Z.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,Z,R){let F;if(void 0===he&&void 0===Z&&void 0===R)throw new Error("Missing Observer.");F=function zn(oe,he){if("object"!=typeof oe||null===oe)return!1;for(const Z of he)if(Z in oe&&"function"==typeof oe[Z])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:Z,complete:R},void 0===F.next&&(F.next=Cn),void 0===F.error&&(F.error=Cn),void 0===F.complete&&(F.complete=Cn);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),pe}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,he)}sendOne(he,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{Z(this.observers[he])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function tt(oe){return oe&&oe._delegate?oe._delegate:oe}},9248:(fn,at,O)=>{"use strict";O.d(at,{c:()=>K,r:()=>le});const K=(me,z)=>{me.componentOnReady?me.componentOnReady().then($e=>z($e)):le(()=>z(me))},le=me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(me):"function"==typeof requestAnimationFrame?requestAnimationFrame(me):setTimeout(me)},1896:(fn,at,O)=>{"use strict";O.d(at,{L:()=>l,a:()=>x,b:()=>K,c:()=>ie,d:()=>we,g:()=>me});const l="ionViewWillEnter",x="ionViewDidEnter",K="ionViewWillLeave",ie="ionViewDidLeave",we="ionViewWillUnload",me=z=>z.classList.contains("ion-page")?z:z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||z},388:(fn,at,O)=>{"use strict";O.d(at,{c:()=>ft});var l=O(4829),x=O(6384);let K;const we=Ye=>Ye.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ce=Ye=>(void 0===K&&(K=void 0===Ye.style.animationName&&void 0!==Ye.style.webkitAnimationName?"-webkit-":""),K),ae=(Ye,Ve,Se)=>{const it=Ve.startsWith("animation")?ce(Ye):"";Ye.style.setProperty(it+Ve,Se)},be=(Ye,Ve)=>{const Se=Ve.startsWith("animation")?ce(Ye):"";Ye.style.removeProperty(Se+Ve)},le=[],qe=(Ye=[],Ve)=>{if(void 0!==Ve){const Se=Array.isArray(Ve)?Ve:[Ve];return[...Ye,...Se]}return Ye},ft=Ye=>{let Ve,Se,it,We,Ke,Qe,Be,Ee,ve,Me,Oe,on,Kt,ot=[],me=[],z=[],$e=!1,Le={},Ae=[],ze=[],Ct={},zt=0,Pt=!1,nt=!1,ut=!0,Ue=!1,Zt=!0,Bt=!1;const bn=Ye,tr=[],qn=[],Ft=[],Dt=[],wt=[],Ht=[],hn=[],qt=[],mt=[],wn=[],kn=[],pr="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,mr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&pr,An=()=>kn,Cn=(Et,q)=>{const te=q.findIndex(Ze=>Ze.c===Et);te>-1&&q.splice(te,1)},Fn=(Et,q)=>((null!=q&&q.oneTimeCallback?qn:tr).push({c:Et,o:q}),Kt),Un=()=>{if(mr)kn.forEach(Et=>{Et.cancel()}),kn.length=0;else{const Et=Dt.slice();(0,x.r)(()=>{Et.forEach(q=>{be(q,"animation-name"),be(q,"animation-duration"),be(q,"animation-timing-function"),be(q,"animation-iteration-count"),be(q,"animation-delay"),be(q,"animation-play-state"),be(q,"animation-fill-mode"),be(q,"animation-direction")})})}},vn=()=>{Ht.forEach(Et=>{null!=Et&&Et.parentNode&&Et.parentNode.removeChild(Et)}),Ht.length=0},he=()=>void 0!==Ke?Ke:Be?Be.getFill():"both",Z=()=>void 0!==ve?ve:void 0!==Qe?Qe:Be?Be.getDirection():"normal",R=()=>Pt?"linear":void 0!==it?it:Be?Be.getEasing():"linear",F=()=>nt?0:void 0!==Me?Me:void 0!==Se?Se:Be?Be.getDuration():0,pe=()=>void 0!==We?We:Be?Be.getIterations():1,Pe=()=>void 0!==Oe?Oe:void 0!==Ve?Ve:Be?Be.getDelay():0,Hn=()=>{0!==zt&&(zt--,0===zt&&((()=>{xe(),mt.forEach(rt=>rt()),wn.forEach(rt=>rt());const Et=ut?1:0,q=Ae,te=ze,Ze=Ct;Dt.forEach(rt=>{const It=rt.classList;q.forEach(Ot=>It.add(Ot)),te.forEach(Ot=>It.remove(Ot));for(const Ot in Ze)Ze.hasOwnProperty(Ot)&&ae(rt,Ot,Ze[Ot])}),Me=void 0,ve=void 0,Oe=void 0,tr.forEach(rt=>rt.c(Et,Kt)),qn.forEach(rt=>rt.c(Et,Kt)),qn.length=0,Zt=!0,ut&&(Ue=!0),ut=!0})(),Be&&Be.animationFinish()))},er=(Et=!0)=>{vn();const q=(Ye=>(Ye.forEach(Ve=>{for(const Se in Ve)if(Ve.hasOwnProperty(Se)){const it=Ve[Se];if("easing"===Se)Ve["animation-timing-function"]=it,delete Ve[Se];else{const We=we(Se);We!==Se&&(Ve[We]=it,delete Ve[Se])}}}),Ye))(ot);Dt.forEach(te=>{if(q.length>0){const Ze=((Ye=[])=>Ye.map(Ve=>{const Se=Ve.offset,it=[];for(const We in Ve)Ve.hasOwnProperty(We)&&"offset"!==We&&it.push(`${We}: ${Ve[We]};`);return`${100*Se}% { ${it.join(" ")} }`}).join(" "))(q);on=void 0!==Ye?Ye:(Ye=>{let Ve=le.indexOf(Ye);return Ve<0&&(Ve=le.push(Ye)-1),`ion-animation-${Ve}`})(Ze);const rt=((Ye,Ve,Se)=>{var it;const We=(Ye=>{const Ve=void 0!==Ye.getRootNode?Ye.getRootNode():Ye;return Ve.head||Ve})(Se),Ke=ce(Se),Qe=We.querySelector("#"+Ye);if(Qe)return Qe;const ot=(null!==(it=Se.ownerDocument)&&void 0!==it?it:document).createElement("style");return ot.id=Ye,ot.textContent=`@${Ke}keyframes ${Ye} { ${Ve} } @${Ke}keyframes ${Ye}-alt { ${Ve} }`,We.appendChild(ot),ot})(on,Ze,te);Ht.push(rt),ae(te,"animation-duration",`${F()}ms`),ae(te,"animation-timing-function",R()),ae(te,"animation-delay",`${Pe()}ms`),ae(te,"animation-fill-mode",he()),ae(te,"animation-direction",Z());const It=pe()===1/0?"infinite":pe().toString();ae(te,"animation-iteration-count",It),ae(te,"animation-play-state","paused"),Et&&ae(te,"animation-name",`${rt.id}-alt`),(0,x.r)(()=>{ae(te,"animation-name",rt.id||null)})}})},Ar=(Et=!0)=>{(()=>{hn.forEach(Ze=>Ze()),qt.forEach(Ze=>Ze());const Et=me,q=z,te=Le;Dt.forEach(Ze=>{const rt=Ze.classList;Et.forEach(It=>rt.add(It)),q.forEach(It=>rt.remove(It));for(const It in te)te.hasOwnProperty(It)&&ae(Ze,It,te[It])})})(),ot.length>0&&(mr?(Dt.forEach(Et=>{const q=Et.animate(ot,{id:bn,delay:Pe(),duration:F(),easing:R(),iterations:pe(),fill:he(),direction:Z()});q.pause(),kn.push(q)}),kn.length>0&&(kn[0].onfinish=()=>{Hn()})):er(Et)),$e=!0},Mr=Et=>{if(Et=Math.min(Math.max(Et,0),.9999),mr)kn.forEach(q=>{q.currentTime=q.effect.getComputedTiming().delay+F()*Et,q.pause()});else{const q=`-${F()*Et}ms`;Dt.forEach(te=>{ot.length>0&&(ae(te,"animation-delay",q),ae(te,"animation-play-state","paused"))})}},ki=Et=>{kn.forEach(q=>{q.effect.updateTiming({delay:Pe(),duration:F(),easing:R(),iterations:pe(),fill:he(),direction:Z()})}),void 0!==Et&&Mr(Et)},so=(Et=!0,q)=>{(0,x.r)(()=>{Dt.forEach(te=>{ae(te,"animation-name",on||null),ae(te,"animation-duration",`${F()}ms`),ae(te,"animation-timing-function",R()),ae(te,"animation-delay",void 0!==q?`-${q*F()}ms`:`${Pe()}ms`),ae(te,"animation-fill-mode",he()||null),ae(te,"animation-direction",Z()||null);const Ze=pe()===1/0?"infinite":pe().toString();ae(te,"animation-iteration-count",Ze),Et&&ae(te,"animation-name",`${on}-alt`),(0,x.r)(()=>{ae(te,"animation-name",on||null)})})})},hr=(Et=!1,q=!0,te)=>(Et&&wt.forEach(Ze=>{Ze.update(Et,q,te)}),mr?ki(te):so(q,te),Kt),Kn=()=>{$e&&(mr?kn.forEach(Et=>{Et.pause()}):Dt.forEach(Et=>{ae(Et,"animation-play-state","paused")}),Bt=!0)},Re=()=>{Ee=void 0,Hn()},xe=()=>{Ee&&clearTimeout(Ee)},yn=Et=>new Promise(q=>{null!=Et&&Et.sync&&(nt=!0,Fn(()=>nt=!1,{oneTimeCallback:!0})),$e||Ar(),Ue&&(mr?(Mr(0),ki()):so(),Ue=!1),Zt&&(zt=wt.length+1,Zt=!1);const te=()=>{Cn(Ze,qn),q()},Ze=()=>{Cn(te,Ft),q()};Fn(Ze,{oneTimeCallback:!0}),((Et,q)=>{Ft.push({c:Et,o:{oneTimeCallback:!0}})})(te),wt.forEach(rt=>{rt.play()}),mr?(kn.forEach(Et=>{Et.play()}),(0===ot.length||0===Dt.length)&&Hn()):(()=>{if(xe(),(0,x.r)(()=>{Dt.forEach(Et=>{ot.length>0&&ae(Et,"animation-play-state","running")})}),0===ot.length||0===Dt.length)Hn();else{const Et=Pe()||0,q=F()||0,te=pe()||1;isFinite(te)&&(Ee=setTimeout(Re,Et+q*te+100)),((Ye,Ve)=>{let Se;const it={passive:!0},Ke=Qe=>{Ye===Qe.target&&(Se&&Se(),xe(),(0,x.r)(()=>{Dt.forEach(Et=>{be(Et,"animation-duration"),be(Et,"animation-delay"),be(Et,"animation-play-state")}),(0,x.r)(Hn)}))};Ye&&(Ye.addEventListener("webkitAnimationEnd",Ke,it),Ye.addEventListener("animationend",Ke,it),Se=()=>{Ye.removeEventListener("webkitAnimationEnd",Ke,it),Ye.removeEventListener("animationend",Ke,it)})})(Dt[0])}})(),Bt=!1}),Vn=(Et,q)=>{const te=ot[0];return void 0===te||void 0!==te.offset&&0!==te.offset?ot=[{offset:0,[Et]:q},...ot]:te[Et]=q,Kt};return Kt={parentAnimation:Be,elements:Dt,childAnimations:wt,id:bn,animationFinish:Hn,from:Vn,to:(Et,q)=>{const te=ot[ot.length-1];return void 0===te||void 0!==te.offset&&1!==te.offset?ot=[...ot,{offset:1,[Et]:q}]:te[Et]=q,Kt},fromTo:(Et,q,te)=>Vn(Et,q).to(Et,te),parent:Et=>(Be=Et,Kt),play:yn,pause:()=>(wt.forEach(Et=>{Et.pause()}),Kn(),Kt),stop:()=>{wt.forEach(Et=>{Et.stop()}),$e&&(Un(),$e=!1),Pt=!1,nt=!1,Zt=!0,ve=void 0,Me=void 0,Oe=void 0,zt=0,Ue=!1,ut=!0,Bt=!1,Ft.forEach(Et=>Et.c(0,Kt)),Ft.length=0},destroy:Et=>(wt.forEach(q=>{q.destroy(Et)}),(Et=>{Un(),Et&&vn()})(Et),Dt.length=0,wt.length=0,ot.length=0,tr.length=0,qn.length=0,$e=!1,Zt=!0,Kt),keyframes:Et=>{const q=ot!==Et;return ot=Et,q&&(Et=>{mr?An().forEach(q=>{const te=q.effect;if(te.setKeyframes)te.setKeyframes(Et);else{const Ze=new KeyframeEffect(te.target,Et,te.getTiming());q.effect=Ze}}):er()})(ot),Kt},addAnimation:Et=>{if(null!=Et)if(Array.isArray(Et))for(const q of Et)q.parent(Kt),wt.push(q);else Et.parent(Kt),wt.push(Et);return Kt},addElement:Et=>{if(null!=Et)if(1===Et.nodeType)Dt.push(Et);else if(Et.length>=0)for(let q=0;q<Et.length;q++)Dt.push(Et[q]);else console.error("Invalid addElement value");return Kt},update:hr,fill:Et=>(Ke=Et,hr(!0),Kt),direction:Et=>(Qe=Et,hr(!0),Kt),iterations:Et=>(We=Et,hr(!0),Kt),duration:Et=>(!mr&&0===Et&&(Et=1),Se=Et,hr(!0),Kt),easing:Et=>(it=Et,hr(!0),Kt),delay:Et=>(Ve=Et,hr(!0),Kt),getWebAnimations:An,getKeyframes:()=>ot,getFill:he,getDirection:Z,getDelay:Pe,getIterations:pe,getEasing:R,getDuration:F,afterAddRead:Et=>(mt.push(Et),Kt),afterAddWrite:Et=>(wn.push(Et),Kt),afterClearStyles:(Et=[])=>{for(const q of Et)Ct[q]="";return Kt},afterStyles:(Et={})=>(Ct=Et,Kt),afterRemoveClass:Et=>(ze=qe(ze,Et),Kt),afterAddClass:Et=>(Ae=qe(Ae,Et),Kt),beforeAddRead:Et=>(hn.push(Et),Kt),beforeAddWrite:Et=>(qt.push(Et),Kt),beforeClearStyles:(Et=[])=>{for(const q of Et)Le[q]="";return Kt},beforeStyles:(Et={})=>(Le=Et,Kt),beforeRemoveClass:Et=>(z=qe(z,Et),Kt),beforeAddClass:Et=>(me=qe(me,Et),Kt),onFinish:Fn,isRunning:()=>0!==zt&&!Bt,progressStart:(Et=!1,q)=>(wt.forEach(te=>{te.progressStart(Et,q)}),Kn(),Pt=Et,$e||Ar(),hr(!1,!0,q),Kt),progressStep:Et=>(wt.forEach(q=>{q.progressStep(Et)}),Mr(Et),Kt),progressEnd:(Et,q,te)=>(Pt=!1,wt.forEach(Ze=>{Ze.progressEnd(Et,q,te)}),void 0!==te&&(Me=te),Ue=!1,ut=!0,0===Et?(ve="reverse"===Z()?"normal":"reverse","reverse"===ve&&(ut=!1),mr?(hr(),Mr(1-q)):(Oe=(1-q)*F()*-1,hr(!1,!1))):1===Et&&(mr?(hr(),Mr(q)):(Oe=q*F()*-1,hr(!1,!1))),void 0!==Et&&!Be&&yn(),Kt)}}},9637:(fn,at,O)=>{"use strict";O.d(at,{E:()=>de,a:()=>l,s:()=>be});const l=le=>{try{if(le instanceof ae)return le.value;if(!ie()||"string"!=typeof le||""===le)return le;if(le.includes("onload="))return"";const Ge=document.createDocumentFragment(),je=document.createElement("div");Ge.appendChild(je),je.innerHTML=le,ce.forEach(Ye=>{const Ve=Ge.querySelectorAll(Ye);for(let Se=Ve.length-1;Se>=0;Se--){const it=Ve[Se];it.parentNode?it.parentNode.removeChild(it):Ge.removeChild(it);const We=K(it);for(let Ke=0;Ke<We.length;Ke++)x(We[Ke])}});const He=K(Ge);for(let Ye=0;Ye<He.length;Ye++)x(He[Ye]);const qe=document.createElement("div");qe.appendChild(Ge);const ft=qe.querySelector("div");return null!==ft?ft.innerHTML:qe.innerHTML}catch(Ge){return console.error(Ge),""}},x=le=>{if(le.nodeType&&1!==le.nodeType)return;if(typeof NamedNodeMap<"u"&&!(le.attributes instanceof NamedNodeMap))return void le.remove();for(let je=le.attributes.length-1;je>=0;je--){const He=le.attributes.item(je),qe=He.name;if(!we.includes(qe.toLowerCase())){le.removeAttribute(qe);continue}const ft=He.value,Ye=le[qe];(null!=ft&&ft.toLowerCase().includes("javascript:")||null!=Ye&&Ye.toLowerCase().includes("javascript:"))&&le.removeAttribute(qe)}const Ge=K(le);for(let je=0;je<Ge.length;je++)x(Ge[je])},K=le=>null!=le.children?le.children:le.childNodes,ie=()=>{var le;const Ge=window,je=null===(le=null==Ge?void 0:Ge.Ionic)||void 0===le?void 0:le.config;return!je||(je.get?je.get("sanitizerEnabled",!0):!0===je.sanitizerEnabled||void 0===je.sanitizerEnabled)},we=["class","id","href","src","name","slot"],ce=["script","style","iframe","meta","link","object","embed"];class ae{constructor(Ge){this.value=Ge}}const be=le=>{const Ge=window,je=Ge.Ionic;if(!je||!je.config||"Object"===je.config.constructor.name)return Ge.Ionic=Ge.Ionic||{},Ge.Ionic.config=Object.assign(Object.assign({},Ge.Ionic.config),le),Ge.Ionic.config},de=!1},495:(fn,at,O)=>{"use strict";O.d(at,{C:()=>we,a:()=>K,d:()=>ie});var l=O(1528),x=O(6384);const K=function(){var ce=(0,l.c)(function*(ae,be,Xe,de,le,Ge){var je;if(ae)return ae.attachViewToDom(be,Xe,le,de);if(!(Ge||"string"==typeof Xe||Xe instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof Xe?null===(je=be.ownerDocument)||void 0===je?void 0:je.createElement(Xe):Xe;return de&&de.forEach(qe=>He.classList.add(qe)),le&&Object.assign(He,le),be.appendChild(He),yield new Promise(qe=>(0,x.c)(He,qe)),He});return function(be,Xe,de,le,Ge,je){return ce.apply(this,arguments)}}(),ie=(ce,ae)=>{if(ae){if(ce)return ce.removeViewFromDom(ae.parentElement,ae);ae.remove()}return Promise.resolve()},we=()=>{let ce,ae;return{attachViewToDom:function(){var de=(0,l.c)(function*(le,Ge,je={},He=[]){var qe,ft;let Ye;if(ce=le,Ge){const Se="string"==typeof Ge?null===(qe=ce.ownerDocument)||void 0===qe?void 0:qe.createElement(Ge):Ge;He.forEach(it=>Se.classList.add(it)),Object.assign(Se,je),ce.appendChild(Se),Ye=Se,yield new Promise(it=>(0,x.c)(Se,it))}else if(ce.children.length>0&&("ION-MODAL"===ce.tagName||"ION-POPOVER"===ce.tagName)&&!(Ye=ce.children[0]).classList.contains("ion-delegate-host")){const it=null===(ft=ce.ownerDocument)||void 0===ft?void 0:ft.createElement("div");it.classList.add("ion-delegate-host"),He.forEach(We=>it.classList.add(We)),it.append(...ce.children),ce.appendChild(it),Ye=it}const Ve=document.querySelector("ion-app")||document.body;return ae=document.createComment("ionic teleport"),ce.parentNode.insertBefore(ae,ce),Ve.appendChild(ce),null!=Ye?Ye:ce});return function(Ge,je){return de.apply(this,arguments)}}(),removeViewFromDom:()=>(ce&&ae&&(ae.parentNode.insertBefore(ce,ae),ae.remove()),Promise.resolve())}}},6560:(fn,at,O)=>{"use strict";O.d(at,{G:()=>we});class x{constructor(ae,be,Xe,de,le){this.id=be,this.name=Xe,this.disableScroll=le,this.priority=1e6*de+be,this.ctrl=ae}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ae=this.ctrl.capture(this.name,this.id,this.priority);return ae&&this.disableScroll&&this.ctrl.disableScroll(this.id),ae}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(ae,be,Xe,de){this.id=be,this.disable=Xe,this.disableScroll=de,this.ctrl=ae}block(){if(this.ctrl){if(this.disable)for(const ae of this.disable)this.ctrl.disableGesture(ae,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ae of this.disable)this.ctrl.enableGesture(ae,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",we=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ae){var be;return new x(this,this.newID(),ae.name,null!==(be=ae.priority)&&void 0!==be?be:0,!!ae.disableScroll)}createBlocker(ae={}){return new K(this,this.newID(),ae.disable,!!ae.disableScroll)}start(ae,be,Xe){return this.canStart(ae)?(this.requestedStart.set(be,Xe),!0):(this.requestedStart.delete(be),!1)}capture(ae,be,Xe){if(!this.start(ae,be,Xe))return!1;const de=this.requestedStart;let le=-1e4;if(de.forEach(Ge=>{le=Math.max(le,Ge)}),le===Xe){this.capturedId=be,de.clear();const Ge=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ae}});return document.dispatchEvent(Ge),!0}return de.delete(be),!1}release(ae){this.requestedStart.delete(ae),this.capturedId===ae&&(this.capturedId=void 0)}disableGesture(ae,be){let Xe=this.disabledGestures.get(ae);void 0===Xe&&(Xe=new Set,this.disabledGestures.set(ae,Xe)),Xe.add(be)}enableGesture(ae,be){const Xe=this.disabledGestures.get(ae);void 0!==Xe&&Xe.delete(be)}disableScroll(ae){this.disabledScroll.add(ae),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(ae){this.disabledScroll.delete(ae),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(ae){return!(void 0!==this.capturedId||this.isDisabled(ae))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ae){const be=this.disabledGestures.get(ae);return!!(be&&be.size>0)}newID(){return this.gestureId++,this.gestureId}}},2784:(fn,at,O)=>{"use strict";O.r(at),O.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>Xe,OVERLAY_BACK_BUTTON_PRIORITY:()=>be,blockHardwareBackButton:()=>ce,shoudUseCloseWatcher:()=>we,startHardwareBackButton:()=>ae});var l=O(1528),x=O(4829),K=O(8523);O(2992);const we=()=>K.c.get("experimentalCloseWatcher",!1)&&void 0!==x.w&&"CloseWatcher"in x.w,ce=()=>{document.addEventListener("backbutton",()=>{})},ae=()=>{const de=document;let le=!1;const Ge=()=>{if(le)return;let je=0,He=[];const qe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ve,Se){He.push({priority:Ve,handler:Se,id:je++})}}});de.dispatchEvent(qe);const ft=function(){var Ve=(0,l.c)(function*(Se){try{if(null!=Se&&Se.handler){const it=Se.handler(Ye);null!=it&&(yield it)}}catch(it){console.error(it)}});return function(it){return Ve.apply(this,arguments)}}(),Ye=()=>{if(He.length>0){let Ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};He.forEach(Se=>{Se.priority>=Ve.priority&&(Ve=Se)}),le=!0,He=He.filter(Se=>Se.id!==Ve.id),ft(Ve).then(()=>le=!1)}};Ye()};if(we()){let je;const He=()=>{null==je||je.destroy(),je=new x.w.CloseWatcher,je.onclose=()=>{Ge(),He()}};He()}else de.addEventListener("backbutton",Ge)},be=100,Xe=99},6384:(fn,at,O)=>{"use strict";O.d(at,{a:()=>be,b:()=>Xe,c:()=>K,d:()=>ft,e:()=>qe,f:()=>He,g:()=>de,h:()=>je,i:()=>ae,j:()=>Ke,k:()=>we,l:()=>Ye,m:()=>ie,n:()=>Ge,o:()=>Ve,p:()=>We,q:()=>Qe,r:()=>le,s:()=>ot,t:()=>l,u:()=>Se,v:()=>it});const l=(me,z=0)=>new Promise($e=>{x(me,z,$e)}),x=(me,z=0,$e)=>{let Be,Le;const Ae={passive:!0},Ct=()=>{Be&&Be()},zt=Pt=>{(void 0===Pt||me===Pt.target)&&(Ct(),$e(Pt))};return me&&(me.addEventListener("webkitTransitionEnd",zt,Ae),me.addEventListener("transitionend",zt,Ae),Le=setTimeout(zt,z+500),Be=()=>{void 0!==Le&&(clearTimeout(Le),Le=void 0),me.removeEventListener("webkitTransitionEnd",zt,Ae),me.removeEventListener("transitionend",zt,Ae)}),Ct},K=(me,z)=>{me.componentOnReady?me.componentOnReady().then($e=>z($e)):le(()=>z(me))},ie=me=>void 0!==me.componentOnReady,we=(me,z=[])=>{const $e={};return z.forEach(Be=>{me.hasAttribute(Be)&&(null!==me.getAttribute(Be)&&($e[Be]=me.getAttribute(Be)),me.removeAttribute(Be))}),$e},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ae=(me,z)=>{let $e=ce;return z&&z.length>0&&($e=$e.filter(Be=>!z.includes(Be))),we(me,$e)},be=(me,z,$e,Be)=>{var Le;if(typeof window<"u"){const Ae=window,ze=null===(Le=null==Ae?void 0:Ae.Ionic)||void 0===Le?void 0:Le.config;if(ze){const Ct=ze.get("_ael");if(Ct)return Ct(me,z,$e,Be);if(ze._ael)return ze._ael(me,z,$e,Be)}}return me.addEventListener(z,$e,Be)},Xe=(me,z,$e,Be)=>{var Le;if(typeof window<"u"){const Ae=window,ze=null===(Le=null==Ae?void 0:Ae.Ionic)||void 0===Le?void 0:Le.config;if(ze){const Ct=ze.get("_rel");if(Ct)return Ct(me,z,$e,Be);if(ze._rel)return ze._rel(me,z,$e,Be)}}return me.removeEventListener(z,$e,Be)},de=(me,z=me)=>me.shadowRoot||z,le=me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(me):"function"==typeof requestAnimationFrame?requestAnimationFrame(me):setTimeout(me),Ge=me=>!!me.shadowRoot&&!!me.attachShadow,je=me=>{const z=me.closest("ion-item");return z?z.querySelector("ion-label"):null},He=me=>{if(me.focus(),me.classList.contains("ion-focusable")){const z=me.closest("ion-app");z&&z.setFocus([me])}},qe=(me,z)=>{let $e;const Be=me.getAttribute("aria-labelledby"),Le=me.id;let Ae=null!==Be&&""!==Be.trim()?Be:z+"-lbl",ze=null!==Be&&""!==Be.trim()?document.getElementById(Be):je(me);return ze?(null===Be&&(ze.id=Ae),$e=ze.textContent,ze.setAttribute("aria-hidden","true")):""!==Le.trim()&&(ze=document.querySelector(`label[for="${Le}"]`),ze&&(""!==ze.id?Ae=ze.id:ze.id=Ae=`${Le}-lbl`,$e=ze.textContent)),{label:ze,labelId:Ae,labelText:$e}},ft=(me,z,$e,Be,Le)=>{if(me||Ge(z)){let Ae=z.querySelector("input.aux-input");Ae||(Ae=z.ownerDocument.createElement("input"),Ae.type="hidden",Ae.classList.add("aux-input"),z.appendChild(Ae)),Ae.disabled=Le,Ae.name=$e,Ae.value=Be||""}},Ye=(me,z,$e)=>Math.max(me,Math.min(z,$e)),Ve=(me,z)=>{if(!me){const $e="ASSERT: "+z;throw console.error($e),new Error($e)}},Se=me=>me.timeStamp||Date.now(),it=me=>{if(me){const z=me.changedTouches;if(z&&z.length>0){const $e=z[0];return{x:$e.clientX,y:$e.clientY}}if(void 0!==me.pageX)return{x:me.pageX,y:me.pageY}}return{x:0,y:0}},We=me=>{const z="rtl"===document.dir;switch(me){case"start":return z;case"end":return!z;default:throw new Error(`"${me}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ke=(me,z)=>{const $e=me._original||me;return{_original:me,emit:Qe($e.emit.bind($e),z)}},Qe=(me,z=0)=>{let $e;return(...Be)=>{clearTimeout($e),$e=setTimeout(me,z,...Be)}},ot=(me,z)=>{if(null!=me||(me={}),null!=z||(z={}),me===z)return!0;const $e=Object.keys(me);if($e.length!==Object.keys(z).length)return!1;for(const Be of $e)if(!(Be in z)||me[Be]!==z[Be])return!1;return!0}},2528:(fn,at,O)=>{"use strict";O.r(at),O.d(at,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>Xe});var l=O(6560);const x=(je,He,qe,ft)=>{const Ye=K(je)?{capture:!!ft.capture,passive:!!ft.passive}:!!ft.capture;let Ve,Se;return je.__zone_symbol__addEventListener?(Ve="__zone_symbol__addEventListener",Se="__zone_symbol__removeEventListener"):(Ve="addEventListener",Se="removeEventListener"),je[Ve](He,qe,Ye),()=>{je[Se](He,qe,Ye)}},K=je=>{if(void 0===ie)try{const He=Object.defineProperty({},"passive",{get:()=>{ie=!0}});je.addEventListener("optsTest",()=>{},He)}catch{ie=!1}return!!ie};let ie;const ae=je=>je instanceof Document?je:je.ownerDocument,Xe=je=>{let He=!1,qe=!1,ft=!0,Ye=!1;const Ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},je),Se=Ve.canStart,it=Ve.onWillStart,We=Ve.onStart,Ke=Ve.onEnd,Qe=Ve.notCaptured,ot=Ve.onMove,me=Ve.threshold,z=Ve.passive,$e=Ve.blurOnStart,Be={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Le=((je,He,qe)=>{const ft=qe*(Math.PI/180),Ye="x"===je,Ve=Math.cos(ft),Se=He*He;let it=0,We=0,Ke=!1,Qe=0;return{start(ot,me){it=ot,We=me,Qe=0,Ke=!0},detect(ot,me){if(!Ke)return!1;const z=ot-it,$e=me-We,Be=z*z+$e*$e;if(Be<Se)return!1;const Le=Math.sqrt(Be),Ae=(Ye?z:$e)/Le;return Qe=Ae>Ve?1:Ae<-Ve?-1:0,Ke=!1,!0},isGesture:()=>0!==Qe,getDirection:()=>Qe}})(Ve.direction,Ve.threshold,Ve.maxAngle),Ae=l.G.createGesture({name:je.gestureName,priority:je.gesturePriority,disableScroll:je.disableScroll}),zt=()=>{He&&(Ye=!1,ot&&ot(Be))},Pt=()=>!!Ae.capture()&&(He=!0,ft=!1,Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime,it?it(Be).then(Ee):Ee(),!0),Ee=()=>{$e&&(()=>{if(typeof document<"u"){const Ue=document.activeElement;null!=Ue&&Ue.blur&&Ue.blur()}})(),We&&We(Be),ft=!0},ve=()=>{He=!1,qe=!1,Ye=!1,ft=!0,Ae.release()},Me=Ue=>{const Zt=He,on=ft;if(ve(),on){if(de(Be,Ue),Zt)return void(Ke&&Ke(Be));Qe&&Qe(Be)}},Oe=((je,He,qe,ft,Ye)=>{let Ve,Se,it,We,Ke,Qe,ot,me=0;const z=nt=>{me=Date.now()+2e3,He(nt)&&(!Se&&qe&&(Se=x(je,"touchmove",qe,Ye)),it||(it=x(nt.target,"touchend",Be,Ye)),We||(We=x(nt.target,"touchcancel",Be,Ye)))},$e=nt=>{me>Date.now()||He(nt)&&(!Qe&&qe&&(Qe=x(ae(je),"mousemove",qe,Ye)),ot||(ot=x(ae(je),"mouseup",Le,Ye)))},Be=nt=>{Ae(),ft&&ft(nt)},Le=nt=>{ze(),ft&&ft(nt)},Ae=()=>{Se&&Se(),it&&it(),We&&We(),Se=it=We=void 0},ze=()=>{Qe&&Qe(),ot&&ot(),Qe=ot=void 0},Ct=()=>{Ae(),ze()},zt=(nt=!0)=>{nt?(Ve||(Ve=x(je,"touchstart",z,Ye)),Ke||(Ke=x(je,"mousedown",$e,Ye))):(Ve&&Ve(),Ke&&Ke(),Ve=Ke=void 0,Ct())};return{enable:zt,stop:Ct,destroy:()=>{zt(!1),ft=qe=He=void 0}}})(Ve.el,Ue=>{const Zt=Ge(Ue);return!(qe||!ft||(le(Ue,Be),Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime=Zt,Be.velocityX=Be.velocityY=Be.deltaX=Be.deltaY=0,Be.event=Ue,Se&&!1===Se(Be))||(Ae.release(),!Ae.start()))&&(qe=!0,0===me?Pt():(Le.start(Be.startX,Be.startY),!0))},Ue=>{He?!Ye&&ft&&(Ye=!0,de(Be,Ue),requestAnimationFrame(zt)):(de(Be,Ue),Le.detect(Be.currentX,Be.currentY)&&(!Le.isGesture()||!Pt())&&ut())},Me,{capture:!1,passive:z}),ut=()=>{ve(),Oe.stop(),Qe&&Qe(Be)};return{enable(Ue=!0){Ue||(He&&Me(void 0),ve()),Oe.enable(Ue)},destroy(){Ae.destroy(),Oe.destroy()}}},de=(je,He)=>{if(!He)return;const qe=je.currentX,ft=je.currentY,Ye=je.currentTime;le(He,je);const Ve=je.currentX,Se=je.currentY,We=(je.currentTime=Ge(He))-Ye;if(We>0&&We<100){const Qe=(Se-ft)/We;je.velocityX=(Ve-qe)/We*.7+.3*je.velocityX,je.velocityY=.7*Qe+.3*je.velocityY}je.deltaX=Ve-je.startX,je.deltaY=Se-je.startY,je.event=He},le=(je,He)=>{let qe=0,ft=0;if(je){const Ye=je.changedTouches;if(Ye&&Ye.length>0){const Ve=Ye[0];qe=Ve.clientX,ft=Ve.clientY}else void 0!==je.pageX&&(qe=je.pageX,ft=je.pageY)}He.currentX=qe,He.currentY=ft},Ge=je=>je.timeStamp||Date.now()},6256:(fn,at,O)=>{"use strict";O.d(at,{b:()=>ce,c:()=>ae,d:()=>be,e:()=>me,g:()=>Be,l:()=>Qe,s:()=>z,t:()=>le,w:()=>ot});var l=O(1528),x=O(2992),K=O(6384);const ce="ionViewWillLeave",ae="ionViewDidLeave",be="ionViewWillUnload",le=Le=>new Promise((Ae,ze)=>{(0,x.w)(()=>{Ge(Le),je(Le).then(Ct=>{Ct.animation&&Ct.animation.destroy(),He(Le),Ae(Ct)},Ct=>{He(Le),ze(Ct)})})}),Ge=Le=>{const Ae=Le.enteringEl,ze=Le.leavingEl;$e(Ae,ze,Le.direction),Le.showGoBack?Ae.classList.add("can-go-back"):Ae.classList.remove("can-go-back"),z(Ae,!1),Ae.style.setProperty("pointer-events","none"),ze&&(z(ze,!1),ze.style.setProperty("pointer-events","none"))},je=function(){var Le=(0,l.c)(function*(Ae){const ze=yield qe(Ae);return ze&&x.B.isBrowser?ft(ze,Ae):Ye(Ae)});return function(ze){return Le.apply(this,arguments)}}(),He=Le=>{const Ae=Le.enteringEl,ze=Le.leavingEl;Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"),void 0!==ze&&(ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"))},qe=function(){var Le=(0,l.c)(function*(Ae){return Ae.leavingEl&&Ae.animated&&0!==Ae.duration?Ae.animationBuilder?Ae.animationBuilder:"ios"===Ae.mode?(yield Promise.resolve().then(O.bind(O,8512))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,6556))).mdTransitionAnimation:void 0});return function(ze){return Le.apply(this,arguments)}}(),ft=function(){var Le=(0,l.c)(function*(Ae,ze){yield Ve(ze,!0);const Ct=Ae(ze.baseEl,ze);We(ze.enteringEl,ze.leavingEl);const zt=yield it(Ct,ze);return ze.progressCallback&&ze.progressCallback(void 0),zt&&Ke(ze.enteringEl,ze.leavingEl),{hasCompleted:zt,animation:Ct}});return function(ze,Ct){return Le.apply(this,arguments)}}(),Ye=function(){var Le=(0,l.c)(function*(Ae){const ze=Ae.enteringEl,Ct=Ae.leavingEl;return yield Ve(Ae,!1),We(ze,Ct),Ke(ze,Ct),{hasCompleted:!0}});return function(ze){return Le.apply(this,arguments)}}(),Ve=function(){var Le=(0,l.c)(function*(Ae,ze){(void 0!==Ae.deepWait?Ae.deepWait:ze)&&(yield Promise.all([me(Ae.enteringEl),me(Ae.leavingEl)])),yield Se(Ae.viewIsReady,Ae.enteringEl)});return function(ze,Ct){return Le.apply(this,arguments)}}(),Se=function(){var Le=(0,l.c)(function*(Ae,ze){Ae&&(yield Ae(ze))});return function(ze,Ct){return Le.apply(this,arguments)}}(),it=(Le,Ae)=>{const ze=Ae.progressCallback,Ct=new Promise(zt=>{Le.onFinish(Pt=>zt(1===Pt))});return ze?(Le.progressStart(!0),ze(Le)):Le.play(),Ct},We=(Le,Ae)=>{Qe(Ae,ce),Qe(Le,"ionViewWillEnter")},Ke=(Le,Ae)=>{Qe(Le,"ionViewDidEnter"),Qe(Ae,ae)},Qe=(Le,Ae)=>{if(Le){const ze=new CustomEvent(Ae,{bubbles:!1,cancelable:!1});Le.dispatchEvent(ze)}},ot=()=>new Promise(Le=>(0,K.r)(()=>(0,K.r)(()=>Le()))),me=function(){var Le=(0,l.c)(function*(Ae){const ze=Ae;if(ze){if(null!=ze.componentOnReady){if(null!=(yield ze.componentOnReady()))return}else if(null!=ze.__registerHost)return void(yield new Promise(zt=>(0,K.r)(zt)));yield Promise.all(Array.from(ze.children).map(me))}});return function(ze){return Le.apply(this,arguments)}}(),z=(Le,Ae)=>{Ae?(Le.setAttribute("aria-hidden","true"),Le.classList.add("ion-page-hidden")):(Le.hidden=!1,Le.removeAttribute("aria-hidden"),Le.classList.remove("ion-page-hidden"))},$e=(Le,Ae,ze)=>{void 0!==Le&&(Le.style.zIndex="back"===ze?"99":"101"),void 0!==Ae&&(Ae.style.zIndex="100")},Be=Le=>Le.classList.contains("ion-page")?Le:Le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Le},2992:(fn,at,O)=>{"use strict";O.d(at,{B:()=>Ge,H:()=>Pt,a:()=>Eo,b:()=>Gn,c:()=>on,d:()=>tr,e:()=>li,f:()=>bn,g:()=>Kt,h:()=>Ct,i:()=>he,j:()=>je,r:()=>er,w:()=>Et});var l=O(1528);let ie,we,ce,ae=!1,be=!1,Xe=!1,de=!1,le=!1;const Ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},je=q=>{const te=new URL(q,Kn.$resourcesUrl$);return te.origin!==Ci.location.origin?te.href:te.pathname},it="s-id",We="sty-id",ot="slot-fb{display:contents}slot-fb[hidden]{display:none}",me="http://www.w3.org/1999/xlink",z={},Ae=q=>"object"==(q=typeof q)||"function"===q;function ze(q){var te,Ze,rt;return null!==(rt=null===(Ze=null===(te=q.head)||void 0===te?void 0:te.querySelector('meta[name="csp-nonce"]'))||void 0===Ze?void 0:Ze.getAttribute("content"))&&void 0!==rt?rt:void 0}const Ct=(q,te,...Ze)=>{let rt=null,It=null,Ot=null,Wt=!1,un=!1;const en=[],kt=In=>{for(let Pn=0;Pn<In.length;Pn++)rt=In[Pn],Array.isArray(rt)?kt(rt):null!=rt&&"boolean"!=typeof rt&&((Wt="function"!=typeof q&&!Ae(rt))&&(rt=String(rt)),Wt&&un?en[en.length-1].$text$+=rt:en.push(Wt?zt(null,rt):rt),un=Wt)};if(kt(Ze),te){te.key&&(It=te.key),te.name&&(Ot=te.name);{const In=te.className||te.class;In&&(te.class="object"!=typeof In?In:Object.keys(In).filter(Pn=>In[Pn]).join(" "))}}if("function"==typeof q)return q(null===te?{}:te,en,Ee);const rn=zt(q,null);return rn.$attrs$=te,en.length>0&&(rn.$children$=en),rn.$key$=It,rn.$name$=Ot,rn},zt=(q,te)=>({$flags$:0,$tag$:q,$text$:te,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pt={},Ee={forEach:(q,te)=>q.map(ve).forEach(te),map:(q,te)=>q.map(ve).map(te).map(Me)},ve=q=>({vattrs:q.$attrs$,vchildren:q.$children$,vkey:q.$key$,vname:q.$name$,vtag:q.$tag$,vtext:q.$text$}),Me=q=>{if("function"==typeof q.vtag){const Ze=Object.assign({},q.vattrs);return q.vkey&&(Ze.key=q.vkey),q.vname&&(Ze.name=q.vname),Ct(q.vtag,Ze,...q.vchildren||[])}const te=zt(q.vtag,q.vtext);return te.$attrs$=q.vattrs,te.$children$=q.vchildren,te.$key$=q.vkey,te.$name$=q.vname,te},ut=(q,te,Ze,rt,It,Ot,Wt)=>{let un,en,kt,rn;if(1===Ot.nodeType){for(un=Ot.getAttribute("c-id"),un&&(en=un.split("."),(en[0]===Wt||"0"===en[0])&&(kt={$flags$:0,$hostId$:en[0],$nodeId$:en[1],$depth$:en[2],$index$:en[3],$tag$:Ot.tagName.toLowerCase(),$elm$:Ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},te.push(kt),Ot.removeAttribute("c-id"),q.$children$||(q.$children$=[]),q.$children$[kt.$index$]=kt,q=kt,rt&&"0"===kt.$depth$&&(rt[kt.$index$]=kt.$elm$))),rn=Ot.childNodes.length-1;rn>=0;rn--)ut(q,te,Ze,rt,It,Ot.childNodes[rn],Wt);if(Ot.shadowRoot)for(rn=Ot.shadowRoot.childNodes.length-1;rn>=0;rn--)ut(q,te,Ze,rt,It,Ot.shadowRoot.childNodes[rn],Wt)}else if(8===Ot.nodeType)en=Ot.nodeValue.split("."),(en[1]===Wt||"0"===en[1])&&(un=en[0],kt={$flags$:0,$hostId$:en[1],$nodeId$:en[2],$depth$:en[3],$index$:en[4],$elm$:Ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===un?(kt.$elm$=Ot.nextSibling,kt.$elm$&&3===kt.$elm$.nodeType&&(kt.$text$=kt.$elm$.textContent,te.push(kt),Ot.remove(),q.$children$||(q.$children$=[]),q.$children$[kt.$index$]=kt,rt&&"0"===kt.$depth$&&(rt[kt.$index$]=kt.$elm$))):kt.$hostId$===Wt&&("s"===un?(kt.$tag$="slot",Ot["s-sn"]=en[5]?kt.$name$=en[5]:"",Ot["s-sr"]=!0,rt&&(kt.$elm$=Gr.createElement(kt.$tag$),kt.$name$&&kt.$elm$.setAttribute("name",kt.$name$),Ot.parentNode.insertBefore(kt.$elm$,Ot),Ot.remove(),"0"===kt.$depth$&&(rt[kt.$index$]=kt.$elm$)),Ze.push(kt),q.$children$||(q.$children$=[]),q.$children$[kt.$index$]=kt):"r"===un&&(rt?Ot.remove():(It["s-cr"]=Ot,Ot["s-cn"]=!0))));else if(q&&"style"===q.$tag$){const In=zt(null,Ot.textContent);In.$elm$=Ot,In.$index$="0",q.$children$=[In]}},Ue=(q,te)=>{if(1===q.nodeType){let Ze=0;for(;Ze<q.childNodes.length;Ze++)Ue(q.childNodes[Ze],te);if(q.shadowRoot)for(Ze=0;Ze<q.shadowRoot.childNodes.length;Ze++)Ue(q.shadowRoot.childNodes[Ze],te)}else if(8===q.nodeType){const Ze=q.nodeValue.split(".");"o"===Ze[0]&&(te.set(Ze[1]+"."+Ze[2],q),q.nodeValue="",q["s-en"]=Ze[3])}},on=q=>Bi.push(q),Kt=q=>Hn(q).$modeName$,bn=q=>Hn(q).$hostElement$,tr=(q,te,Ze)=>{const rt=bn(q);return{emit:It=>qn(rt,te,{bubbles:!!(4&Ze),composed:!!(2&Ze),cancelable:!!(1&Ze),detail:It})}},qn=(q,te,Ze)=>{const rt=Kn.ce(te,Ze);return q.dispatchEvent(rt),rt},Ft=new WeakMap,Dt=(q,te,Ze)=>{let rt=hr.get(q);Ce&&Ze?(rt=rt||new CSSStyleSheet,"string"==typeof rt?rt=te:rt.replaceSync(te)):rt=te,hr.set(q,rt)},wt=(q,te,Ze)=>{var rt;const It=hn(te,Ze),Ot=hr.get(It);if(q=11===q.nodeType?q:Gr,Ot)if("string"==typeof Ot){let un,Wt=Ft.get(q=q.head||q);if(Wt||Ft.set(q,Wt=new Set),!Wt.has(It)){if(q.host&&(un=q.querySelector(`[${We}="${It}"]`)))un.innerHTML=Ot;else{un=Gr.createElement("style"),un.innerHTML=Ot;const en=null!==(rt=Kn.$nonce$)&&void 0!==rt?rt:ze(Gr);null!=en&&un.setAttribute("nonce",en),q.insertBefore(un,q.querySelector("link"))}4&te.$flags$&&(un.innerHTML+=ot),Wt&&Wt.add(It)}}else q.adoptedStyleSheets.includes(Ot)||(q.adoptedStyleSheets=[...q.adoptedStyleSheets,Ot]);return It},hn=(q,te)=>"sc-"+(te&&32&q.$flags$?q.$tagName$+"-"+te:q.$tagName$),qt=q=>q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),mt=(q,te,Ze,rt,It,Ot)=>{if(Ze!==rt){let Wt=Ar(q,te),un=te.toLowerCase();if("class"===te){const en=q.classList,kt=kn(Ze),rn=kn(rt);en.remove(...kt.filter(In=>In&&!rn.includes(In))),en.add(...rn.filter(In=>In&&!kt.includes(In)))}else if("style"===te){for(const en in Ze)(!rt||null==rt[en])&&(en.includes("-")?q.style.removeProperty(en):q.style[en]="");for(const en in rt)(!Ze||rt[en]!==Ze[en])&&(en.includes("-")?q.style.setProperty(en,rt[en]):q.style[en]=rt[en])}else if("key"!==te)if("ref"===te)rt&&rt(q);else if(Wt||"o"!==te[0]||"n"!==te[1]){const en=Ae(rt);if((Wt||en&&null!==rt)&&!It)try{if(q.tagName.includes("-"))q[te]=rt;else{const rn=null==rt?"":rt;"list"===te?Wt=!1:(null==Ze||q[te]!=rn)&&(q[te]=rn)}}catch{}let kt=!1;un!==(un=un.replace(/^xlink\:?/,""))&&(te=un,kt=!0),null==rt||!1===rt?(!1!==rt||""===q.getAttribute(te))&&(kt?q.removeAttributeNS(me,te):q.removeAttribute(te)):(!Wt||4&Ot||It)&&!en&&(rt=!0===rt?"":rt,kt?q.setAttributeNS(me,te,rt):q.setAttribute(te,rt))}else if(te="-"===te[2]?te.slice(3):Ar(Ci,un)?un.slice(2):un[2]+te.slice(3),Ze||rt){const en=te.endsWith(pr);te=te.replace(mr,""),Ze&&Kn.rel(q,te,Ze,en),rt&&Kn.ael(q,te,rt,en)}}},wn=/\s/,kn=q=>q?q.split(wn):[],pr="Capture",mr=new RegExp(pr+"$"),lr=(q,te,Ze,rt)=>{const It=11===te.$elm$.nodeType&&te.$elm$.host?te.$elm$.host:te.$elm$,Ot=q&&q.$attrs$||z,Wt=te.$attrs$||z;for(rt in Ot)rt in Wt||mt(It,rt,Ot[rt],void 0,Ze,te.$flags$);for(rt in Wt)mt(It,rt,Ot[rt],Wt[rt],Ze,te.$flags$)},An=(q,te,Ze,rt)=>{const It=te.$children$[Ze];let Wt,un,en,Ot=0;if(ae||(Xe=!0,"slot"===It.$tag$&&(ie&&rt.classList.add(ie+"-s"),It.$flags$|=It.$children$?2:1)),null!==It.$text$)Wt=It.$elm$=Gr.createTextNode(It.$text$);else if(1&It.$flags$)Wt=It.$elm$=Gr.createTextNode("");else{if(de||(de="svg"===It.$tag$),Wt=It.$elm$=Gr.createElementNS(de?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&It.$flags$?"slot-fb":It.$tag$),de&&"foreignObject"===It.$tag$&&(de=!1),lr(null,It,de),(q=>null!=q)(ie)&&Wt["s-si"]!==ie&&Wt.classList.add(Wt["s-si"]=ie),It.$children$)for(Ot=0;Ot<It.$children$.length;++Ot)un=An(q,It,Ot,Wt),un&&Wt.appendChild(un);"svg"===It.$tag$?de=!1:"foreignObject"===Wt.tagName&&(de=!0)}return Wt["s-hn"]=ce,3&It.$flags$&&(Wt["s-sr"]=!0,Wt["s-cr"]=we,Wt["s-sn"]=It.$name$||"",en=q&&q.$children$&&q.$children$[Ze],en&&en.$tag$===It.$tag$&&q.$elm$&&$n(q.$elm$,!1)),Wt},$n=(q,te)=>{Kn.$flags$|=1;const Ze=q.childNodes;for(let rt=Ze.length-1;rt>=0;rt--){const It=Ze[rt];It["s-hn"]!==ce&&It["s-ol"]&&(Fn(It).insertBefore(It,Ir(It)),It["s-ol"].remove(),It["s-ol"]=void 0,It["s-sh"]=void 0,Xe=!0),te&&$n(It,te)}Kn.$flags$&=-2},vr=(q,te,Ze,rt,It,Ot)=>{let un,Wt=q["s-cr"]&&q["s-cr"].parentNode||q;for(Wt.shadowRoot&&Wt.tagName===ce&&(Wt=Wt.shadowRoot);It<=Ot;++It)rt[It]&&(un=An(null,Ze,It,q),un&&(rt[It].$elm$=un,Wt.insertBefore(un,Ir(te))))},di=(q,te,Ze)=>{for(let rt=te;rt<=Ze;++rt){const It=q[rt];if(It){const Ot=It.$elm$;Dr(It),Ot&&(be=!0,Ot["s-ol"]?Ot["s-ol"].remove():$n(Ot,!0),Ot.remove())}}},Cn=(q,te,Ze=!1)=>q.$tag$===te.$tag$&&("slot"===q.$tag$?q.$name$===te.$name$:!!Ze||q.$key$===te.$key$),Ir=q=>q&&q["s-ol"]||q,Fn=q=>(q["s-ol"]?q["s-ol"]:q).parentNode,Sn=(q,te,Ze=!1)=>{const rt=te.$elm$=q.$elm$,It=q.$children$,Ot=te.$children$,Wt=te.$tag$,un=te.$text$;let en;null===un?(de="svg"===Wt||"foreignObject"!==Wt&&de,"slot"===Wt&&!ae||lr(q,te,de),null!==It&&null!==Ot?((q,te,Ze,rt,It=!1)=>{let ii,D,Ot=0,Wt=0,un=0,en=0,kt=te.length-1,rn=te[0],In=te[kt],Pn=rt.length-1,or=rt[0],ui=rt[Pn];for(;Ot<=kt&&Wt<=Pn;)if(null==rn)rn=te[++Ot];else if(null==In)In=te[--kt];else if(null==or)or=rt[++Wt];else if(null==ui)ui=rt[--Pn];else if(Cn(rn,or,It))Sn(rn,or,It),rn=te[++Ot],or=rt[++Wt];else if(Cn(In,ui,It))Sn(In,ui,It),In=te[--kt],ui=rt[--Pn];else if(Cn(rn,ui,It))("slot"===rn.$tag$||"slot"===ui.$tag$)&&$n(rn.$elm$.parentNode,!1),Sn(rn,ui,It),q.insertBefore(rn.$elm$,In.$elm$.nextSibling),rn=te[++Ot],ui=rt[--Pn];else if(Cn(In,or,It))("slot"===rn.$tag$||"slot"===ui.$tag$)&&$n(In.$elm$.parentNode,!1),Sn(In,or,It),q.insertBefore(In.$elm$,rn.$elm$),In=te[--kt],or=rt[++Wt];else{for(un=-1,en=Ot;en<=kt;++en)if(te[en]&&null!==te[en].$key$&&te[en].$key$===or.$key$){un=en;break}un>=0?(D=te[un],D.$tag$!==or.$tag$?ii=An(te&&te[Wt],Ze,un,q):(Sn(D,or,It),te[un]=void 0,ii=D.$elm$),or=rt[++Wt]):(ii=An(te&&te[Wt],Ze,Wt,q),or=rt[++Wt]),ii&&Fn(rn.$elm$).insertBefore(ii,Ir(rn.$elm$))}Ot>kt?vr(q,null==rt[Pn+1]?null:rt[Pn+1].$elm$,Ze,rt,Wt,Pn):Wt>Pn&&di(te,Ot,kt)})(rt,It,te,Ot,Ze):null!==Ot?(null!==q.$text$&&(rt.textContent=""),vr(rt,null,te,Ot,0,Ot.length-1)):null!==It&&di(It,0,It.length-1),de&&"svg"===Wt&&(de=!1)):(en=rt["s-cr"])?en.parentNode.textContent=un:q.$text$!==un&&(rt.data=un)},Un=q=>{const te=q.childNodes;for(const Ze of te)if(1===Ze.nodeType){if(Ze["s-sr"]){const rt=Ze["s-sn"];Ze.hidden=!1;for(const It of te)if(It!==Ze)if(It["s-hn"]!==Ze["s-hn"]||""!==rt){if(1===It.nodeType&&(rt===It.getAttribute("slot")||rt===It["s-sn"])){Ze.hidden=!0;break}}else if(1===It.nodeType||3===It.nodeType&&""!==It.textContent.trim()){Ze.hidden=!0;break}}Un(Ze)}},vn=[],sr=q=>{let te,Ze,rt;for(const It of q.childNodes){if(It["s-sr"]&&(te=It["s-cr"])&&te.parentNode){Ze=te.parentNode.childNodes;const Ot=It["s-sn"];for(rt=Ze.length-1;rt>=0;rt--)if(te=Ze[rt],!te["s-cn"]&&!te["s-nr"]&&te["s-hn"]!==It["s-hn"])if(ai(te,Ot)){let Wt=vn.find(un=>un.$nodeToRelocate$===te);be=!0,te["s-sn"]=te["s-sn"]||Ot,Wt?(Wt.$nodeToRelocate$["s-sh"]=It["s-hn"],Wt.$slotRefNode$=It):(te["s-sh"]=It["s-hn"],vn.push({$slotRefNode$:It,$nodeToRelocate$:te})),te["s-sr"]&&vn.map(un=>{ai(un.$nodeToRelocate$,te["s-sn"])&&(Wt=vn.find(en=>en.$nodeToRelocate$===te),Wt&&!un.$slotRefNode$&&(un.$slotRefNode$=Wt.$slotRefNode$))})}else vn.some(Wt=>Wt.$nodeToRelocate$===te)||vn.push({$nodeToRelocate$:te})}1===It.nodeType&&sr(It)}},ai=(q,te)=>1===q.nodeType?null===q.getAttribute("slot")&&""===te||q.getAttribute("slot")===te:q["s-sn"]===te||""===te,Dr=q=>{q.$attrs$&&q.$attrs$.ref&&q.$attrs$.ref(null),q.$children$&&q.$children$.map(Dr)},Zn=(q,te)=>{te&&!q.$onRenderResolve$&&te["s-p"]&&te["s-p"].push(new Promise(Ze=>q.$onRenderResolve$=Ze))},wr=(q,te)=>{if(q.$flags$|=16,!(4&q.$flags$))return Zn(q,q.$ancestorComponent$),Et(()=>Ei(q,te));q.$flags$|=512},Ei=(q,te)=>{const rt=q.$lazyInstance$;let It;return te&&(q.$flags$|=256,q.$queuedListeners$&&(q.$queuedListeners$.map(([Ot,Wt])=>R(rt,Ot,Wt)),q.$queuedListeners$=void 0),It=R(rt,"componentWillLoad")),It=Rt(It,()=>R(rt,"componentWillRender")),Rt(It,()=>Tt(q,rt,te))},Rt=(q,te)=>et(q)?q.then(te):te(),et=q=>q instanceof Promise||q&&q.then&&"function"==typeof q.then,Tt=function(){var q=(0,l.c)(function*(te,Ze,rt){var It;const Ot=te.$hostElement$,un=Ot["s-rc"];rt&&(q=>{const te=q.$cmpMeta$,Ze=q.$hostElement$,rt=te.$flags$,Ot=wt(Ze.shadowRoot?Ze.shadowRoot:Ze.getRootNode(),te,q.$modeName$);10&rt&&(Ze["s-sc"]=Ot,Ze.classList.add(Ot+"-h"),2&rt&&Ze.classList.add(Ot+"-s"))})(te);tt(te,Ze,Ot,rt),un&&(un.map(kt=>kt()),Ot["s-rc"]=void 0);{const kt=null!==(It=Ot["s-p"])&&void 0!==It?It:[],rn=()=>oe(te);0===kt.length?rn():(Promise.all(kt).then(rn),te.$flags$|=4,kt.length=0)}});return function(Ze,rt,It){return q.apply(this,arguments)}}(),tt=(q,te,Ze,rt)=>{try{te=te.render&&te.render(),q.$flags$&=-17,q.$flags$|=2,((q,te,Ze=!1)=>{var rt,It,Ot,Wt;const un=q.$hostElement$,en=q.$cmpMeta$,kt=q.$vnode$||zt(null,null),rn=(q=>q&&q.$tag$===Pt)(te)?te:Ct(null,null,te);if(ce=un.tagName,en.$attrsToReflect$&&(rn.$attrs$=rn.$attrs$||{},en.$attrsToReflect$.map(([In,Pn])=>rn.$attrs$[Pn]=un[In])),Ze&&rn.$attrs$)for(const In of Object.keys(rn.$attrs$))un.hasAttribute(In)&&!["key","ref","style","class"].includes(In)&&(rn.$attrs$[In]=un[In]);if(rn.$tag$=null,rn.$flags$|=4,q.$vnode$=rn,rn.$elm$=kt.$elm$=un.shadowRoot||un,ie=un["s-sc"],ae=0!=(1&en.$flags$),we=un["s-cr"],be=!1,Sn(kt,rn,Ze),Kn.$flags$|=1,Xe){sr(rn.$elm$);for(const In of vn){const Pn=In.$nodeToRelocate$;if(!Pn["s-ol"]){const or=Gr.createTextNode("");or["s-nr"]=Pn,Pn.parentNode.insertBefore(Pn["s-ol"]=or,Pn)}}for(const In of vn){const Pn=In.$nodeToRelocate$,or=In.$slotRefNode$;if(or){const ui=or.parentNode;let ii=or.nextSibling;{let D=null===(rt=Pn["s-ol"])||void 0===rt?void 0:rt.previousSibling;for(;D;){let se=null!==(It=D["s-nr"])&&void 0!==It?It:null;if(se&&se["s-sn"]===Pn["s-sn"]&&ui===se.parentNode&&(se=se.nextSibling,!se||!se["s-nr"])){ii=se;break}D=D.previousSibling}}(!ii&&ui!==Pn.parentNode||Pn.nextSibling!==ii)&&Pn!==ii&&(!Pn["s-hn"]&&Pn["s-ol"]&&(Pn["s-hn"]=Pn["s-ol"].parentNode.nodeName),ui.insertBefore(Pn,ii),1===Pn.nodeType&&(Pn.hidden=null!==(Ot=Pn["s-ih"])&&void 0!==Ot&&Ot))}else 1===Pn.nodeType&&(Ze&&(Pn["s-ih"]=null!==(Wt=Pn.hidden)&&void 0!==Wt&&Wt),Pn.hidden=!0)}}be&&Un(rn.$elm$),Kn.$flags$&=-2,vn.length=0,we=void 0})(q,te,rt)}catch(It){Mr(It,q.$hostElement$)}return null},oe=q=>{const Ze=q.$hostElement$,It=q.$lazyInstance$,Ot=q.$ancestorComponent$;R(It,"componentDidRender"),64&q.$flags$?R(It,"componentDidUpdate"):(q.$flags$|=64,F(Ze),R(It,"componentDidLoad"),q.$onReadyResolve$(Ze),Ot||Z()),q.$onInstanceResolve$(Ze),q.$onRenderResolve$&&(q.$onRenderResolve$(),q.$onRenderResolve$=void 0),512&q.$flags$&&Qn(()=>wr(q,!1)),q.$flags$&=-517},he=q=>{{const te=Hn(q),Ze=te.$hostElement$.isConnected;return Ze&&2==(18&te.$flags$)&&wr(te,!1),Ze}},Z=q=>{F(Gr.documentElement),Qn(()=>qn(Ci,"appload",{detail:{namespace:"ionic"}}))},R=(q,te,Ze)=>{if(q&&q[te])try{return q[te](Ze)}catch(rt){Mr(rt)}},F=q=>q.classList.add("hydrated"),ct=(q,te,Ze)=>{var rt;const It=q.prototype;if(te.$members$){q.watchers&&(te.$watchers$=q.watchers);const Ot=Object.entries(te.$members$);if(Ot.map(([Wt,[un]])=>{31&un||2&Ze&&32&un?Object.defineProperty(It,Wt,{get(){return((q,te)=>Hn(this).$instanceValues$.get(te))(0,Wt)},set(en){((q,te,Ze,rt)=>{const It=Hn(q),Ot=It.$hostElement$,Wt=It.$instanceValues$.get(te),un=It.$flags$,en=It.$lazyInstance$;Ze=((q,te)=>null==q||Ae(q)?q:4&te?"false"!==q&&(""===q||!!q):2&te?parseFloat(q):1&te?String(q):q)(Ze,rt.$members$[te][0]);const kt=Number.isNaN(Wt)&&Number.isNaN(Ze);if((!(8&un)||void 0===Wt)&&Ze!==Wt&&!kt&&(It.$instanceValues$.set(te,Ze),en)){if(rt.$watchers$&&128&un){const In=rt.$watchers$[te];In&&In.map(Pn=>{try{en[Pn](Ze,Wt,te)}catch(or){Mr(or,Ot)}})}2==(18&un)&&wr(It,!1)}})(this,Wt,en,te)},configurable:!0,enumerable:!0}):1&Ze&&64&un&&Object.defineProperty(It,Wt,{value(...en){var kt;const rn=Hn(this);return null===(kt=null==rn?void 0:rn.$onInstancePromise$)||void 0===kt?void 0:kt.then(()=>{var In;return null===(In=rn.$lazyInstance$)||void 0===In?void 0:In[Wt](...en)})}})}),1&Ze){const Wt=new Map;It.attributeChangedCallback=function(un,en,kt){Kn.jmp(()=>{var rn;const In=Wt.get(un);if(this.hasOwnProperty(In))kt=this[In],delete this[In];else{if(It.hasOwnProperty(In)&&"number"==typeof this[In]&&this[In]==kt)return;if(null==In){const Pn=Hn(this),or=null==Pn?void 0:Pn.$flags$;if(or&&!(8&or)&&128&or&&kt!==en){const ui=Pn.$lazyInstance$,ii=null===(rn=te.$watchers$)||void 0===rn?void 0:rn[un];null==ii||ii.forEach(D=>{null!=ui[D]&&ui[D].call(ui,kt,en,un)})}return}}this[In]=(null!==kt||"boolean"!=typeof this[In])&&kt})},q.observedAttributes=Array.from(new Set([...Object.keys(null!==(rt=te.$watchers$)&&void 0!==rt?rt:{}),...Ot.filter(([un,en])=>15&en[0]).map(([un,en])=>{var kt;const rn=en[1]||un;return Wt.set(rn,un),512&en[0]&&(null===(kt=te.$attrsToReflect$)||void 0===kt||kt.push([un,rn])),rn})]))}}return q},Mt=function(){var q=(0,l.c)(function*(te,Ze,rt,It){let Ot;if(!(32&Ze.$flags$)){Ze.$flags$|=32;{if(Ot=so(rt),Ot.then){const kt=()=>{};Ot=yield Ot,kt()}Ot.isProxied||(rt.$watchers$=Ot.watchers,ct(Ot,rt,2),Ot.isProxied=!0);const en=()=>{};Ze.$flags$|=8;try{new Ot(Ze)}catch(kt){Mr(kt)}Ze.$flags$&=-9,Ze.$flags$|=128,en(),xt(Ze.$lazyInstance$)}if(Ot.style){let en=Ot.style;"string"!=typeof en&&(en=en[Ze.$modeName$=(q=>Bi.map(te=>te(q)).find(te=>!!te))(te)]);const kt=hn(rt,Ze.$modeName$);if(!hr.has(kt)){const rn=()=>{};Dt(kt,en,!!(1&rt.$flags$)),rn()}}}const Wt=Ze.$ancestorComponent$,un=()=>wr(Ze,!0);Wt&&Wt["s-rc"]?Wt["s-rc"].push(un):un()});return function(Ze,rt,It,Ot){return q.apply(this,arguments)}}(),xt=q=>{R(q,"connectedCallback")},Vt=q=>{const te=q["s-cr"]=Gr.createComment("");te["s-cn"]=!0,q.insertBefore(te,q.firstChild)},dn=q=>{R(q,"disconnectedCallback")},Rn=function(){var q=(0,l.c)(function*(te){if(!(1&Kn.$flags$)){const Ze=Hn(te);Ze.$rmListeners$&&(Ze.$rmListeners$.map(rt=>rt()),Ze.$rmListeners$=void 0),null!=Ze&&Ze.$lazyInstance$?dn(Ze.$lazyInstance$):null!=Ze&&Ze.$onReadyPromise$&&Ze.$onReadyPromise$.then(()=>dn(Ze.$lazyInstance$))}});return function(Ze){return q.apply(this,arguments)}}(),Gn=(q,te={})=>{var Ze;const It=[],Ot=te.exclude||[],Wt=Ci.customElements,un=Gr.head,en=un.querySelector("meta[charset]"),kt=Gr.createElement("style"),rn=[],In=Gr.querySelectorAll(`[${We}]`);let Pn,or=!0,ui=0;for(Object.assign(Kn,te),Kn.$resourcesUrl$=new URL(te.resourcesUrl||"./",Gr.baseURI).href,Kn.$flags$|=2;ui<In.length;ui++)Dt(In[ui].getAttribute(We),qt(In[ui].innerHTML),!0);let ii=!1;if(q.map(D=>{D[1].map(se=>{var L;const re={$flags$:se[0],$tagName$:se[1],$members$:se[2],$listeners$:se[3]};4&re.$flags$&&(ii=!0),re.$members$=se[2],re.$listeners$=se[3],re.$attrsToReflect$=[],re.$watchers$=null!==(L=se[4])&&void 0!==L?L:{};const Ne=re.$tagName$,Qt=class extends HTMLElement{constructor(Er){super(Er),Br(Er=this,re),1&re.$flags$&&Er.attachShadow({mode:"open",delegatesFocus:!!(16&re.$flags$)})}connectedCallback(){Pn&&(clearTimeout(Pn),Pn=null),or?rn.push(this):Kn.jmp(()=>(q=>{if(!(1&Kn.$flags$)){const te=Hn(q),Ze=te.$cmpMeta$,rt=()=>{};if(1&te.$flags$)Jn(q,te,Ze.$listeners$),null!=te&&te.$lazyInstance$?xt(te.$lazyInstance$):null!=te&&te.$onReadyPromise$&&te.$onReadyPromise$.then(()=>xt(te.$lazyInstance$));else{let It;if(te.$flags$|=1,It=q.getAttribute(it),It){if(1&Ze.$flags$){const Ot=wt(q.shadowRoot,Ze,q.getAttribute("s-mode"));q.classList.remove(Ot+"-h",Ot+"-s")}((q,te,Ze,rt)=>{const Ot=q.shadowRoot,Wt=[],en=Ot?[]:null,kt=rt.$vnode$=zt(te,null);Kn.$orgLocNodes$||Ue(Gr.body,Kn.$orgLocNodes$=new Map),q[it]=Ze,q.removeAttribute(it),ut(kt,Wt,[],en,q,q,Ze),Wt.map(rn=>{const In=rn.$hostId$+"."+rn.$nodeId$,Pn=Kn.$orgLocNodes$.get(In),or=rn.$elm$;Pn&&Re&&""===Pn["s-en"]&&Pn.parentNode.insertBefore(or,Pn.nextSibling),Ot||(or["s-hn"]=te,Pn&&(or["s-ol"]=Pn,or["s-ol"]["s-nr"]=or)),Kn.$orgLocNodes$.delete(In)}),Ot&&en.map(rn=>{rn&&Ot.appendChild(rn)})})(q,Ze.$tagName$,It,te)}It||12&Ze.$flags$&&Vt(q);{let Ot=q;for(;Ot=Ot.parentNode||Ot.host;)if(1===Ot.nodeType&&Ot.hasAttribute("s-id")&&Ot["s-p"]||Ot["s-p"]){Zn(te,te.$ancestorComponent$=Ot);break}}Ze.$members$&&Object.entries(Ze.$members$).map(([Ot,[Wt]])=>{if(31&Wt&&q.hasOwnProperty(Ot)){const un=q[Ot];delete q[Ot],q[Ot]=un}}),Mt(q,te,Ze)}rt()}})(this))}disconnectedCallback(){Kn.jmp(()=>Rn(this))}componentOnReady(){return Hn(this).$onReadyPromise$}};re.$lazyBundleId$=D[0],!Ot.includes(Ne)&&!Wt.get(Ne)&&(It.push(Ne),Wt.define(Ne,ct(Qt,re,1)))})}),It.length>0&&(ii&&(kt.innerHTML+=ot),kt.innerHTML+=It+"{visibility:hidden}.hydrated{visibility:inherit}",kt.innerHTML.length)){kt.setAttribute("data-styles","");const D=null!==(Ze=Kn.$nonce$)&&void 0!==Ze?Ze:ze(Gr);null!=D&&kt.setAttribute("nonce",D),un.insertBefore(kt,en?en.nextSibling:un.firstChild)}or=!1,rn.length?rn.map(D=>D.connectedCallback()):Kn.jmp(()=>Pn=setTimeout(Z,30))},Jn=(q,te,Ze,rt)=>{Ze&&Ze.map(([It,Ot,Wt])=>{const un=_t(q,It),en=gt(te,Wt),kt=Gt(It);Kn.ael(un,Ot,en,kt),(te.$rmListeners$=te.$rmListeners$||[]).push(()=>Kn.rel(un,Ot,en,kt))})},gt=(q,te)=>Ze=>{try{256&q.$flags$?q.$lazyInstance$[te](Ze):(q.$queuedListeners$=q.$queuedListeners$||[]).push([te,Ze])}catch(rt){Mr(rt)}},_t=(q,te)=>4&te?Gr:8&te?Ci:16&te?Gr.body:q,Gt=q=>xe?{passive:0!=(1&q),capture:0!=(2&q)}:0!=(2&q),ir=new WeakMap,Hn=q=>ir.get(q),er=(q,te)=>ir.set(te.$lazyInstance$=q,te),Br=(q,te)=>{const Ze={$flags$:0,$hostElement$:q,$cmpMeta$:te,$instanceValues$:new Map};return Ze.$onInstancePromise$=new Promise(rt=>Ze.$onInstanceResolve$=rt),Ze.$onReadyPromise$=new Promise(rt=>Ze.$onReadyResolve$=rt),q["s-p"]=[],q["s-rc"]=[],Jn(q,Ze,te.$listeners$),ir.set(q,Ze)},Ar=(q,te)=>te in q,Mr=(q,te)=>(0,console.error)(q,te),ki=new Map,so=(q,te,Ze)=>{const rt=q.$tagName$.replace(/-/g,"_"),It=q.$lazyBundleId$,Ot=ki.get(It);return Ot?Ot[rt]:O(1480)(`./${It}.entry.js`).then(Wt=>(ki.set(It,Wt),Wt[rt]),Mr)},hr=new Map,Bi=[],Ci=typeof window<"u"?window:{},Gr=Ci.document||{head:{}},Kn={$flags$:0,$resourcesUrl$:"",jmp:q=>q(),raf:q=>requestAnimationFrame(q),ael:(q,te,Ze,rt)=>q.addEventListener(te,Ze,rt),rel:(q,te,Ze,rt)=>q.removeEventListener(te,Ze,rt),ce:(q,te)=>new CustomEvent(q,te)},Eo=q=>{Object.assign(Kn,q)},Re=!0,xe=(()=>{let q=!1;try{Gr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){q=!0}}))}catch{}return q})(),Ce=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),pt=[],Yt=[],yn=(q,te)=>Ze=>{q.push(Ze),le||(le=!0,te&&4&Kn.$flags$?Qn(Vn):Kn.raf(Vn))},En=q=>{for(let te=0;te<q.length;te++)try{q[te](performance.now())}catch(Ze){Mr(Ze)}q.length=0},Vn=()=>{En(pt),En(Yt),(le=pt.length>0)&&Kn.raf(Vn)},Qn=q=>Promise.resolve(void 0).then(q),li=yn(pt,!1),Et=yn(Yt,!0)},2032:(fn,at,O)=>{"use strict";O.d(at,{a:()=>x,b:()=>K,p:()=>l});const l=(ie,...we)=>console.warn(`[Ionic Warning]: ${ie}`,...we),x=(ie,...we)=>console.error(`[Ionic Error]: ${ie}`,...we),K=(ie,...we)=>console.error(`<${ie.tagName.toLowerCase()}> must be used inside ${we.join(" or ")}.`)},4829:(fn,at,O)=>{"use strict";O.d(at,{d:()=>x,w:()=>l});const l=typeof window<"u"?window:void 0,x=typeof document<"u"?document:void 0},3452:(fn,at,O)=>{"use strict";O.d(at,{m:()=>je});var l=O(1528),x=O(4829),K=O(2784),ie=O(2032),we=O(6384),ce=O(8523),ae=O(388);const be=He=>(0,ae.c)().duration(He?400:300),Xe=He=>{let qe,ft;const Ye=He.width+8,Ve=(0,ae.c)(),Se=(0,ae.c)();He.isEndSide?(qe=Ye+"px",ft="0px"):(qe=-Ye+"px",ft="0px"),Ve.addElement(He.menuInnerEl).fromTo("transform",`translateX(${qe})`,`translateX(${ft})`);const We="ios"===(0,ce.b)(He),Ke=We?.2:.25;return Se.addElement(He.backdropEl).fromTo("opacity",.01,Ke),be(We).addAnimation([Ve,Se])},de=He=>{let qe,ft;const Ye=(0,ce.b)(He),Ve=He.width;He.isEndSide?(qe=-Ve+"px",ft=Ve+"px"):(qe=Ve+"px",ft=-Ve+"px");const Se=(0,ae.c)().addElement(He.menuInnerEl).fromTo("transform",`translateX(${ft})`,"translateX(0px)"),it=(0,ae.c)().addElement(He.contentEl).fromTo("transform","translateX(0px)",`translateX(${qe})`),We=(0,ae.c)().addElement(He.backdropEl).fromTo("opacity",.01,.32);return be("ios"===Ye).addAnimation([Se,it,We])},le=He=>{const qe=(0,ce.b)(He),ft=He.width*(He.isEndSide?-1:1)+"px",Ye=(0,ae.c)().addElement(He.contentEl).fromTo("transform","translateX(0px)",`translateX(${ft})`);return be("ios"===qe).addAnimation(Ye)},je=(()=>{const He=new Map,qe=[],ft=function(){var ve=(0,l.c)(function*(Me){const Oe=yield Qe(Me,!0);return!!Oe&&Oe.open()});return function(Oe){return ve.apply(this,arguments)}}(),Ye=function(){var ve=(0,l.c)(function*(Me){const Oe=yield void 0!==Me?Qe(Me,!0):ot();return void 0!==Oe&&Oe.close()});return function(Oe){return ve.apply(this,arguments)}}(),Ve=function(){var ve=(0,l.c)(function*(Me){const Oe=yield Qe(Me,!0);return!!Oe&&Oe.toggle()});return function(Oe){return ve.apply(this,arguments)}}(),Se=function(){var ve=(0,l.c)(function*(Me,Oe){const ut=yield Qe(Oe);return ut&&(ut.disabled=!Me),ut});return function(Oe,ut){return ve.apply(this,arguments)}}(),it=function(){var ve=(0,l.c)(function*(Me,Oe){const ut=yield Qe(Oe);return ut&&(ut.swipeGesture=Me),ut});return function(Oe,ut){return ve.apply(this,arguments)}}(),We=function(){var ve=(0,l.c)(function*(Me){if(null!=Me){const Oe=yield Qe(Me);return void 0!==Oe&&Oe.isOpen()}return void 0!==(yield ot())});return function(Oe){return ve.apply(this,arguments)}}(),Ke=function(){var ve=(0,l.c)(function*(Me){const Oe=yield Qe(Me);return!!Oe&&!Oe.disabled});return function(Oe){return ve.apply(this,arguments)}}(),Qe=function(){var ve=(0,l.c)(function*(Me,Oe=!1){if(yield Ee(),"start"===Me||"end"===Me){const Ue=qe.filter(on=>on.side===Me&&!on.disabled);if(Ue.length>=1)return Ue.length>1&&Oe&&(0,ie.p)(`menuController queried for a menu on the "${Me}" side, but ${Ue.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ue.map(on=>on.el)),Ue[0].el;const Zt=qe.filter(on=>on.side===Me);if(Zt.length>=1)return Zt.length>1&&Oe&&(0,ie.p)(`menuController queried for a menu on the "${Me}" side, but ${Zt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Zt.map(on=>on.el)),Zt[0].el}else if(null!=Me)return nt(Ue=>Ue.menuId===Me);return nt(Ue=>!Ue.disabled)||(qe.length>0?qe[0].el:void 0)});return function(Oe){return ve.apply(this,arguments)}}(),ot=function(){var ve=(0,l.c)(function*(){return yield Ee(),Ct()});return function(){return ve.apply(this,arguments)}}(),me=function(){var ve=(0,l.c)(function*(){return yield Ee(),zt()});return function(){return ve.apply(this,arguments)}}(),z=function(){var ve=(0,l.c)(function*(){return yield Ee(),Pt()});return function(){return ve.apply(this,arguments)}}(),$e=(ve,Me)=>{He.set(ve,Me)},Ae=function(){var ve=(0,l.c)(function*(Me,Oe,ut){if(Pt())return!1;if(Oe){const Ue=yield ot();Ue&&Me.el!==Ue&&(yield Ue.setOpen(!1,!1))}return Me._setOpen(Oe,ut)});return function(Oe,ut,Ue){return ve.apply(this,arguments)}}(),Ct=()=>nt(ve=>ve._isOpen),zt=()=>qe.map(ve=>ve.el),Pt=()=>qe.some(ve=>ve.isAnimating),nt=ve=>{const Me=qe.find(ve);if(void 0!==Me)return Me.el},Ee=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ve=>new Promise(Me=>(0,we.c)(ve,Me))));return $e("reveal",le),$e("push",de),$e("overlay",Xe),null==x.d||x.d.addEventListener("ionBackButton",ve=>{const Me=Ct();Me&&ve.detail.register(K.MENU_BACK_BUTTON_PRIORITY,()=>Me.close())}),{registerAnimation:$e,get:Qe,getMenus:me,getOpen:ot,isEnabled:Ke,swipeGesture:it,isAnimating:z,isOpen:We,enable:Se,toggle:Ve,close:Ye,open:ft,_getOpenSync:Ct,_createAnimation:(ve,Me)=>{const Oe=He.get(ve);if(!Oe)throw new Error("animation not registered");return Oe(Me)},_register:ve=>{qe.indexOf(ve)<0&&qe.push(ve)},_unregister:ve=>{const Me=qe.indexOf(ve);Me>-1&&qe.splice(Me,1)},_setOpen:Ae}})()},8523:(fn,at,O)=>{"use strict";O.d(at,{a:()=>le,b:()=>zt,c:()=>K,i:()=>Pt});var l=O(2992);class x{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,ve){const Me=this.m.get(Ee);return void 0!==Me?Me:ve}getBoolean(Ee,ve=!1){const Me=this.m.get(Ee);return void 0===Me?ve:"string"==typeof Me?"true"===Me:!!Me}getNumber(Ee,ve){const Me=parseFloat(this.m.get(Ee));return isNaN(Me)?void 0!==ve?ve:NaN:Me}set(Ee,ve){this.m.set(Ee,ve)}}const K=new x,Xe="ionic-persist-config",le=(nt,Ee)=>("string"==typeof nt&&(Ee=nt,nt=void 0),(nt=>Ge(nt))(nt).includes(Ee)),Ge=(nt=window)=>{if(typeof nt>"u")return[];nt.Ionic=nt.Ionic||{};let Ee=nt.Ionic.platforms;return null==Ee&&(Ee=nt.Ionic.platforms=je(nt),Ee.forEach(ve=>nt.document.documentElement.classList.add(`plt-${ve}`))),Ee},je=nt=>{const Ee=K.get("platform");return Object.keys(ze).filter(ve=>{const Me=null==Ee?void 0:Ee[ve];return"function"==typeof Me?Me(nt):ze[ve](nt)})},qe=nt=>!!(Le(nt,/iPad/i)||Le(nt,/Macintosh/i)&&Ke(nt)),Ve=nt=>Le(nt,/android|sink/i),Ke=nt=>Ae(nt,"(any-pointer:coarse)"),ot=nt=>me(nt)||z(nt),me=nt=>!!(nt.cordova||nt.phonegap||nt.PhoneGap),z=nt=>{const Ee=nt.Capacitor;return!(null==Ee||!Ee.isNative)},Le=(nt,Ee)=>Ee.test(nt.navigator.userAgent),Ae=(nt,Ee)=>{var ve;return null===(ve=nt.matchMedia)||void 0===ve?void 0:ve.call(nt,Ee).matches},ze={ipad:qe,iphone:nt=>Le(nt,/iPhone/i),ios:nt=>Le(nt,/iPhone|iPod/i)||qe(nt),android:Ve,phablet:nt=>{const Ee=nt.innerWidth,ve=nt.innerHeight,Me=Math.min(Ee,ve),Oe=Math.max(Ee,ve);return Me>390&&Me<520&&Oe>620&&Oe<800},tablet:nt=>{const Ee=nt.innerWidth,ve=nt.innerHeight,Me=Math.min(Ee,ve),Oe=Math.max(Ee,ve);return qe(nt)||(nt=>Ve(nt)&&!Le(nt,/mobile/i))(nt)||Me>460&&Me<820&&Oe>780&&Oe<1400},cordova:me,capacitor:z,electron:nt=>Le(nt,/electron/i),pwa:nt=>{var Ee;return!!(null!==(Ee=nt.matchMedia)&&void 0!==Ee&&Ee.call(nt,"(display-mode: standalone)").matches||nt.navigator.standalone)},mobile:Ke,mobileweb:nt=>Ke(nt)&&!ot(nt),desktop:nt=>!Ke(nt),hybrid:ot};let Ct;const zt=nt=>nt&&(0,l.g)(nt)||Ct,Pt=(nt={})=>{if(typeof window>"u")return;const Ee=window.document,ve=window,Me=ve.Ionic=ve.Ionic||{},Oe={};nt._ael&&(Oe.ael=nt._ael),nt._rel&&(Oe.rel=nt._rel),nt._ce&&(Oe.ce=nt._ce),(0,l.a)(Oe);const ut=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(nt=>{try{const Ee=nt.sessionStorage.getItem(Xe);return null!==Ee?JSON.parse(Ee):{}}catch{return{}}})(ve)),{persistConfig:!1}),Me.config),(nt=>{const Ee={};return nt.location.search.slice(1).split("&").map(ve=>ve.split("=")).map(([ve,Me])=>[decodeURIComponent(ve),decodeURIComponent(Me)]).filter(([ve])=>((nt,Ee)=>nt.substr(0,Ee.length)===Ee)(ve,"ionic:")).map(([ve,Me])=>[ve.slice(6),Me]).forEach(([ve,Me])=>{Ee[ve]=Me}),Ee})(ve)),nt);K.reset(ut),K.getBoolean("persistConfig")&&((nt,Ee)=>{try{nt.sessionStorage.setItem(Xe,JSON.stringify(Ee))}catch{return}})(ve,ut),Ge(ve),Me.config=K,Me.mode=Ct=K.get("mode",Ee.documentElement.getAttribute("mode")||(le(ve,"ios")?"ios":"md")),K.set("mode",Ct),Ee.documentElement.setAttribute("mode",Ct),Ee.documentElement.classList.add(Ct),K.getBoolean("_testing")&&K.set("animated",!1);const Ue=on=>{var Kt;return null===(Kt=on.tagName)||void 0===Kt?void 0:Kt.startsWith("ION-")},Zt=on=>["ios","md"].includes(on);(0,l.c)(on=>{for(;on;){const Kt=on.mode||on.getAttribute("mode");if(Kt){if(Zt(Kt))return Kt;Ue(on)&&console.warn('Invalid ionic mode: "'+Kt+'", expected: "ios" or "md"')}on=on.parentElement}return Ct})}},8512:(fn,at,O)=>{"use strict";O.r(at),O.d(at,{iosTransitionAnimation:()=>je,shadow:()=>ae});var l=O(388),x=O(6256);O(4829),O(2992);const ce=qe=>document.querySelector(`${qe}.ion-cloned-element`),ae=qe=>qe.shadowRoot||qe,be=qe=>{const ft="ION-TABS"===qe.tagName?qe:qe.querySelector("ion-tabs"),Ye="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ft){const Ve=ft.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ve?Ve.querySelector(Ye):null}return qe.querySelector(Ye)},Xe=(qe,ft)=>{const Ye="ION-TABS"===qe.tagName?qe:qe.querySelector("ion-tabs");let Ve=[];if(null!=Ye){const Se=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Se&&(Ve=Se.querySelectorAll("ion-buttons"))}else Ve=qe.querySelectorAll("ion-buttons");for(const Se of Ve){const it=Se.closest("ion-header"),We=it&&!it.classList.contains("header-collapse-condense-inactive"),Ke=Se.querySelector("ion-back-button"),Qe=Se.classList.contains("buttons-collapse");if(null!==Ke&&("start"===Se.slot||""===Se.slot)&&(Qe&&We&&ft||!Qe))return Ke}return null},le=(qe,ft,Ye,Ve,Se,it,We,Ke,Qe)=>{var ot,me;const z=ft?`calc(100% - ${Se.right+4}px)`:Se.left-4+"px",$e=ft?"right":"left",Be=ft?"left":"right",Le=ft?"right":"left",Ae=(null===(ot=it.textContent)||void 0===ot?void 0:ot.trim())===(null===(me=Ke.textContent)||void 0===me?void 0:me.trim()),Ct=(Qe.height-He)/We.height,zt=Ae?`scale(${Qe.width/We.width}, ${Ct})`:`scale(${Ct})`,Pt="scale(1)",Ee=ae(Ve).querySelector("ion-icon").getBoundingClientRect(),ve=ft?Ee.width/2-(Ee.right-Se.right)+"px":Se.left-Ee.width/2+"px",Me=ft?`-${window.innerWidth-Se.right}px`:`${Se.left}px`,Oe=`${Qe.top}px`,ut=`${Se.top}px`,on=Ye?[{offset:0,transform:`translate3d(${Me}, ${ut}, 0)`},{offset:1,transform:`translate3d(${ve}, ${Oe}, 0)`}]:[{offset:0,transform:`translate3d(${ve}, ${Oe}, 0)`},{offset:1,transform:`translate3d(${Me}, ${ut}, 0)`}],bn=Ye?[{offset:0,opacity:1,transform:Pt},{offset:1,opacity:0,transform:zt}]:[{offset:0,opacity:0,transform:zt},{offset:1,opacity:1,transform:Pt}],Ft=Ye?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Dt=(0,l.c)(),wt=(0,l.c)(),Ht=(0,l.c)(),hn=ce("ion-back-button"),qt=ae(hn).querySelector(".button-text"),mt=ae(hn).querySelector("ion-icon");hn.text=Ve.text,hn.mode=Ve.mode,hn.icon=Ve.icon,hn.color=Ve.color,hn.disabled=Ve.disabled,hn.style.setProperty("display","block"),hn.style.setProperty("position","fixed"),wt.addElement(mt),Dt.addElement(qt),Ht.addElement(hn),Ht.beforeStyles({position:"absolute",top:"0px",[Le]:"0px"}).keyframes(on),Dt.beforeStyles({"transform-origin":`${$e} top`}).beforeAddWrite(()=>{Ve.style.setProperty("display","none"),hn.style.setProperty($e,z)}).afterAddWrite(()=>{Ve.style.setProperty("display",""),hn.style.setProperty("display","none"),hn.style.removeProperty($e)}).keyframes(bn),wt.beforeStyles({"transform-origin":`${Be} center`}).keyframes(Ft),qe.addAnimation([Dt,wt,Ht])},Ge=(qe,ft,Ye,Ve,Se,it,We,Ke)=>{var Qe,ot;const me=ft?"right":"left",z=ft?`calc(100% - ${Se.right}px)`:`${Se.left}px`,Be=`${Se.top}px`,Ae=ft?`-${window.innerWidth-Ke.right-8}px`:Ke.x-8+"px",Ct=Ke.y-2+"px",zt=(null===(Qe=We.textContent)||void 0===Qe?void 0:Qe.trim())===(null===(ot=Ve.textContent)||void 0===ot?void 0:ot.trim()),nt=Ke.height/(it.height-He),Ee="scale(1)",ve=zt?`scale(${Ke.width/it.width}, ${nt})`:`scale(${nt})`,ut=Ye?[{offset:0,opacity:0,transform:`translate3d(${Ae}, ${Ct}, 0) ${ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Be}, 0) ${Ee}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Be}, 0) ${Ee}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ae}, ${Ct}, 0) ${ve}`}],Ue=ce("ion-title"),Zt=(0,l.c)();Ue.innerText=Ve.innerText,Ue.size=Ve.size,Ue.color=Ve.color,Zt.addElement(Ue),Zt.beforeStyles({"transform-origin":`${me} top`,height:`${Se.height}px`,display:"",position:"relative",[me]:z}).beforeAddWrite(()=>{Ve.style.setProperty("opacity","0")}).afterAddWrite(()=>{Ve.style.setProperty("opacity",""),Ue.style.setProperty("display","none")}).keyframes(ut),qe.addAnimation(Zt)},je=(qe,ft)=>{var Ye;try{const Ve="cubic-bezier(0.32,0.72,0,1)",Se="opacity",it="transform",We="0%",Qe="rtl"===qe.ownerDocument.dir,ot=Qe?"-99.5%":"99.5%",me=Qe?"33%":"-33%",z=ft.enteringEl,$e=ft.leavingEl,Be="back"===ft.direction,Le=z.querySelector(":scope > ion-content"),Ae=z.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ze=z.querySelectorAll(":scope > ion-header > ion-toolbar"),Ct=(0,l.c)(),zt=(0,l.c)();if(Ct.addElement(z).duration((null!==(Ye=ft.duration)&&void 0!==Ye?Ye:0)||540).easing(ft.easing||Ve).fill("both").beforeRemoveClass("ion-page-invisible"),$e&&null!=qe){const ve=(0,l.c)();ve.addElement(qe),Ct.addAnimation(ve)}if(Le||0!==ze.length||0!==Ae.length?(zt.addElement(Le),zt.addElement(Ae)):zt.addElement(z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ct.addAnimation(zt),Be?zt.beforeClearStyles([Se]).fromTo("transform",`translateX(${me})`,`translateX(${We})`).fromTo(Se,.8,1):zt.beforeClearStyles([Se]).fromTo("transform",`translateX(${ot})`,`translateX(${We})`),Le){const ve=ae(Le).querySelector(".transition-effect");if(ve){const Me=ve.querySelector(".transition-cover"),Oe=ve.querySelector(".transition-shadow"),ut=(0,l.c)(),Ue=(0,l.c)(),Zt=(0,l.c)();ut.addElement(ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ue.addElement(Me).beforeClearStyles([Se]).fromTo(Se,0,.1),Zt.addElement(Oe).beforeClearStyles([Se]).fromTo(Se,.03,.7),ut.addAnimation([Ue,Zt]),zt.addAnimation([ut])}}const Pt=z.querySelector("ion-header.header-collapse-condense"),{forward:nt,backward:Ee}=((qe,ft,Ye,Ve,Se)=>{const it=Xe(Ve,Ye),We=be(Se),Ke=be(Ve),Qe=Xe(Se,Ye),ot=null!==it&&null!==We&&!Ye,me=null!==Ke&&null!==Qe&&Ye;if(ot){const z=We.getBoundingClientRect(),$e=it.getBoundingClientRect(),Be=ae(it).querySelector(".button-text"),Le=Be.getBoundingClientRect(),ze=ae(We).querySelector(".toolbar-title").getBoundingClientRect();Ge(qe,ft,Ye,We,z,ze,Be,Le),le(qe,ft,Ye,it,$e,Be,Le,We,ze)}else if(me){const z=Ke.getBoundingClientRect(),$e=Qe.getBoundingClientRect(),Be=ae(Qe).querySelector(".button-text"),Le=Be.getBoundingClientRect(),ze=ae(Ke).querySelector(".toolbar-title").getBoundingClientRect();Ge(qe,ft,Ye,Ke,z,ze,Be,Le),le(qe,ft,Ye,Qe,$e,Be,Le,Ke,ze)}return{forward:ot,backward:me}})(Ct,Qe,Be,z,$e);if(ze.forEach(ve=>{const Me=(0,l.c)();Me.addElement(ve),Ct.addAnimation(Me);const Oe=(0,l.c)();Oe.addElement(ve.querySelector("ion-title"));const ut=(0,l.c)(),Ue=Array.from(ve.querySelectorAll("ion-buttons,[menuToggle]")),Zt=ve.closest("ion-header"),on=null==Zt?void 0:Zt.classList.contains("header-collapse-condense-inactive");let Kt;Kt=Ue.filter(Be?Ft=>{const Dt=Ft.classList.contains("buttons-collapse");return Dt&&!on||!Dt}:Ft=>!Ft.classList.contains("buttons-collapse")),ut.addElement(Kt);const Bt=(0,l.c)();Bt.addElement(ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const bn=(0,l.c)();bn.addElement(ae(ve).querySelector(".toolbar-background"));const tr=(0,l.c)(),qn=ve.querySelector("ion-back-button");if(qn&&tr.addElement(qn),Me.addAnimation([Oe,ut,Bt,bn,tr]),ut.fromTo(Se,.01,1),Bt.fromTo(Se,.01,1),Be)on||Oe.fromTo("transform",`translateX(${me})`,`translateX(${We})`).fromTo(Se,.01,1),Bt.fromTo("transform",`translateX(${me})`,`translateX(${We})`),tr.fromTo(Se,.01,1);else if(Pt||Oe.fromTo("transform",`translateX(${ot})`,`translateX(${We})`).fromTo(Se,.01,1),Bt.fromTo("transform",`translateX(${ot})`,`translateX(${We})`),bn.beforeClearStyles([Se,"transform"]),(null==Zt?void 0:Zt.translucent)?bn.fromTo("transform",Qe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):bn.fromTo(Se,.01,"var(--opacity)"),nt||tr.fromTo(Se,.01,1),qn&&!nt){const Dt=(0,l.c)();Dt.addElement(ae(qn).querySelector(".button-text")).fromTo("transform",Qe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Me.addAnimation(Dt)}}),$e){const ve=(0,l.c)(),Me=$e.querySelector(":scope > ion-content"),Oe=$e.querySelectorAll(":scope > ion-header > ion-toolbar"),ut=$e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Me||0!==Oe.length||0!==ut.length?(ve.addElement(Me),ve.addElement(ut)):ve.addElement($e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ct.addAnimation(ve),Be){ve.beforeClearStyles([Se]).fromTo("transform",`translateX(${We})`,Qe?"translateX(-100%)":"translateX(100%)");const Ue=(0,x.g)($e);Ct.afterAddWrite(()=>{"normal"===Ct.getDirection()&&Ue.style.setProperty("display","none")})}else ve.fromTo("transform",`translateX(${We})`,`translateX(${me})`).fromTo(Se,1,.8);if(Me){const Ue=ae(Me).querySelector(".transition-effect");if(Ue){const Zt=Ue.querySelector(".transition-cover"),on=Ue.querySelector(".transition-shadow"),Kt=(0,l.c)(),Bt=(0,l.c)(),bn=(0,l.c)();Kt.addElement(Ue).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bt.addElement(Zt).beforeClearStyles([Se]).fromTo(Se,.1,0),bn.addElement(on).beforeClearStyles([Se]).fromTo(Se,.7,.03),Kt.addAnimation([Bt,bn]),ve.addAnimation([Kt])}}Oe.forEach(Ue=>{const Zt=(0,l.c)();Zt.addElement(Ue);const on=(0,l.c)();on.addElement(Ue.querySelector("ion-title"));const Kt=(0,l.c)(),Bt=Ue.querySelectorAll("ion-buttons,[menuToggle]"),bn=Ue.closest("ion-header"),tr=null==bn?void 0:bn.classList.contains("header-collapse-condense-inactive"),qn=Array.from(Bt).filter(qt=>{const mt=qt.classList.contains("buttons-collapse");return mt&&!tr||!mt});Kt.addElement(qn);const Ft=(0,l.c)(),Dt=Ue.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Dt.length>0&&Ft.addElement(Dt);const wt=(0,l.c)();wt.addElement(ae(Ue).querySelector(".toolbar-background"));const Ht=(0,l.c)(),hn=Ue.querySelector("ion-back-button");if(hn&&Ht.addElement(hn),Zt.addAnimation([on,Kt,Ft,Ht,wt]),Ct.addAnimation(Zt),Ht.fromTo(Se,.99,0),Kt.fromTo(Se,.99,0),Ft.fromTo(Se,.99,0),Be){if(tr||on.fromTo("transform",`translateX(${We})`,Qe?"translateX(-100%)":"translateX(100%)").fromTo(Se,.99,0),Ft.fromTo("transform",`translateX(${We})`,Qe?"translateX(-100%)":"translateX(100%)"),wt.beforeClearStyles([Se,"transform"]),(null==bn?void 0:bn.translucent)?wt.fromTo("transform","translateX(0px)",Qe?"translateX(-100%)":"translateX(100%)"):wt.fromTo(Se,"var(--opacity)",0),hn&&!Ee){const mt=(0,l.c)();mt.addElement(ae(hn).querySelector(".button-text")).fromTo("transform",`translateX(${We})`,`translateX(${(Qe?-124:124)+"px"})`),Zt.addAnimation(mt)}}else tr||on.fromTo("transform",`translateX(${We})`,`translateX(${me})`).fromTo(Se,.99,0).afterClearStyles([it,Se]),Ft.fromTo("transform",`translateX(${We})`,`translateX(${me})`).afterClearStyles([it,Se]),Ht.afterClearStyles([Se]),on.afterClearStyles([Se]),Kt.afterClearStyles([Se])})}return Ct}catch(Ve){throw Ve}},He=10},6556:(fn,at,O)=>{"use strict";O.r(at),O.d(at,{mdTransitionAnimation:()=>we});var l=O(388),x=O(6256);O(4829),O(2992);const we=(ce,ae)=>{var be,Xe,de;const je="back"===ae.direction,qe=ae.leavingEl,ft=(0,x.g)(ae.enteringEl),Ye=ft.querySelector("ion-toolbar"),Ve=(0,l.c)();if(Ve.addElement(ft).fill("both").beforeRemoveClass("ion-page-invisible"),je?Ve.duration((null!==(be=ae.duration)&&void 0!==be?be:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ve.duration((null!==(Xe=ae.duration)&&void 0!==Xe?Xe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ye){const Se=(0,l.c)();Se.addElement(Ye),Ve.addAnimation(Se)}if(qe&&je){Ve.duration((null!==(de=ae.duration)&&void 0!==de?de:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Se=(0,l.c)();Se.addElement((0,x.g)(qe)).onFinish(it=>{1===it&&Se.elements.length>0&&Se.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ve.addAnimation(Se)}return Ve}},3816:(fn,at,O)=>{"use strict";O.d(at,{B:()=>Kt,G:()=>Bt,O:()=>bn,a:()=>Ge,b:()=>je,c:()=>Ye,d:()=>tr,e:()=>qn,f:()=>Pt,g:()=>Ee,h:()=>Oe,i:()=>Ue,j:()=>Se,k:()=>it,l:()=>He,m:()=>qe,n:()=>ot,o:()=>Ct,s:()=>on,t:()=>Ve});var l=O(1528),x=O(4829),K=O(2784),ie=O(8523),we=O(495),ce=O(6384),ae=O(2032);let be=0,Xe=0;const de=new WeakMap,le=Ft=>({create:Dt=>We(Ft,Dt),dismiss:(Dt,wt,Ht)=>Le(document,Dt,wt,Ft,Ht),getTop:()=>(0,l.c)(function*(){return Ct(document,Ft)})()}),Ge=le("ion-alert"),je=le("ion-action-sheet"),He=le("ion-loading"),qe=le("ion-modal"),Ye=le("ion-popover"),Ve=le("ion-toast"),Se=Ft=>{typeof document<"u"&&Be(document);const Dt=be++;Ft.overlayIndex=Dt},it=Ft=>(Ft.hasAttribute("id")||(Ft.id="ion-overlay-"+ ++Xe),Ft.id),We=(Ft,Dt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ft).then(()=>{const wt=document.createElement(Ft);return wt.classList.add("overlay-hidden"),Object.assign(wt,Object.assign(Object.assign({},Dt),{hasController:!0})),ve(document).appendChild(wt),new Promise(Ht=>(0,ce.c)(wt,Ht))}):Promise.resolve(),Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ot=(Ft,Dt)=>{const wt=Ft.querySelector(Ke);z(wt,Dt)},me=(Ft,Dt)=>{const wt=Array.from(Ft.querySelectorAll(Ke));z(wt.length>0?wt[wt.length-1]:null,Dt)},z=(Ft,Dt)=>{let wt=Ft;const Ht=null==Ft?void 0:Ft.shadowRoot;Ht&&(wt=Ht.querySelector(Ke)||Ft),wt?(0,ce.f)(wt):Dt.focus()},Be=Ft=>{0===be&&(be=1,Ft.addEventListener("focus",Dt=>{((Ft,Dt)=>{const wt=Ct(Dt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ht=Ft.target;wt&&Ht&&!wt.classList.contains("ion-disable-focus-trap")&&(wt.shadowRoot?(()=>{if(wt.contains(Ht))wt.lastFocus=Ht;else if("ION-TOAST"===Ht.tagName)z(wt.lastFocus,wt);else{const mt=wt.lastFocus;ot(wt,wt),mt===Dt.activeElement&&me(wt,wt),wt.lastFocus=Dt.activeElement}})():(()=>{if(wt===Ht)wt.lastFocus=void 0;else if("ION-TOAST"===Ht.tagName)z(wt.lastFocus,wt);else{const mt=(0,ce.g)(wt);if(!mt.contains(Ht))return;const wn=mt.querySelector(".ion-overlay-wrapper");if(!wn)return;if(wn.contains(Ht)||Ht===mt.querySelector("ion-backdrop"))wt.lastFocus=Ht;else{const kn=wt.lastFocus;ot(wn,wt),kn===Dt.activeElement&&me(wn,wt),wt.lastFocus=Dt.activeElement}}})())})(Dt,Ft)},!0),Ft.addEventListener("ionBackButton",Dt=>{const wt=Ct(Ft);null!=wt&&wt.backdropDismiss&&Dt.detail.register(K.OVERLAY_BACK_BUTTON_PRIORITY,()=>{wt.dismiss(void 0,Kt)})}),(0,K.shoudUseCloseWatcher)()||Ft.addEventListener("keydown",Dt=>{if("Escape"===Dt.key){const wt=Ct(Ft);null!=wt&&wt.backdropDismiss&&wt.dismiss(void 0,Kt)}}))},Le=(Ft,Dt,wt,Ht,hn)=>{const qt=Ct(Ft,Ht,hn);return qt?qt.dismiss(Dt,wt):Promise.reject("overlay does not exist")},ze=(Ft,Dt)=>((Ft,Dt)=>(void 0===Dt&&(Dt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ft.querySelectorAll(Dt)).filter(wt=>wt.overlayIndex>0)))(Ft,Dt).filter(wt=>!(Ft=>Ft.classList.contains("overlay-hidden"))(wt)),Ct=(Ft,Dt,wt)=>{const Ht=ze(Ft,Dt);return void 0===wt?Ht[Ht.length-1]:Ht.find(hn=>hn.id===wt)},zt=(Ft=!1)=>{const wt=ve(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");wt&&(Ft?wt.setAttribute("aria-hidden","true"):wt.removeAttribute("aria-hidden"))},Pt=function(){var Ft=(0,l.c)(function*(Dt,wt,Ht,hn,qt){var mt,wn;if(Dt.presented)return;zt(!0),void 0!==x.d&&ze(x.d).forEach(An=>An.setAttribute("aria-hidden","true")),Dt.presented=!0,Dt.willPresent.emit(),null===(mt=Dt.willPresentShorthand)||void 0===mt||mt.emit();const kn=(0,ie.b)(Dt),pr=Dt.enterAnimation?Dt.enterAnimation:ie.c.get(wt,"ios"===kn?Ht:hn);(yield Me(Dt,pr,Dt.el,qt))&&(Dt.didPresent.emit(),null===(wn=Dt.didPresentShorthand)||void 0===wn||wn.emit()),"ION-TOAST"!==Dt.el.tagName&&nt(Dt.el),Dt.keyboardClose&&(null===document.activeElement||!Dt.el.contains(document.activeElement))&&Dt.el.focus(),Dt.el.removeAttribute("aria-hidden")});return function(wt,Ht,hn,qt,mt){return Ft.apply(this,arguments)}}(),nt=function(){var Ft=(0,l.c)(function*(Dt){let wt=document.activeElement;if(!wt)return;const Ht=null==wt?void 0:wt.shadowRoot;Ht&&(wt=Ht.querySelector(Ke)||wt),yield Dt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&wt.focus()});return function(wt){return Ft.apply(this,arguments)}}(),Ee=function(){var Ft=(0,l.c)(function*(Dt,wt,Ht,hn,qt,mt,wn){var kn,pr,mr;if(!Dt.presented)return!1;void 0!==x.d&&1===ze(x.d).length&&zt(!1),Dt.presented=!1;try{Dt.el.style.setProperty("pointer-events","none"),Dt.willDismiss.emit({data:wt,role:Ht}),null===(kn=Dt.willDismissShorthand)||void 0===kn||kn.emit({data:wt,role:Ht});const lr=(0,ie.b)(Dt),An=Dt.leaveAnimation?Dt.leaveAnimation:ie.c.get(hn,"ios"===lr?qt:mt);Ht!==Bt&&(yield Me(Dt,An,Dt.el,wn)),Dt.didDismiss.emit({data:wt,role:Ht}),null===(pr=Dt.didDismissShorthand)||void 0===pr||pr.emit({data:wt,role:Ht}),(de.get(Dt)||[]).forEach(vr=>vr.destroy()),de.delete(Dt),Dt.el.classList.add("overlay-hidden"),Dt.el.style.removeProperty("pointer-events"),void 0!==Dt.el.lastFocus&&(Dt.el.lastFocus=void 0)}catch(lr){console.error(lr)}return Dt.el.remove(),void 0!==x.d&&(null===(mr=Ct(x.d))||void 0===mr||mr.removeAttribute("aria-hidden")),!0});return function(wt,Ht,hn,qt,mt,wn,kn){return Ft.apply(this,arguments)}}(),ve=Ft=>Ft.querySelector("ion-app")||Ft.body,Me=function(){var Ft=(0,l.c)(function*(Dt,wt,Ht,hn){Ht.classList.remove("overlay-hidden");const mt=wt(Dt.el,hn);(!Dt.animated||!ie.c.getBoolean("animated",!0))&&mt.duration(0),Dt.keyboardClose&&mt.beforeAddWrite(()=>{const kn=Ht.ownerDocument.activeElement;null!=kn&&kn.matches("input,ion-input, ion-textarea")&&kn.blur()});const wn=de.get(Dt)||[];return de.set(Dt,[...wn,mt]),yield mt.play(),!0});return function(wt,Ht,hn,qt){return Ft.apply(this,arguments)}}(),Oe=(Ft,Dt)=>{let wt;const Ht=new Promise(hn=>wt=hn);return ut(Ft,Dt,hn=>{wt(hn.detail)}),Ht},ut=(Ft,Dt,wt)=>{const Ht=hn=>{(0,ce.b)(Ft,Dt,Ht),wt(hn)};(0,ce.a)(Ft,Dt,Ht)},Ue=Ft=>"cancel"===Ft||Ft===Kt,Zt=Ft=>Ft(),on=(Ft,Dt)=>{if("function"==typeof Ft)return ie.c.get("_zoneGate",Zt)(()=>{try{return Ft(Dt)}catch(Ht){throw Ht}})},Kt="backdrop",Bt="gesture",bn=39,tr=Ft=>{let wt,Dt=!1;const Ht=(0,we.C)(),hn=(wn=!1)=>{if(wt&&!wn)return{delegate:wt,inline:Dt};const{el:kn,hasController:pr,delegate:mr}=Ft;return Dt=null!==kn.parentNode&&!pr,wt=Dt?mr||Ht:mr,{inline:Dt,delegate:wt}};return{attachViewToDom:function(){var wn=(0,l.c)(function*(kn){const{delegate:pr}=hn(!0);if(pr)return yield pr.attachViewToDom(Ft.el,kn);const{hasController:mr}=Ft;if(mr&&void 0!==kn)throw new Error("framework delegate is missing");return null});return function(pr){return wn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:wn}=hn();wn&&void 0!==Ft.el&&wn.removeViewFromDom(Ft.el.parentElement,Ft.el)}}},qn=()=>{let Ft;const Dt=()=>{Ft&&(Ft(),Ft=void 0)};return{addClickListener:(Ht,hn)=>{Dt();const qt=void 0!==hn?document.getElementById(hn):null;qt?Ft=((wn,kn)=>{const pr=()=>{kn.present()};return wn.addEventListener("click",pr),()=>{wn.removeEventListener("click",pr)}})(qt,Ht):(0,ae.p)(`A trigger element with the ID "${hn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ht)},removeClickListener:Dt}}},8637:(fn,at,O)=>{"use strict";O.d(at,{H:()=>Ve,b:()=>mr,c:()=>Ke,f:()=>Ft,g:()=>We,h:()=>ft,p:()=>wr,r:()=>Ir});var l=O(1528);let K,ie,we=!1,ce=!1;const de={},He=R=>"object"==(R=typeof R)||"function"===R;function qe(R){var F,pe,Pe;return null!==(Pe=null===(pe=null===(F=R.head)||void 0===F?void 0:F.querySelector('meta[name="csp-nonce"]'))||void 0===pe?void 0:pe.getAttribute("content"))&&void 0!==Pe?Pe:void 0}const ft=(R,F,...pe)=>{let Pe=null,ct=!1,Mt=!1;const xt=[],tn=dn=>{for(let Rn=0;Rn<dn.length;Rn++)Pe=dn[Rn],Array.isArray(Pe)?tn(Pe):null!=Pe&&"boolean"!=typeof Pe&&((ct="function"!=typeof R&&!He(Pe))&&(Pe=String(Pe)),ct&&Mt?xt[xt.length-1].$text$+=Pe:xt.push(ct?Ye(null,Pe):Pe),Mt=ct)};if(tn(pe),F){const dn=F.className||F.class;dn&&(F.class="object"!=typeof dn?dn:Object.keys(dn).filter(Rn=>dn[Rn]).join(" "))}const Vt=Ye(R,null);return Vt.$attrs$=F,xt.length>0&&(Vt.$children$=xt),Vt},Ye=(R,F)=>({$flags$:0,$tag$:R,$text$:F,$elm$:null,$children$:null,$attrs$:null}),Ve={},We=R=>Cn(R).$hostElement$,Ke=(R,F,pe)=>{const Pe=We(R);return{emit:ct=>Qe(Pe,F,{bubbles:!!(4&pe),composed:!!(2&pe),cancelable:!!(1&pe),detail:ct})}},Qe=(R,F,pe)=>{const Pe=Zn.ce(F,pe);return R.dispatchEvent(Pe),Pe},ot=new WeakMap,Be=(R,F)=>"sc-"+R.$tagName$,Le=(R,F,pe,Pe,ct,Mt)=>{if(pe!==Pe){let xt=Sn(R,F),tn=F.toLowerCase();if("class"===F){const Vt=R.classList,dn=ze(pe),Rn=ze(Pe);Vt.remove(...dn.filter(Gn=>Gn&&!Rn.includes(Gn))),Vt.add(...Rn.filter(Gn=>Gn&&!dn.includes(Gn)))}else if("style"===F){for(const Vt in pe)(!Pe||null==Pe[Vt])&&(Vt.includes("-")?R.style.removeProperty(Vt):R.style[Vt]="");for(const Vt in Pe)(!pe||Pe[Vt]!==pe[Vt])&&(Vt.includes("-")?R.style.setProperty(Vt,Pe[Vt]):R.style[Vt]=Pe[Vt])}else if("ref"===F)Pe&&Pe(R);else if(xt||"o"!==F[0]||"n"!==F[1]){const Vt=He(Pe);if((xt||Vt&&null!==Pe)&&!ct)try{if(R.tagName.includes("-"))R[F]=Pe;else{const dn=null==Pe?"":Pe;"list"===F?xt=!1:(null==pe||R[F]!=dn)&&(R[F]=dn)}}catch{}null==Pe||!1===Pe?(!1!==Pe||""===R.getAttribute(F))&&R.removeAttribute(F):(!xt||4&Mt||ct)&&!Vt&&R.setAttribute(F,Pe=!0===Pe?"":Pe)}else F="-"===F[2]?F.slice(3):Sn(Dr,tn)?tn.slice(2):tn[2]+F.slice(3),pe&&Zn.rel(R,F,pe,!1),Pe&&Zn.ael(R,F,Pe,!1)}},Ae=/\s/,ze=R=>R?R.split(Ae):[],Ct=(R,F,pe,Pe)=>{const ct=11===F.$elm$.nodeType&&F.$elm$.host?F.$elm$.host:F.$elm$,Mt=R&&R.$attrs$||de,xt=F.$attrs$||de;for(Pe in Mt)Pe in xt||Le(ct,Pe,Mt[Pe],void 0,pe,F.$flags$);for(Pe in xt)Le(ct,Pe,Mt[Pe],xt[Pe],pe,F.$flags$)},zt=(R,F,pe,Pe)=>{const ct=F.$children$[pe];let xt,tn,Mt=0;if(null!==ct.$text$)xt=ct.$elm$=Bn.createTextNode(ct.$text$);else{if(we||(we="svg"===ct.$tag$),xt=ct.$elm$=Bn.createElementNS(we?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ct.$tag$),we&&"foreignObject"===ct.$tag$&&(we=!1),Ct(null,ct,we),(R=>null!=R)(K)&&xt["s-si"]!==K&&xt.classList.add(xt["s-si"]=K),ct.$children$)for(Mt=0;Mt<ct.$children$.length;++Mt)tn=zt(R,ct,Mt),tn&&xt.appendChild(tn);"svg"===ct.$tag$?we=!1:"foreignObject"===xt.tagName&&(we=!0)}return xt},Pt=(R,F,pe,Pe,ct,Mt)=>{let tn,xt=R;for(xt.shadowRoot&&xt.tagName===ie&&(xt=xt.shadowRoot);ct<=Mt;++ct)Pe[ct]&&(tn=zt(null,pe,ct),tn&&(Pe[ct].$elm$=tn,xt.insertBefore(tn,F)))},nt=(R,F,pe)=>{for(let Pe=F;Pe<=pe;++Pe){const ct=R[Pe];if(ct){const Mt=ct.$elm$;Oe(ct),Mt&&Mt.remove()}}},ve=(R,F)=>R.$tag$===F.$tag$,Me=(R,F)=>{const pe=F.$elm$=R.$elm$,Pe=R.$children$,ct=F.$children$,Mt=F.$tag$,xt=F.$text$;null===xt?(we="svg"===Mt||"foreignObject"!==Mt&&we,Ct(R,F,we),null!==Pe&&null!==ct?((R,F,pe,Pe)=>{let Jn,ct=0,Mt=0,xt=F.length-1,tn=F[0],Vt=F[xt],dn=Pe.length-1,Rn=Pe[0],Gn=Pe[dn];for(;ct<=xt&&Mt<=dn;)null==tn?tn=F[++ct]:null==Vt?Vt=F[--xt]:null==Rn?Rn=Pe[++Mt]:null==Gn?Gn=Pe[--dn]:ve(tn,Rn)?(Me(tn,Rn),tn=F[++ct],Rn=Pe[++Mt]):ve(Vt,Gn)?(Me(Vt,Gn),Vt=F[--xt],Gn=Pe[--dn]):ve(tn,Gn)?(Me(tn,Gn),R.insertBefore(tn.$elm$,Vt.$elm$.nextSibling),tn=F[++ct],Gn=Pe[--dn]):ve(Vt,Rn)?(Me(Vt,Rn),R.insertBefore(Vt.$elm$,tn.$elm$),Vt=F[--xt],Rn=Pe[++Mt]):(Jn=zt(F&&F[Mt],pe,Mt),Rn=Pe[++Mt],Jn&&tn.$elm$.parentNode.insertBefore(Jn,tn.$elm$));ct>xt?Pt(R,null==Pe[dn+1]?null:Pe[dn+1].$elm$,pe,Pe,Mt,dn):Mt>dn&&nt(F,ct,xt)})(pe,Pe,F,ct):null!==ct?(null!==R.$text$&&(pe.textContent=""),Pt(pe,null,F,ct,0,ct.length-1)):null!==Pe&&nt(Pe,0,Pe.length-1),we&&"svg"===Mt&&(we=!1)):R.$text$!==xt&&(pe.data=xt)},Oe=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(Oe)},Ue=(R,F)=>{F&&!R.$onRenderResolve$&&F["s-p"]&&F["s-p"].push(new Promise(pe=>R.$onRenderResolve$=pe))},Zt=(R,F)=>{if(R.$flags$|=16,!(4&R.$flags$))return Ue(R,R.$ancestorComponent$),Z(()=>on(R,F));R.$flags$|=512},on=(R,F)=>{const Pe=R.$lazyInstance$;return F&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([Mt,xt])=>wt(Pe,Mt,xt)),R.$queuedListeners$=void 0)),Kt(void 0,()=>bn(R,Pe,F))},Kt=(R,F)=>Bt(R)?R.then(F):F(),Bt=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,bn=function(){var R=(0,l.c)(function*(F,pe,Pe){var ct;const Mt=F.$hostElement$,tn=Mt["s-rc"];Pe&&(R=>{const F=R.$cmpMeta$,pe=R.$hostElement$,Pe=F.$flags$,Mt=((R,F,pe,Pe)=>{var ct;let Mt=Be(F);const xt=ai.get(Mt);if(R=11===R.nodeType?R:Bn,xt)if("string"==typeof xt){let Vt,tn=ot.get(R=R.head||R);if(tn||ot.set(R,tn=new Set),!tn.has(Mt)){{Vt=Bn.createElement("style"),Vt.innerHTML=xt;const dn=null!==(ct=Zn.$nonce$)&&void 0!==ct?ct:qe(Bn);null!=dn&&Vt.setAttribute("nonce",dn),R.insertBefore(Vt,R.querySelector("link"))}tn&&tn.add(Mt)}}else R.adoptedStyleSheets.includes(xt)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,xt]);return Mt})(pe.shadowRoot?pe.shadowRoot:pe.getRootNode(),F);10&Pe&&(pe["s-sc"]=Mt,pe.classList.add(Mt+"-h"))})(F);tr(F,pe),tn&&(tn.map(dn=>dn()),Mt["s-rc"]=void 0);{const dn=null!==(ct=Mt["s-p"])&&void 0!==ct?ct:[],Rn=()=>qn(F);0===dn.length?Rn():(Promise.all(dn).then(Rn),F.$flags$|=4,dn.length=0)}});return function(pe,Pe,ct){return R.apply(this,arguments)}}(),tr=(R,F,pe)=>{try{F=F.render(),R.$flags$&=-17,R.$flags$|=2,((R,F)=>{const pe=R.$hostElement$,Pe=R.$vnode$||Ye(null,null),ct=(R=>R&&R.$tag$===Ve)(F)?F:ft(null,null,F);ie=pe.tagName,ct.$tag$=null,ct.$flags$|=4,R.$vnode$=ct,ct.$elm$=Pe.$elm$=pe.shadowRoot||pe,K=pe["s-sc"],Me(Pe,ct)})(R,F)}catch(Pe){Un(Pe,R.$hostElement$)}return null},qn=R=>{const pe=R.$hostElement$,ct=R.$lazyInstance$,Mt=R.$ancestorComponent$;64&R.$flags$||(R.$flags$|=64,Ht(pe),wt(ct,"componentDidLoad"),R.$onReadyResolve$(pe),Mt||Dt()),R.$onInstanceResolve$(pe),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&he(()=>Zt(R,!1)),R.$flags$&=-517},Ft=R=>{{const F=Cn(R),pe=F.$hostElement$.isConnected;return pe&&2==(18&F.$flags$)&&Zt(F,!1),pe}},Dt=R=>{Ht(Bn.documentElement),he(()=>Qe(Dr,"appload",{detail:{namespace:"ionicpwaelements"}}))},wt=(R,F,pe)=>{if(R&&R[F])try{return R[F](pe)}catch(Pe){Un(Pe)}},Ht=R=>R.classList.add("hydrated"),mt=(R,F,pe)=>{if(F.$members$){const Pe=Object.entries(F.$members$),ct=R.prototype;if(Pe.map(([Mt,[xt]])=>{31&xt||2&pe&&32&xt?Object.defineProperty(ct,Mt,{get(){return((R,F)=>Cn(this).$instanceValues$.get(F))(0,Mt)},set(tn){((R,F,pe,Pe)=>{const ct=Cn(R),Mt=ct.$instanceValues$.get(F),xt=ct.$flags$,tn=ct.$lazyInstance$;pe=((R,F)=>null==R||He(R)?R:4&F?"false"!==R&&(""===R||!!R):2&F?parseFloat(R):1&F?String(R):R)(pe,Pe.$members$[F][0]);const Vt=Number.isNaN(Mt)&&Number.isNaN(pe);(!(8&xt)||void 0===Mt)&&pe!==Mt&&!Vt&&(ct.$instanceValues$.set(F,pe),tn&&2==(18&xt)&&Zt(ct,!1))})(this,Mt,tn,F)},configurable:!0,enumerable:!0}):1&pe&&64&xt&&Object.defineProperty(ct,Mt,{value(...tn){const Vt=Cn(this);return Vt.$onInstancePromise$.then(()=>Vt.$lazyInstance$[Mt](...tn))}})}),1&pe){const Mt=new Map;ct.attributeChangedCallback=function(xt,tn,Vt){Zn.jmp(()=>{const dn=Mt.get(xt);if(this.hasOwnProperty(dn))Vt=this[dn],delete this[dn];else if(ct.hasOwnProperty(dn)&&"number"==typeof this[dn]&&this[dn]==Vt)return;this[dn]=(null!==Vt||"boolean"!=typeof this[dn])&&Vt})},R.observedAttributes=Pe.filter(([xt,tn])=>15&tn[0]).map(([xt,tn])=>{const Vt=tn[1]||xt;return Mt.set(Vt,xt),Vt})}}return R},wn=function(){var R=(0,l.c)(function*(F,pe,Pe,ct,Mt){if(!(32&pe.$flags$)){pe.$flags$|=32;{if((Mt=sr(Pe)).then){const dn=()=>{};Mt=yield Mt,dn()}Mt.isProxied||(mt(Mt,Pe,2),Mt.isProxied=!0);const Vt=()=>{};pe.$flags$|=8;try{new Mt(pe)}catch(dn){Un(dn)}pe.$flags$&=-9,Vt()}if(Mt.style){let Vt=Mt.style;const dn=Be(Pe);if(!ai.has(dn)){const Rn=()=>{};((R,F,pe)=>{let Pe=ai.get(R);Ei&&pe?(Pe=Pe||new CSSStyleSheet,"string"==typeof Pe?Pe=F:Pe.replaceSync(F)):Pe=F,ai.set(R,Pe)})(dn,Vt,!!(1&Pe.$flags$)),Rn()}}}const xt=pe.$ancestorComponent$,tn=()=>Zt(pe,!0);xt&&xt["s-rc"]?xt["s-rc"].push(tn):tn()});return function(pe,Pe,ct,Mt,xt){return R.apply(this,arguments)}}(),mr=(R,F={})=>{var pe;const ct=[],Mt=F.exclude||[],xt=Dr.customElements,tn=Bn.head,Vt=tn.querySelector("meta[charset]"),dn=Bn.createElement("style"),Rn=[];let Gn,Jn=!0;Object.assign(Zn,F),Zn.$resourcesUrl$=new URL(F.resourcesUrl||"./",Bn.baseURI).href,R.map(gt=>{gt[1].map(_t=>{const Gt={$flags$:_t[0],$tagName$:_t[1],$members$:_t[2],$listeners$:_t[3]};Gt.$members$=_t[2],Gt.$listeners$=_t[3];const _n=Gt.$tagName$,ir=class extends HTMLElement{constructor(Hn){super(Hn),Fn(Hn=this,Gt),1&Gt.$flags$&&Hn.attachShadow({mode:"open"})}connectedCallback(){Gn&&(clearTimeout(Gn),Gn=null),Jn?Rn.push(this):Zn.jmp(()=>(R=>{if(!(1&Zn.$flags$)){const F=Cn(R),pe=F.$cmpMeta$,Pe=()=>{};if(1&F.$flags$)lr(R,F,pe.$listeners$);else{F.$flags$|=1;{let ct=R;for(;ct=ct.parentNode||ct.host;)if(ct["s-p"]){Ue(F,F.$ancestorComponent$=ct);break}}pe.$members$&&Object.entries(pe.$members$).map(([ct,[Mt]])=>{if(31&Mt&&R.hasOwnProperty(ct)){const xt=R[ct];delete R[ct],R[ct]=xt}}),wn(R,F,pe)}Pe()}})(this))}disconnectedCallback(){Zn.jmp(()=>(R=>{if(!(1&Zn.$flags$)){const F=Cn(this),pe=F.$lazyInstance$;F.$rmListeners$&&(F.$rmListeners$.map(Pe=>Pe()),F.$rmListeners$=void 0),wt(pe,"disconnectedCallback")}})())}componentOnReady(){return Cn(this).$onReadyPromise$}};Gt.$lazyBundleId$=gt[0],!Mt.includes(_n)&&!xt.get(_n)&&(ct.push(_n),xt.define(_n,mt(ir,Gt,1)))})});{dn.innerHTML=ct+"{visibility:hidden}.hydrated{visibility:inherit}",dn.setAttribute("data-styles","");const gt=null!==(pe=Zn.$nonce$)&&void 0!==pe?pe:qe(Bn);null!=gt&&dn.setAttribute("nonce",gt),tn.insertBefore(dn,Vt?Vt.nextSibling:tn.firstChild)}Jn=!1,Rn.length?Rn.map(gt=>gt.connectedCallback()):Zn.jmp(()=>Gn=setTimeout(Dt,30))},lr=(R,F,pe,Pe)=>{pe&&pe.map(([ct,Mt,xt])=>{const tn=$n(R,ct),Vt=An(F,xt),dn=vr(ct);Zn.ael(tn,Mt,Vt,dn),(F.$rmListeners$=F.$rmListeners$||[]).push(()=>Zn.rel(tn,Mt,Vt,dn))})},An=(R,F)=>pe=>{try{256&R.$flags$?R.$lazyInstance$[F](pe):(R.$queuedListeners$=R.$queuedListeners$||[]).push([F,pe])}catch(Pe){Un(Pe)}},$n=(R,F)=>16&F?Bn.body:R,vr=R=>0!=(2&R),zn=new WeakMap,Cn=R=>zn.get(R),Ir=(R,F)=>zn.set(F.$lazyInstance$=R,F),Fn=(R,F)=>{const pe={$flags$:0,$hostElement$:R,$cmpMeta$:F,$instanceValues$:new Map};return pe.$onInstancePromise$=new Promise(Pe=>pe.$onInstanceResolve$=Pe),pe.$onReadyPromise$=new Promise(Pe=>pe.$onReadyResolve$=Pe),R["s-p"]=[],R["s-rc"]=[],lr(R,pe,F.$listeners$),zn.set(R,pe)},Sn=(R,F)=>F in R,Un=(R,F)=>(0,console.error)(R,F),vn=new Map,sr=(R,F,pe)=>{const Pe=R.$tagName$.replace(/-/g,"_"),ct=R.$lazyBundleId$,Mt=vn.get(ct);if(Mt)return Mt[Pe];if(!pe||!BUILD.hotModuleReplacement){const xt=tn=>(vn.set(ct,tn),tn[Pe]);switch(ct){case"pwa-action-sheet":return O.e(2152).then(O.bind(O,2152)).then(xt,Un);case"pwa-camera-modal":return O.e(6056).then(O.bind(O,6056)).then(xt,Un);case"pwa-toast":return O.e(3276).then(O.bind(O,3276)).then(xt,Un);case"pwa-camera-modal-instance":return O.e(1148).then(O.bind(O,1148)).then(xt,Un);case"pwa-camera":return O.e(580).then(O.bind(O,580)).then(xt,Un)}}return O(996)(`./${ct}.entry.js`).then(xt=>(vn.set(ct,xt),xt[Pe]),Un)},ai=new Map,Dr=typeof window<"u"?window:{},Bn=Dr.document||{head:{}},Zn={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,F,pe,Pe)=>R.addEventListener(F,pe,Pe),rel:(R,F,pe,Pe)=>R.removeEventListener(F,pe,Pe),ce:(R,F)=>new CustomEvent(R,F)},wr=R=>Promise.resolve(R),Ei=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Rt=[],et=[],Tt=(R,F)=>pe=>{R.push(pe),ce||(ce=!0,F&&4&Zn.$flags$?he(oe):Zn.raf(oe))},tt=R=>{for(let F=0;F<R.length;F++)try{R[F](performance.now())}catch(pe){Un(pe)}R.length=0},oe=()=>{tt(Rt),tt(et),(ce=Rt.length>0)&&Zn.raf(oe)},he=R=>wr().then(R),Z=Tt(et,!0)},6700:(fn,at,O)=>{"use strict";O.d(at,{g:()=>x});var l=O(5657);class x extends l.E{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const we=super._subscribe(ie);return!we.closed&&ie.next(this._value),we}getValue(){const{hasError:ie,thrownError:we,_value:ce}=this;if(ie)throw we;return this._throwIfClosed(),ce}next(ie){super.next(this._value=ie)}}},3252:(fn,at,O)=>{"use strict";O.d(at,{_:()=>be});var l=O(1760),x=O(6928),K=O(472),ie=O(3928),we=O(4491),ce=O(8880),ae=O(2075);let be=(()=>{class Ge{constructor(He){He&&(this._subscribe=He)}lift(He){const qe=new Ge;return qe.source=this,qe.operator=He,qe}subscribe(He,qe,ft){const Ye=function le(Ge){return Ge&&Ge instanceof l.yR||function de(Ge){return Ge&&(0,ce.m)(Ge.next)&&(0,ce.m)(Ge.error)&&(0,ce.m)(Ge.complete)}(Ge)&&(0,x.GI)(Ge)}(He)?He:new l.ot(He,qe,ft);return(0,ae.c)(()=>{const{operator:Ve,source:Se}=this;Ye.add(Ve?Ve.call(Ye,Se):Se?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(He){try{return this._subscribe(He)}catch(qe){He.error(qe)}}forEach(He,qe){return new(qe=Xe(qe))((ft,Ye)=>{const Ve=new l.ot({next:Se=>{try{He(Se)}catch(it){Ye(it),Ve.unsubscribe()}},error:Ye,complete:ft});this.subscribe(Ve)})}_subscribe(He){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(He)}[K.a](){return this}pipe(...He){return(0,ie.Y)(He)(this)}toPromise(He){return new(He=Xe(He))((qe,ft)=>{let Ye;this.subscribe(Ve=>Ye=Ve,Ve=>ft(Ve),()=>qe(Ye))})}}return Ge.create=je=>new Ge(je),Ge})();function Xe(Ge){var je;return null!==(je=null!=Ge?Ge:we.config.Promise)&&void 0!==je?je:Promise}},5657:(fn,at,O)=>{"use strict";O.d(at,{E:()=>ae});var l=O(3252),x=O(6928);const ie=(0,O(4912).w)(Xe=>function(){Xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=O(1248),ce=O(2075);let ae=(()=>{class Xe extends l._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Ge=new be(this,this);return Ge.operator=le,Ge}_throwIfClosed(){if(this.closed)throw new ie}next(le){(0,ce.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ge of this.currentObservers)Ge.next(le)}})}error(le){(0,ce.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Ge}=this;for(;Ge.length;)Ge.shift().error(le)}})}complete(){(0,ce.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Ge,isStopped:je,observers:He}=this;return Ge||je?x.au:(this.currentObservers=null,He.push(le),new x.wH(()=>{this.currentObservers=null,(0,we.k)(He,le)}))}_checkFinalizedStatuses(le){const{hasError:Ge,thrownError:je,isStopped:He}=this;Ge?le.error(je):He&&le.complete()}asObservable(){const le=new l._;return le.source=this,le}}return Xe.create=(de,le)=>new be(de,le),Xe})();class be extends ae{constructor(de,le){super(),this.destination=de,this.source=le}next(de){var le,Ge;null===(Ge=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Ge||Ge.call(le,de)}error(de){var le,Ge;null===(Ge=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Ge||Ge.call(le,de)}complete(){var de,le;null===(le=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===le||le.call(de)}_subscribe(de){var le,Ge;return null!==(Ge=null===(le=this.source)||void 0===le?void 0:le.subscribe(de))&&void 0!==Ge?Ge:x.au}}},1760:(fn,at,O)=>{"use strict";O.d(at,{ot:()=>ft,yR:()=>Ge});var l=O(8880),x=O(6928),K=O(4491),ie=O(1984),we=O(308);const ce=Xe("C",void 0,void 0);function Xe(We,Ke,Qe){return{kind:We,value:Ke,error:Qe}}var de=O(3376),le=O(2075);class Ge extends x.wH{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,x.GI)(Ke)&&Ke.add(this)):this.destination=it}static create(Ke,Qe,ot){return new ft(Ke,Qe,ot)}next(Ke){this.isStopped?Se(function be(We){return Xe("N",We,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?Se(function ae(We){return Xe("E",void 0,We)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?Se(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function He(We,Ke){return je.call(We,Ke)}class qe{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Ke)}catch(ot){Ye(ot)}}error(Ke){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Ke)}catch(ot){Ye(ot)}else Ye(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Qe){Ye(Qe)}}}class ft extends Ge{constructor(Ke,Qe,ot){let me;if(super(),(0,l.m)(Ke)||!Ke)me={next:null!=Ke?Ke:void 0,error:null!=Qe?Qe:void 0,complete:null!=ot?ot:void 0};else{let z;this&&K.config.useDeprecatedNextContext?(z=Object.create(Ke),z.unsubscribe=()=>this.unsubscribe(),me={next:Ke.next&&He(Ke.next,z),error:Ke.error&&He(Ke.error,z),complete:Ke.complete&&He(Ke.complete,z)}):me=Ke}this.destination=new qe(me)}}function Ye(We){K.config.useDeprecatedSynchronousErrorHandling?(0,le.q)(We):(0,ie.U)(We)}function Se(We,Ke){const{onStoppedNotification:Qe}=K.config;Qe&&de.u.setTimeout(()=>Qe(We,Ke))}const it={closed:!0,next:we.K,error:function Ve(We){throw We},complete:we.K}},6928:(fn,at,O)=>{"use strict";O.d(at,{au:()=>ce,wH:()=>we,GI:()=>ae});var l=O(8880);const K=(0,O(4912).w)(Xe=>function(le){Xe(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Ge,je)=>`${je+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ie=O(1248);class we{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const He of le)He.remove(this);else le.remove(this);const{initialTeardown:Ge}=this;if((0,l.m)(Ge))try{Ge()}catch(He){de=He instanceof K?He.errors:[He]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const He of je)try{be(He)}catch(qe){de=null!=de?de:[],qe instanceof K?de=[...de,...qe.errors]:de.push(qe)}}if(de)throw new K(de)}}add(de){var le;if(de&&de!==this)if(this.closed)be(de);else{if(de instanceof we){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(de)}}_hasParent(de){const{_parentage:le}=this;return le===de||Array.isArray(le)&&le.includes(de)}_addParent(de){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(de),le):le?[le,de]:de}_removeParent(de){const{_parentage:le}=this;le===de?this._parentage=null:Array.isArray(le)&&(0,ie.k)(le,de)}remove(de){const{_finalizers:le}=this;le&&(0,ie.k)(le,de),de instanceof we&&de._removeParent(this)}}we.EMPTY=(()=>{const Xe=new we;return Xe.closed=!0,Xe})();const ce=we.EMPTY;function ae(Xe){return Xe instanceof we||Xe&&"closed"in Xe&&(0,l.m)(Xe.remove)&&(0,l.m)(Xe.add)&&(0,l.m)(Xe.unsubscribe)}function be(Xe){(0,l.m)(Xe)?Xe():Xe.unsubscribe()}},4491:(fn,at,O)=>{"use strict";O.d(at,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6040:(fn,at,O)=>{"use strict";O.d(at,{E:()=>de});var l=O(3252),x=O(4300),K=O(9900),ie=O(528),we=O(4187),ce=O(9472),ae=O(7904),be=O(7773),Xe=O(9399);function de(...je){const He=(0,ce.e_)(je),qe=(0,ce.yu)(je),{args:ft,keys:Ye}=(0,x.Q)(je);if(0===ft.length)return(0,K.Q)([],He);const Ve=new l._(function le(je,He,qe=ie.Z){return ft=>{Ge(He,()=>{const{length:Ye}=je,Ve=new Array(Ye);let Se=Ye,it=Ye;for(let We=0;We<Ye;We++)Ge(He,()=>{const Ke=(0,K.Q)(je[We],He);let Qe=!1;Ke.subscribe((0,be.e)(ft,ot=>{Ve[We]=ot,Qe||(Qe=!0,it--),it||ft.next(qe(Ve.slice()))},()=>{--Se||ft.complete()}))},ft)},ft)}}(ft,He,Ye?Se=>(0,ae.q)(Ye,Se):ie.Z));return qe?Ve.pipe((0,we.j)(qe)):Ve}function Ge(je,He,qe){je?(0,Xe._)(qe,je,He):He()}},7228:(fn,at,O)=>{"use strict";O.d(at,{W:()=>we});var l=O(267),K=O(9472),ie=O(9900);function we(...ce){return function x(){return(0,l.u)(1)}()((0,ie.Q)(ce,(0,K.e_)(ce)))}},8960:(fn,at,O)=>{"use strict";O.d(at,{k:()=>x});const x=new(O(3252)._)(we=>we.complete())},9900:(fn,at,O)=>{"use strict";O.d(at,{Q:()=>Ke});var l=O(560),x=O(3920),K=O(2924),ce=O(3252),be=O(3835),Xe=O(8880),de=O(9399);function Ge(Qe,ot){if(!Qe)throw new Error("Iterable cannot be null");return new ce._(me=>{(0,de._)(me,ot,()=>{const z=Qe[Symbol.asyncIterator]();(0,de._)(me,ot,()=>{z.next().then($e=>{$e.done?me.complete():me.next($e.value)})},0,!0)})})}var je=O(5099),He=O(5432),qe=O(5428),ft=O(1688),Ye=O(376),Ve=O(8272),Se=O(5832);function Ke(Qe,ot){return ot?function We(Qe,ot){if(null!=Qe){if((0,je.O)(Qe))return function ie(Qe,ot){return(0,l.Uv)(Qe).pipe((0,K.y)(ot),(0,x.y)(ot))}(Qe,ot);if((0,qe.G)(Qe))return function ae(Qe,ot){return new ce._(me=>{let z=0;return ot.schedule(function(){z===Qe.length?me.complete():(me.next(Qe[z++]),me.closed||this.schedule())})})}(Qe,ot);if((0,He.u)(Qe))return function we(Qe,ot){return(0,l.Uv)(Qe).pipe((0,K.y)(ot),(0,x.y)(ot))}(Qe,ot);if((0,Ye.E)(Qe))return Ge(Qe,ot);if((0,ft.i)(Qe))return function le(Qe,ot){return new ce._(me=>{let z;return(0,de._)(me,ot,()=>{z=Qe[be.w](),(0,de._)(me,ot,()=>{let $e,Be;try{({value:$e,done:Be}=z.next())}catch(Le){return void me.error(Le)}Be?me.complete():me.next($e)},0,!0)}),()=>(0,Xe.m)(null==z?void 0:z.return)&&z.return()})}(Qe,ot);if((0,Se.K)(Qe))return function it(Qe,ot){return Ge((0,Se._)(Qe),ot)}(Qe,ot)}throw(0,Ve.W)(Qe)}(Qe,ot):(0,l.Uv)(Qe)}},800:(fn,at,O)=>{"use strict";O.d(at,{w:()=>de});var l=O(560),x=O(3252),K=O(7400),ie=O(5428),we=O(8880),ce=O(4187);const ae=["addListener","removeListener"],be=["addEventListener","removeEventListener"],Xe=["on","off"];function de(qe,ft,Ye,Ve){if((0,we.m)(Ye)&&(Ve=Ye,Ye=void 0),Ve)return de(qe,ft,Ye).pipe((0,ce.j)(Ve));const[Se,it]=function He(qe){return(0,we.m)(qe.addEventListener)&&(0,we.m)(qe.removeEventListener)}(qe)?be.map(We=>Ke=>qe[We](ft,Ke,Ye)):function Ge(qe){return(0,we.m)(qe.addListener)&&(0,we.m)(qe.removeListener)}(qe)?ae.map(le(qe,ft)):function je(qe){return(0,we.m)(qe.on)&&(0,we.m)(qe.off)}(qe)?Xe.map(le(qe,ft)):[];if(!Se&&(0,ie.G)(qe))return(0,K.O)(We=>de(We,ft,Ye))((0,l.Uv)(qe));if(!Se)throw new TypeError("Invalid event target");return new x._(We=>{const Ke=(...Qe)=>We.next(1<Qe.length?Qe:Qe[0]);return Se(Ke),()=>it(Ke)})}function le(qe,ft){return Ye=>Ve=>qe[Ye](ft,Ve)}},560:(fn,at,O)=>{"use strict";O.d(at,{Uv:()=>je});var l=O(1316),x=O(5428),K=O(5432),ie=O(3252),we=O(5099),ce=O(376),ae=O(8272),be=O(1688),Xe=O(5832),de=O(8880),le=O(1984),Ge=O(472);function je(We){if(We instanceof ie._)return We;if(null!=We){if((0,we.O)(We))return function He(We){return new ie._(Ke=>{const Qe=We[Ge.a]();if((0,de.m)(Qe.subscribe))return Qe.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,x.G)(We))return function qe(We){return new ie._(Ke=>{for(let Qe=0;Qe<We.length&&!Ke.closed;Qe++)Ke.next(We[Qe]);Ke.complete()})}(We);if((0,K.u)(We))return function ft(We){return new ie._(Ke=>{We.then(Qe=>{Ke.closed||(Ke.next(Qe),Ke.complete())},Qe=>Ke.error(Qe)).then(null,le.U)})}(We);if((0,ce.E)(We))return Ve(We);if((0,be.i)(We))return function Ye(We){return new ie._(Ke=>{for(const Qe of We)if(Ke.next(Qe),Ke.closed)return;Ke.complete()})}(We);if((0,Xe.K)(We))return function Se(We){return Ve((0,Xe._)(We))}(We)}throw(0,ae.W)(We)}function Ve(We){return new ie._(Ke=>{(function it(We,Ke){var Qe,ot,me,z;return(0,l.kH)(this,void 0,void 0,function*(){try{for(Qe=(0,l.mA)(We);!(ot=yield Qe.next()).done;)if(Ke.next(ot.value),Ke.closed)return}catch($e){me={error:$e}}finally{try{ot&&!ot.done&&(z=Qe.return)&&(yield z.call(Qe))}finally{if(me)throw me.error}}Ke.complete()})})(We,Ke).catch(Qe=>Ke.error(Qe))})}},2700:(fn,at,O)=>{"use strict";O.d(at,{of:()=>K});var l=O(9472),x=O(9900);function K(...ie){const we=(0,l.e_)(ie);return(0,x.Q)(ie,we)}},7773:(fn,at,O)=>{"use strict";O.d(at,{e:()=>x});var l=O(1760);function x(ie,we,ce,ae,be){return new K(ie,we,ce,ae,be)}class K extends l.yR{constructor(we,ce,ae,be,Xe,de){super(we),this.onFinalize=Xe,this.shouldUnsubscribe=de,this._next=ce?function(le){try{ce(le)}catch(Ge){we.error(Ge)}}:super._next,this._error=be?function(le){try{be(le)}catch(Ge){we.error(Ge)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(le){we.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},2156:(fn,at,O)=>{"use strict";O.d(at,{G:()=>K});var l=O(5448),x=O(7773);function K(ie){return(0,l.i)((we,ce)=>{let ae=!1;we.subscribe((0,x.e)(ce,be=>{ae=!0,ce.next(be)},()=>{ae||ce.next(ie),ce.complete()}))})}},4e3:(fn,at,O)=>{"use strict";O.d(at,{a:()=>ie});var l=O(528),x=O(5448),K=O(7773);function ie(ce,ae=l.Z){return ce=null!=ce?ce:we,(0,x.i)((be,Xe)=>{let de,le=!0;be.subscribe((0,K.e)(Xe,Ge=>{const je=ae(Ge);(le||!ce(de,je))&&(le=!1,de=je,Xe.next(Ge))}))})}function we(ce,ae){return ce===ae}},6684:(fn,at,O)=>{"use strict";O.d(at,{I:()=>K});var l=O(5448),x=O(7773);function K(ie,we){return(0,l.i)((ce,ae)=>{let be=0;ce.subscribe((0,x.e)(ae,Xe=>ie.call(we,Xe,be++)&&ae.next(Xe)))})}},5084:(fn,at,O)=>{"use strict";O.d(at,{K:()=>ae});var l=O(7696),x=O(6684),K=O(3992),ie=O(2156),we=O(8124),ce=O(528);function ae(be,Xe){const de=arguments.length>=2;return le=>le.pipe(be?(0,x.I)((Ge,je)=>be(Ge,je,le)):ce.Z,(0,K.U)(1),de?(0,ie.G)(Xe):(0,we._)(()=>new l.G))}},4704:(fn,at,O)=>{"use strict";O.d(at,{k:()=>K});var l=O(5448),x=O(7773);function K(ie,we){return(0,l.i)((ce,ae)=>{let be=0;ce.subscribe((0,x.e)(ae,Xe=>{ae.next(ie.call(we,Xe,be++))}))})}},267:(fn,at,O)=>{"use strict";O.d(at,{u:()=>K});var l=O(7400),x=O(528);function K(ie=1/0){return(0,l.O)(x.Z,ie)}},7400:(fn,at,O)=>{"use strict";O.d(at,{O:()=>be});var l=O(4704),x=O(560),K=O(5448),ie=O(9399),we=O(7773),ae=O(8880);function be(Xe,de,le=1/0){return(0,ae.m)(de)?be((Ge,je)=>(0,l.k)((He,qe)=>de(Ge,He,je,qe))((0,x.Uv)(Xe(Ge,je))),le):("number"==typeof de&&(le=de),(0,K.i)((Ge,je)=>function ce(Xe,de,le,Ge,je,He,qe,ft){const Ye=[];let Ve=0,Se=0,it=!1;const We=()=>{it&&!Ye.length&&!Ve&&de.complete()},Ke=ot=>Ve<Ge?Qe(ot):Ye.push(ot),Qe=ot=>{He&&de.next(ot),Ve++;let me=!1;(0,x.Uv)(le(ot,Se++)).subscribe((0,we.e)(de,z=>{null==je||je(z),He?Ke(z):de.next(z)},()=>{me=!0},void 0,()=>{if(me)try{for(Ve--;Ye.length&&Ve<Ge;){const z=Ye.shift();qe?(0,ie._)(de,qe,()=>Qe(z)):Qe(z)}We()}catch(z){de.error(z)}}))};return Xe.subscribe((0,we.e)(de,Ke,()=>{it=!0,We()})),()=>{null==ft||ft()}}(Ge,je,Xe,le)))}},3920:(fn,at,O)=>{"use strict";O.d(at,{y:()=>ie});var l=O(9399),x=O(5448),K=O(7773);function ie(we,ce=0){return(0,x.i)((ae,be)=>{ae.subscribe((0,K.e)(be,Xe=>(0,l._)(be,we,()=>be.next(Xe),ce),()=>(0,l._)(be,we,()=>be.complete(),ce),Xe=>(0,l._)(be,we,()=>be.error(Xe),ce)))})}},208:(fn,at,O)=>{"use strict";O.d(at,{K:()=>ie});var l=O(5448),x=O(7773);function ie(we,ce){return(0,l.i)(function K(we,ce,ae,be,Xe){return(de,le)=>{let Ge=ae,je=ce,He=0;de.subscribe((0,x.e)(le,qe=>{const ft=He++;je=Ge?we(je,qe,ft):(Ge=!0,qe),be&&le.next(je)},Xe&&(()=>{Ge&&le.next(je),le.complete()})))}}(we,ce,arguments.length>=2,!0))}},5568:(fn,at,O)=>{"use strict";O.d(at,{W:()=>ie});var l=O(7228),x=O(9472),K=O(5448);function ie(...we){const ce=(0,x.e_)(we);return(0,K.i)((ae,be)=>{(ce?(0,l.W)(we,ae,ce):(0,l.W)(we,ae)).subscribe(be)})}},2924:(fn,at,O)=>{"use strict";O.d(at,{y:()=>x});var l=O(5448);function x(K,ie=0){return(0,l.i)((we,ce)=>{ce.add(K.schedule(()=>we.subscribe(ce),ie))})}},7368:(fn,at,O)=>{"use strict";O.d(at,{G:()=>ie});var l=O(560),x=O(5448),K=O(7773);function ie(we,ce){return(0,x.i)((ae,be)=>{let Xe=null,de=0,le=!1;const Ge=()=>le&&!Xe&&be.complete();ae.subscribe((0,K.e)(be,je=>{null==Xe||Xe.unsubscribe();let He=0;const qe=de++;(0,l.Uv)(we(je,qe)).subscribe(Xe=(0,K.e)(be,ft=>be.next(ce?ce(je,ft,qe,He++):ft),()=>{Xe=null,Ge()}))},()=>{le=!0,Ge()}))})}},3992:(fn,at,O)=>{"use strict";O.d(at,{U:()=>ie});var l=O(8960),x=O(5448),K=O(7773);function ie(we){return we<=0?()=>l.k:(0,x.i)((ce,ae)=>{let be=0;ce.subscribe((0,K.e)(ae,Xe=>{++be<=we&&(ae.next(Xe),we<=be&&ae.complete())}))})}},9212:(fn,at,O)=>{"use strict";O.d(at,{y:()=>we});var l=O(8880),x=O(5448),K=O(7773),ie=O(528);function we(ce,ae,be){const Xe=(0,l.m)(ce)||ae||be?{next:ce,error:ae,complete:be}:ce;return Xe?(0,x.i)((de,le)=>{var Ge;null===(Ge=Xe.subscribe)||void 0===Ge||Ge.call(Xe);let je=!0;de.subscribe((0,K.e)(le,He=>{var qe;null===(qe=Xe.next)||void 0===qe||qe.call(Xe,He),le.next(He)},()=>{var He;je=!1,null===(He=Xe.complete)||void 0===He||He.call(Xe),le.complete()},He=>{var qe;je=!1,null===(qe=Xe.error)||void 0===qe||qe.call(Xe,He),le.error(He)},()=>{var He,qe;je&&(null===(He=Xe.unsubscribe)||void 0===He||He.call(Xe)),null===(qe=Xe.finalize)||void 0===qe||qe.call(Xe)}))}):ie.Z}},8124:(fn,at,O)=>{"use strict";O.d(at,{_:()=>ie});var l=O(7696),x=O(5448),K=O(7773);function ie(ce=we){return(0,x.i)((ae,be)=>{let Xe=!1;ae.subscribe((0,K.e)(be,de=>{Xe=!0,be.next(de)},()=>Xe?be.complete():be.error(ce())))})}function we(){return new l.G}},1364:(fn,at,O)=>{"use strict";O.d(at,{m:()=>we});var l=O(6928);class x extends l.wH{constructor(ae,be){super()}schedule(ae,be=0){return this}}const K={setInterval(ce,ae,...be){const{delegate:Xe}=K;return null!=Xe&&Xe.setInterval?Xe.setInterval(ce,ae,...be):setInterval(ce,ae,...be)},clearInterval(ce){const{delegate:ae}=K;return((null==ae?void 0:ae.clearInterval)||clearInterval)(ce)},delegate:void 0};var ie=O(1248);class we extends x{constructor(ae,be){super(ae,be),this.scheduler=ae,this.work=be,this.pending=!1}schedule(ae,be=0){var Xe;if(this.closed)return this;this.state=ae;const de=this.id,le=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(le,de,be)),this.pending=!0,this.delay=be,this.id=null!==(Xe=this.id)&&void 0!==Xe?Xe:this.requestAsyncId(le,this.id,be),this}requestAsyncId(ae,be,Xe=0){return K.setInterval(ae.flush.bind(ae,this),Xe)}recycleAsyncId(ae,be,Xe=0){if(null!=Xe&&this.delay===Xe&&!1===this.pending)return be;null!=be&&K.clearInterval(be)}execute(ae,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Xe=this._execute(ae,be);if(Xe)return Xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,be){let de,Xe=!1;try{this.work(ae)}catch(le){Xe=!0,de=le||new Error("Scheduled action threw falsy error")}if(Xe)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:ae,scheduler:be}=this,{actions:Xe}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.k)(Xe,this),null!=ae&&(this.id=this.recycleAsyncId(be,ae,null)),this.delay=null,super.unsubscribe()}}}},9816:(fn,at,O)=>{"use strict";O.d(at,{k:()=>K});var l=O(5960);class x{constructor(we,ce=x.now){this.schedulerActionCtor=we,this.now=ce}schedule(we,ce=0,ae){return new this.schedulerActionCtor(this,we).schedule(ae,ce)}}x.now=l.K.now;class K extends x{constructor(we,ce=x.now){super(we,ce),this.actions=[],this._active=!1}flush(we){const{actions:ce}=this;if(this._active)return void ce.push(we);let ae;this._active=!0;do{if(ae=we.execute(we.state,we.delay))break}while(we=ce.shift());if(this._active=!1,ae){for(;we=ce.shift();)we.unsubscribe();throw ae}}}},112:(fn,at,O)=>{"use strict";O.d(at,{M:()=>K});var l=O(1364);const K=new(O(9816).k)(l.m)},5960:(fn,at,O)=>{"use strict";O.d(at,{K:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3376:(fn,at,O)=>{"use strict";O.d(at,{u:()=>l});const l={setTimeout(x,K,...ie){const{delegate:we}=l;return null!=we&&we.setTimeout?we.setTimeout(x,K,...ie):setTimeout(x,K,...ie)},clearTimeout(x){const{delegate:K}=l;return((null==K?void 0:K.clearTimeout)||clearTimeout)(x)},delegate:void 0}},3835:(fn,at,O)=>{"use strict";O.d(at,{w:()=>x});const x=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(fn,at,O)=>{"use strict";O.d(at,{a:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7696:(fn,at,O)=>{"use strict";O.d(at,{G:()=>x});const x=(0,O(4912).w)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},9472:(fn,at,O)=>{"use strict";O.d(at,{_8:()=>ce,yu:()=>ie,e_:()=>we});var l=O(8880);function K(ae){return ae[ae.length-1]}function ie(ae){return(0,l.m)(K(ae))?ae.pop():void 0}function we(ae){return function x(ae){return ae&&(0,l.m)(ae.schedule)}(K(ae))?ae.pop():void 0}function ce(ae,be){return"number"==typeof K(ae)?ae.pop():be}},4300:(fn,at,O)=>{"use strict";O.d(at,{Q:()=>we});const{isArray:l}=Array,{getPrototypeOf:x,prototype:K,keys:ie}=Object;function we(ae){if(1===ae.length){const be=ae[0];if(l(be))return{args:be,keys:null};if(function ce(ae){return ae&&"object"==typeof ae&&x(ae)===K}(be)){const Xe=ie(be);return{args:Xe.map(de=>be[de]),keys:Xe}}}return{args:ae,keys:null}}},1248:(fn,at,O)=>{"use strict";function l(x,K){if(x){const ie=x.indexOf(K);0<=ie&&x.splice(ie,1)}}O.d(at,{k:()=>l})},4912:(fn,at,O)=>{"use strict";function l(x){const ie=x(we=>{Error.call(we),we.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(at,{w:()=>l})},7904:(fn,at,O)=>{"use strict";function l(x,K){return x.reduce((ie,we,ce)=>(ie[we]=K[ce],ie),{})}O.d(at,{q:()=>l})},2075:(fn,at,O)=>{"use strict";O.d(at,{c:()=>K,q:()=>ie});var l=O(4491);let x=null;function K(we){if(l.config.useDeprecatedSynchronousErrorHandling){const ce=!x;if(ce&&(x={errorThrown:!1,error:null}),we(),ce){const{errorThrown:ae,error:be}=x;if(x=null,ae)throw be}}else we()}function ie(we){l.config.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=we)}},9399:(fn,at,O)=>{"use strict";function l(x,K,ie,we=0,ce=!1){const ae=K.schedule(function(){ie(),ce?x.add(this.schedule(null,we)):this.unsubscribe()},we);if(x.add(ae),!ce)return ae}O.d(at,{_:()=>l})},528:(fn,at,O)=>{"use strict";function l(x){return x}O.d(at,{Z:()=>l})},5428:(fn,at,O)=>{"use strict";O.d(at,{G:()=>l});const l=x=>x&&"number"==typeof x.length&&"function"!=typeof x},376:(fn,at,O)=>{"use strict";O.d(at,{E:()=>x});var l=O(8880);function x(K){return Symbol.asyncIterator&&(0,l.m)(null==K?void 0:K[Symbol.asyncIterator])}},8880:(fn,at,O)=>{"use strict";function l(x){return"function"==typeof x}O.d(at,{m:()=>l})},5099:(fn,at,O)=>{"use strict";O.d(at,{O:()=>K});var l=O(472),x=O(8880);function K(ie){return(0,x.m)(ie[l.a])}},1688:(fn,at,O)=>{"use strict";O.d(at,{i:()=>K});var l=O(3835),x=O(8880);function K(ie){return(0,x.m)(null==ie?void 0:ie[l.w])}},5432:(fn,at,O)=>{"use strict";O.d(at,{u:()=>x});var l=O(8880);function x(K){return(0,l.m)(null==K?void 0:K.then)}},5832:(fn,at,O)=>{"use strict";O.d(at,{K:()=>ie,_:()=>K});var l=O(1316),x=O(8880);function K(we){return(0,l.o7)(this,arguments,function*(){const ae=we.getReader();try{for(;;){const{value:be,done:Xe}=yield(0,l.U1)(ae.read());if(Xe)return yield(0,l.U1)(void 0);yield yield(0,l.U1)(be)}}finally{ae.releaseLock()}})}function ie(we){return(0,x.m)(null==we?void 0:we.getReader)}},5448:(fn,at,O)=>{"use strict";O.d(at,{e:()=>x,i:()=>K});var l=O(8880);function x(ie){return(0,l.m)(null==ie?void 0:ie.lift)}function K(ie){return we=>{if(x(we))return we.lift(function(ce){try{return ie(ce,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(fn,at,O)=>{"use strict";O.d(at,{j:()=>ie});var l=O(4704);const{isArray:x}=Array;function ie(we){return(0,l.k)(ce=>function K(we,ce){return x(ce)?we(...ce):we(ce)}(we,ce))}},308:(fn,at,O)=>{"use strict";function l(){}O.d(at,{K:()=>l})},3928:(fn,at,O)=>{"use strict";O.d(at,{W:()=>x,Y:()=>K});var l=O(528);function x(...ie){return K(ie)}function K(ie){return 0===ie.length?l.Z:1===ie.length?ie[0]:function(ce){return ie.reduce((ae,be)=>be(ae),ce)}}},1984:(fn,at,O)=>{"use strict";O.d(at,{U:()=>K});var l=O(4491),x=O(3376);function K(ie){x.u.setTimeout(()=>{const{onUnhandledError:we}=l.config;if(!we)throw ie;we(ie)})}},8272:(fn,at,O)=>{"use strict";function l(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(at,{W:()=>l})},1480:(fn,at,O)=>{var l={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function x(K){if(!O.o(l,K))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+K+"'");throw ce.code="MODULE_NOT_FOUND",ce});var ie=l[K],we=ie[0];return Promise.all(ie.slice(1).map(O.e)).then(()=>O(we))}x.keys=()=>Object.keys(l),x.id=1480,fn.exports=x},996:(fn,at,O)=>{var l={"./pwa-action-sheet.entry.js":[2152,2152],"./pwa-camera-modal-instance.entry.js":[1148,1148],"./pwa-camera-modal.entry.js":[6056,6056],"./pwa-camera.entry.js":[580,580],"./pwa-toast.entry.js":[3276,3276]};function x(K){if(!O.o(l,K))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+K+"'");throw ce.code="MODULE_NOT_FOUND",ce});var ie=l[K],we=ie[0];return O.e(ie[1]).then(()=>O(we))}x.keys=()=>Object.keys(l),x.id=996,fn.exports=x},1368:(fn,at,O)=>{"use strict";O.d(at,{MD:()=>vi,MP:()=>Ye,OM:()=>Us,QF:()=>Ci,Qd:()=>He,Sg:()=>so,Ud:()=>ae,XV:()=>It,YZ:()=>Es,_k:()=>Po,ay:()=>Re,cf:()=>uo,mQ:()=>Xe,mg:()=>we,oB:()=>Ve,uC:()=>ft,u_:()=>Ce,uf:()=>to,ug:()=>ie,uy:()=>K});var l=O(4496);let x=null;function K(){return x}function ie(E){var M;null!==(M=x)&&void 0!==M||(x=E)}class we{}const ae=new l.UbH("");let be=(()=>{var E;class M{historyGo(B){throw new Error("")}}return(E=M).\u0275fac=function(B){return new(B||E)},E.\u0275prov=l.wxM({token:E,factory:()=>(0,l.uUt)(de),providedIn:"platform"}),M})();const Xe=new l.UbH("");let de=(()=>{var E;class M extends be{constructor(){super(),this._doc=(0,l.uUt)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(B){const ue=K().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",B,!1),()=>ue.removeEventListener("popstate",B)}onHashChange(B){const ue=K().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",B,!1),()=>ue.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,ue,_e){this._history.pushState(B,ue,_e)}replaceState(B,ue,_e){this._history.replaceState(B,ue,_e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return(E=M).\u0275fac=function(B){return new(B||E)},E.\u0275prov=l.wxM({token:E,factory:()=>new E,providedIn:"platform"}),M})();function le(E,M){if(0==E.length)return M;if(0==M.length)return E;let De=0;return E.endsWith("/")&&De++,M.startsWith("/")&&De++,2==De?E+M.substring(1):1==De?E+M:E+"/"+M}function Ge(E){const M=E.match(/#|\?|$/),De=M&&M.index||E.length;return E.slice(0,De-("/"===E[De-1]?1:0))+E.slice(De)}function je(E){return E&&"?"!==E[0]?"?"+E:E}let He=(()=>{var E;class M{historyGo(B){throw new Error("")}}return(E=M).\u0275fac=function(B){return new(B||E)},E.\u0275prov=l.wxM({token:E,factory:()=>(0,l.uUt)(ft),providedIn:"root"}),M})();const qe=new l.UbH("");let ft=(()=>{var E;class M extends He{constructor(B,ue){var _e,ht,mn;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(_e=null!==(ht=null!=ue?ue:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ht?ht:null===(mn=(0,l.uUt)(ae).location)||void 0===mn?void 0:mn.origin)&&void 0!==_e?_e:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return le(this._baseHref,B)}path(B=!1){const ue=this._platformLocation.pathname+je(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&B?`${ue}${_e}`:ue}pushState(B,ue,_e,ht){const mn=this.prepareExternalUrl(_e+je(ht));this._platformLocation.pushState(B,ue,mn)}replaceState(B,ue,_e,ht){const mn=this.prepareExternalUrl(_e+je(ht));this._platformLocation.replaceState(B,ue,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ue,_e;null===(ue=(_e=this._platformLocation).historyGo)||void 0===ue||ue.call(_e,B)}}return(E=M).\u0275fac=function(B){return new(B||E)(l.CoB(be),l.CoB(qe,8))},E.\u0275prov=l.wxM({token:E,factory:E.\u0275fac,providedIn:"root"}),M})(),Ye=(()=>{var E;class M extends He{constructor(B,ue){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){var ue;const _e=null!==(ue=this._platformLocation.hash)&&void 0!==ue?ue:"#";return _e.length>0?_e.substring(1):_e}prepareExternalUrl(B){const ue=le(this._baseHref,B);return ue.length>0?"#"+ue:ue}pushState(B,ue,_e,ht){let mn=this.prepareExternalUrl(_e+je(ht));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.pushState(B,ue,mn)}replaceState(B,ue,_e,ht){let mn=this.prepareExternalUrl(_e+je(ht));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.replaceState(B,ue,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ue,_e;null===(ue=(_e=this._platformLocation).historyGo)||void 0===ue||ue.call(_e,B)}}return(E=M).\u0275fac=function(B){return new(B||E)(l.CoB(be),l.CoB(qe,8))},E.\u0275prov=l.wxM({token:E,factory:E.\u0275fac}),M})(),Ve=(()=>{var E;class M{constructor(B){this._subject=new l._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ue=this._locationStrategy.getBaseHref();this._basePath=function Ke(E){if(new RegExp("^(https?:)?//").test(E)){const[,De]=E.split(/\/\/[^\/]+/);return De}return E}(Ge(We(ue))),this._locationStrategy.onPopState(_e=>{this._subject.emit({url:this.path(!0),pop:!0,state:_e.state,type:_e.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ue=""){return this.path()==this.normalize(B+je(ue))}normalize(B){return M.stripTrailingSlash(function it(E,M){if(!E||!M.startsWith(E))return M;const De=M.substring(E.length);return""===De||["/",";","?","#"].includes(De[0])?De:M}(this._basePath,We(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ue="",_e=null){this._locationStrategy.pushState(_e,"",B,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+je(ue)),_e)}replaceState(B,ue="",_e=null){this._locationStrategy.replaceState(_e,"",B,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+je(ue)),_e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var ue,_e;null===(ue=(_e=this._locationStrategy).historyGo)||void 0===ue||ue.call(_e,B)}onUrlChange(B){var ue;return this._urlChangeListeners.push(B),null!==(ue=this._urlChangeSubscription)&&void 0!==ue||(this._urlChangeSubscription=this.subscribe(_e=>{this._notifyUrlChangeListeners(_e.url,_e.state)})),()=>{const _e=this._urlChangeListeners.indexOf(B);var ht;this._urlChangeListeners.splice(_e,1),0===this._urlChangeListeners.length&&(null===(ht=this._urlChangeSubscription)||void 0===ht||ht.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ue){this._urlChangeListeners.forEach(_e=>_e(B,ue))}subscribe(B,ue,_e){return this._subject.subscribe({next:B,error:ue,complete:_e})}}return(E=M).normalizeQueryParams=je,E.joinWithSlash=le,E.stripTrailingSlash=Ge,E.\u0275fac=function(B){return new(B||E)(l.CoB(He))},E.\u0275prov=l.wxM({token:E,factory:()=>function Se(){return new Ve((0,l.CoB)(He))}(),providedIn:"root"}),M})();function We(E){return E.replace(/\/index.html$/,"")}const Qe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ot=function(E){return E[E.Decimal=0]="Decimal",E[E.Percent=1]="Percent",E[E.Currency=2]="Currency",E[E.Scientific=3]="Scientific",E}(ot||{}),Le=function(E){return E[E.Decimal=0]="Decimal",E[E.Group=1]="Group",E[E.List=2]="List",E[E.PercentSign=3]="PercentSign",E[E.PlusSign=4]="PlusSign",E[E.MinusSign=5]="MinusSign",E[E.Exponential=6]="Exponential",E[E.SuperscriptingExponent=7]="SuperscriptingExponent",E[E.PerMille=8]="PerMille",E[E.Infinity=9]="Infinity",E[E.NaN=10]="NaN",E[E.TimeSeparator=11]="TimeSeparator",E[E.CurrencyDecimal=12]="CurrencyDecimal",E[E.CurrencyGroup=13]="CurrencyGroup",E}(Le||{});function Ue(E,M){const De=(0,l.iMv)(E),B=De[l.GUM.NumberSymbols][M];if(typeof B>"u"){if(M===Le.CurrencyDecimal)return De[l.GUM.NumberSymbols][Le.Decimal];if(M===Le.CurrencyGroup)return De[l.GUM.NumberSymbols][Le.Group]}return B}const pe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Pe=22,ct=".",Mt="0",xt=";",tn=",",Vt="#";function Jn(E,M,De,B,ue){const ht=function Gt(E,M="-"){const De={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},B=E.split(xt),ue=B[0],_e=B[1],ht=-1!==ue.indexOf(ct)?ue.split(ct):[ue.substring(0,ue.lastIndexOf(Mt)+1),ue.substring(ue.lastIndexOf(Mt)+1)],mn=ht[0],Xt=ht[1]||"";De.posPre=mn.substring(0,mn.indexOf(Vt));for(let Ut=0;Ut<Xt.length;Ut++){const Xn=Xt.charAt(Ut);Xn===Mt?De.minFrac=De.maxFrac=Ut+1:Xn===Vt?De.maxFrac=Ut+1:De.posSuf+=Xn}const vt=mn.split(tn);if(De.gSize=vt[1]?vt[1].length:0,De.lgSize=vt[2]||vt[1]?(vt[2]||vt[1]).length:0,_e){const Ut=ue.length-De.posPre.length-De.posSuf.length,Xn=_e.indexOf(Vt);De.negPre=_e.substring(0,Xn).replace(/'/g,""),De.negSuf=_e.slice(Xn+Ut).replace(/'/g,"")}else De.negPre=M+De.posPre,De.negSuf=De.posSuf;return De}(function Zt(E,M){return(0,l.iMv)(E)[l.GUM.NumberFormats][M]}(M,ot.Currency),Ue(M,Le.MinusSign));return ht.minFrac=function wn(E){let M;const De=Qe[E];return De&&(M=De[2]),"number"==typeof M?M:2}(B),ht.maxFrac=ht.minFrac,function Gn(E,M,De,B,ue,_e,ht=!1){let mn="",Xt=!1;if(isFinite(E)){let vt=function ir(E){let B,ue,_e,ht,mn,M=Math.abs(E)+"",De=0;for((ue=M.indexOf(ct))>-1&&(M=M.replace(ct,"")),(_e=M.search(/e/i))>0?(ue<0&&(ue=_e),ue+=+M.slice(_e+1),M=M.substring(0,_e)):ue<0&&(ue=M.length),_e=0;M.charAt(_e)===Mt;_e++);if(_e===(mn=M.length))B=[0],ue=1;else{for(mn--;M.charAt(mn)===Mt;)mn--;for(ue-=_e,B=[],ht=0;_e<=mn;_e++,ht++)B[ht]=Number(M.charAt(_e))}return ue>Pe&&(B=B.splice(0,Pe-1),De=ue-1,ue=1),{digits:B,exponent:De,integerLen:ue}}(E);ht&&(vt=function _n(E){if(0===E.digits[0])return E;const M=E.digits.length-E.integerLen;return E.exponent?E.exponent+=2:(0===M?E.digits.push(0,0):1===M&&E.digits.push(0),E.integerLen+=2),E}(vt));let Ut=M.minInt,Xn=M.minFrac,Pr=M.maxFrac;if(_e){const wi=_e.match(pe);if(null===wi)throw new Error(`${_e} is not a valid digit info`);const Zi=wi[1],Lr=wi[3],ha=wi[5];null!=Zi&&(Ut=er(Zi)),null!=Lr&&(Xn=er(Lr)),null!=ha?Pr=er(ha):null!=Lr&&Xn>Pr&&(Pr=Xn)}!function Hn(E,M,De){if(M>De)throw new Error(`The minimum number of digits after fraction (${M}) is higher than the maximum (${De}).`);let B=E.digits,ue=B.length-E.integerLen;const _e=Math.min(Math.max(M,ue),De);let ht=_e+E.integerLen,mn=B[ht];if(ht>0){B.splice(Math.max(E.integerLen,ht));for(let Xn=ht;Xn<B.length;Xn++)B[Xn]=0}else{ue=Math.max(0,ue),E.integerLen=1,B.length=Math.max(1,ht=_e+1),B[0]=0;for(let Xn=1;Xn<ht;Xn++)B[Xn]=0}if(mn>=5)if(ht-1<0){for(let Xn=0;Xn>ht;Xn--)B.unshift(0),E.integerLen++;B.unshift(1),E.integerLen++}else B[ht-1]++;for(;ue<Math.max(0,_e);ue++)B.push(0);let Xt=0!==_e;const vt=M+E.integerLen,Ut=B.reduceRight(function(Xn,Pr,ti,Oi){return Oi[ti]=(Pr+=Xn)<10?Pr:Pr-10,Xt&&(0===Oi[ti]&&ti>=vt?Oi.pop():Xt=!1),Pr>=10?1:0},0);Ut&&(B.unshift(Ut),E.integerLen++)}(vt,Xn,Pr);let ti=vt.digits,Oi=vt.integerLen;const Ps=vt.exponent;let es=[];for(Xt=ti.every(wi=>!wi);Oi<Ut;Oi++)ti.unshift(0);for(;Oi<0;Oi++)ti.unshift(0);Oi>0?es=ti.splice(Oi,ti.length):(es=ti,ti=[0]);const Xi=[];for(ti.length>=M.lgSize&&Xi.unshift(ti.splice(-M.lgSize,ti.length).join(""));ti.length>M.gSize;)Xi.unshift(ti.splice(-M.gSize,ti.length).join(""));ti.length&&Xi.unshift(ti.join("")),mn=Xi.join(Ue(De,B)),es.length&&(mn+=Ue(De,ue)+es.join("")),Ps&&(mn+=Ue(De,Le.Exponential)+"+"+Ps)}else mn=Ue(De,Le.Infinity);return mn=E<0&&!Xt?M.negPre+mn+M.negSuf:M.posPre+mn+M.posSuf,mn}(E,ht,M,Le.CurrencyGroup,Le.CurrencyDecimal,ue).replace("\xa4",De).replace("\xa4","").trim()}function er(E){const M=parseInt(E);if(isNaN(M))throw new Error("Invalid integer literal when parsing "+E);return M}function so(E,M){M=encodeURIComponent(M);for(const De of E.split(";")){const B=De.indexOf("="),[ue,_e]=-1==B?[De,""]:[De.slice(0,B),De.slice(B+1)];if(ue.trim()===M)return decodeURIComponent(_e)}return null}const hr=/\s+/,Bi=[];let Ci=(()=>{var E;class M{constructor(B,ue){this._ngEl=B,this._renderer=ue,this.initialClasses=Bi,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(hr):Bi}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(hr):B}ngDoCheck(){for(const ue of this.initialClasses)this._updateState(ue,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const ue of B)this._updateState(ue,!0);else if(null!=B)for(const ue of Object.keys(B))this._updateState(ue,!!B[ue]);this._applyStateDiff()}_updateState(B,ue){const _e=this.stateMap.get(B);void 0!==_e?(_e.enabled!==ue&&(_e.changed=!0,_e.enabled=ue),_e.touched=!0):this.stateMap.set(B,{enabled:ue,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const ue=B[0],_e=B[1];_e.changed?(this._toggleClass(ue,_e.enabled),_e.changed=!1):_e.touched||(_e.enabled&&this._toggleClass(ue,!1),this.stateMap.delete(ue)),_e.touched=!1}}_toggleClass(B,ue){(B=B.trim()).length>0&&B.split(hr).forEach(_e=>{ue?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return(E=M).\u0275fac=function(B){return new(B||E)(l.GI1(l.GMv),l.GI1(l.q87))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngClass",""]],inputs:{klass:[l.Wk5.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class Eo{constructor(M,De,B,ue){this.$implicit=M,this.ngForOf=De,this.index=B,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Re=(()=>{var E;class M{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,ue,_e){this._viewContainer=B,this._template=ue,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ue=this._viewContainer;B.forEachOperation((_e,ht,mn)=>{if(null==_e.previousIndex)ue.createEmbeddedView(this._template,new Eo(_e.item,this._ngForOf,-1,-1),null===mn?void 0:mn);else if(null==mn)ue.remove(null===ht?void 0:ht);else if(null!==ht){const Xt=ue.get(ht);ue.move(Xt,mn),xe(Xt,_e)}});for(let _e=0,ht=ue.length;_e<ht;_e++){const Xt=ue.get(_e).context;Xt.index=_e,Xt.count=ht,Xt.ngForOf=this._ngForOf}B.forEachIdentityChange(_e=>{xe(ue.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(B,ue){return!0}}return(E=M).\u0275fac=function(B){return new(B||E)(l.GI1(l.y8U),l.GI1(l.Yw2),l.GI1(l.Uj7))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function xe(E,M){E.context.$implicit=M.item}let Ce=(()=>{var E;class M{constructor(B,ue){this._viewContainer=B,this._context=new pt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Yt("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Yt("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ue){return!0}}return(E=M).\u0275fac=function(B){return new(B||E)(l.GI1(l.y8U),l.GI1(l.Yw2))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class pt{constructor(){this.$implicit=null,this.ngIf=null}}function Yt(E,M){if(M&&!M.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,l.GEN)(M)}'.`)}let It=(()=>{var E;class M{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(this._shouldRecreateView(B)){var ue;const _e=this._viewContainerRef;if(this._viewRef&&_e.remove(_e.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ht=this._createContextForwardProxy();this._viewRef=_e.createEmbeddedView(this.ngTemplateOutlet,ht,{injector:null!==(ue=this.ngTemplateOutletInjector)&&void 0!==ue?ue:void 0})}}_shouldRecreateView(B){return!!B.ngTemplateOutlet||!!B.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(B,ue,_e)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ue,_e),get:(B,ue,_e)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ue,_e)}})}}return(E=M).\u0275fac=function(B){return new(B||E)(l.GI1(l.y8U))},E.\u0275dir=l.Sc5({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.SYr]}),M})();let uo=(()=>{var E;class M{constructor(B,ue="USD"){this._locale=B,this._defaultCurrencyCode=ue}transform(B,ue=this._defaultCurrencyCode,_e="symbol",ht,mn){if(!function ur(E){return!(null==E||""===E||E!=E)}(B))return null;mn||(mn=this._locale),"boolean"==typeof _e&&(_e=_e?"symbol":"code");let Xt=ue||this._defaultCurrencyCode;"code"!==_e&&(Xt="symbol"===_e||"symbol-narrow"===_e?function qt(E,M,De="en"){const B=function bn(E){return(0,l.iMv)(E)[l.GUM.Currencies]}(De)[E]||Qe[E]||[],ue=B[1];return"narrow"===M&&"string"==typeof ue?ue:B[0]||E}(Xt,"symbol"===_e?"wide":"narrow",mn):_e);try{return Jn(function co(E){if("string"==typeof E&&!isNaN(Number(E)-parseFloat(E)))return Number(E);if("number"!=typeof E)throw new Error(`${E} is not a number`);return E}(B),mn,Xt,ue,ht)}catch(vt){throw function Wt(E,M){return new l.OBp(2100,!1)}()}}}return(E=M).\u0275fac=function(B){return new(B||E)(l.GI1(l.KYU,16),l.GI1(l.ayF,16))},E.\u0275pipe=l.UTH({name:"currency",type:E,pure:!0,standalone:!0}),M})();let vi=(()=>{var E;class M{}return(E=M).\u0275fac=function(B){return new(B||E)},E.\u0275mod=l.a4G({type:E}),E.\u0275inj=l.s3X({}),M})();const Po="browser",Yi="server";function to(E){return E===Yi}let Es=(()=>{var E;class M{}return(E=M).\u0275prov=(0,l.wxM)({token:E,providedIn:"root",factory:()=>function Ta(E){return E===Po}((0,l.uUt)(l.AHE))?new Cs((0,l.uUt)(ae),window):new ba}),M})();class Cs{constructor(M,De){this.document=M,this.window=De,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(M){this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){const De=function ji(E,M){const De=E.getElementById(M)||E.getElementsByName(M)[0];if(De)return De;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const B=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let ue=B.currentNode;for(;ue;){const _e=ue.shadowRoot;if(_e){const ht=_e.getElementById(M)||_e.querySelector(`[name="${M}"]`);if(ht)return ht}ue=B.nextNode()}}return null}(this.document,M);De&&(this.scrollToElement(De),De.focus())}setHistoryScrollRestoration(M){this.window.history.scrollRestoration=M}scrollToElement(M){const De=M.getBoundingClientRect(),B=De.left+this.window.pageXOffset,ue=De.top+this.window.pageYOffset,_e=this.offset();this.window.scrollTo(B-_e[0],ue-_e[1])}}class ba{setOffset(M){}getScrollPosition(){return[0,0]}scrollToPosition(M){}scrollToAnchor(M){}setHistoryScrollRestoration(M){}}class Us{}},4496:(fn,at,O)=>{"use strict";O.d(at,{qid:()=>LE,QHP:()=>ye,kZF:()=>Rw,Ev2:()=>mM,Swk:()=>bd,YND:()=>Fi,kD9:()=>g_,ESV:()=>XR,ayF:()=>oM,syz:()=>Ga,GMv:()=>Fr,SIe:()=>Lt,eAe:()=>Hu,_w7:()=>vr,_6O:()=>Fn,UbH:()=>J,zZn:()=>Da,Uj7:()=>p_,YNh:()=>Zg,KYU:()=>J_,obV:()=>w0,oF$:()=>Ch,WW2:()=>zo,T7N:()=>ar,AHE:()=>At,crf:()=>an,q87:()=>Bc,O8F:()=>o_,yzm:()=>sd,Qfh:()=>$i,Yw2:()=>yd,G4X:()=>zR,eOv:()=>Aw,j1C:()=>IR,a8Z:()=>Iw,y8U:()=>ip,K6R:()=>xt,I44:()=>w_,cZD:()=>HM,kdu:()=>zM,SIz:()=>jI,Gk1:()=>PT,grM:()=>Vw,agy:()=>dM,wd:()=>os,uUt:()=>Qr,sPQ:()=>cM,_Ap:()=>Pn,m4O:()=>gM,o9M:()=>qM,SMS:()=>Od,sRj:()=>c_,oPY:()=>Ew,i4S:()=>m,GUM:()=>Tp,g9Y:()=>dm,OBp:()=>qt,aS5:()=>Tw,Mn9:()=>bw,iMv:()=>gE,G58:()=>mt,y02:()=>bC,IHs:()=>Vt,K_M:()=>Su,Guz:()=>oc,w5$:()=>NE,gX2:()=>Sw,auf:()=>Bo,GEN:()=>Sn,eg9:()=>UI,Wk5:()=>Mr,QJr:()=>D0,SYr:()=>Fd,M5G:()=>UD,UHJ:()=>BD,yG2:()=>Pv,e48:()=>JI,eAK:()=>oE,szK:()=>pD,In1:()=>Ze,Sc5:()=>un,wxM:()=>Ti,s3X:()=>Go,a4G:()=>Ot,UTH:()=>en,GI1:()=>ec,wR5:()=>dE,C_f:()=>pE,C$Y:()=>j_,I0R:()=>G_,KQA:()=>DC,otF:()=>gu,CoB:()=>Ao,gJ8:()=>Gh,KEo:()=>Df,qCj:()=>_E,Gqi:()=>vD,GaO:()=>nD,wVc:()=>rw,g7$:()=>iw,_Xx:()=>iD,kPM:()=>rD,E7m:()=>rE,q4q:()=>QD,S45:()=>XD,wto:()=>mD,CGJ:()=>Pa,usT:()=>el,K6U:()=>Zp,YFg:()=>rv,yuY:()=>ap,OEk:()=>AD,cNF:()=>EE,oRS:()=>K_,CC$:()=>gD}),O(1528);let K=null,we=1;const ce=Symbol("SIGNAL");function ae(t){const n=K;return K=t,n}function He(t){if((!ot(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==we)){if(!t.producerMustRecompute(t)&&!it(t))return t.dirty=!1,void(t.lastCleanEpoch=we);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=we}}function it(t){me(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==i.version||(He(i),a!==i.version))return!0}return!1}function Qe(t,n){if(function z(t){var n,i;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(i=t.liveConsumerIndexOfThis)&&void 0!==i||(t.liveConsumerIndexOfThis=[])}(t),me(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Qe(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],u=t.liveConsumerNode[n];me(u),u.producerIndexOfThis[a]=n}}function ot(t){var n,i;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(i=t.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function me(t){var n,i,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(i=t.producerIndexOfThis)&&void 0!==i||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let zt=null;var qn=O(5657),Ft=O(6928),Dt=O(6700),wt=O(4704);const hn="https://g.co/ng/security#xss";class qt extends Error{constructor(n,i){super(mt(n,i)),this.code=n}}function mt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function $n(t){return n=>{setTimeout(t,void 0,n)}}const vr=class An extends qn.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let u=n,h=i||(()=>null),g=a;if(n&&"object"==typeof n){var _,C,U;const ee=n;u=null===(_=ee.next)||void 0===_?void 0:_.bind(ee),h=null===(C=ee.error)||void 0===C?void 0:C.bind(ee),g=null===(U=ee.complete)||void 0===U?void 0:U.bind(ee)}this.__isAsync&&(h=$n(h),u&&(u=$n(u)),g&&(g=$n(g)));const Q=super.subscribe({next:u,error:h,complete:g});return n instanceof Ft.wH&&n.add(Q),Q}};var Fn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Fn||{});function Sn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Sn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Un(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var Mt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mt||{}),xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xt||{});function tn(t){return{toString:t}.toString()}const Vt=globalThis,Gn={},Jn=[];function gt(t){for(let n in t)if(t[n]===gt)return n;throw Error("Could not find renamed property on target object.")}function _t(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}const Gt=gt({\u0275cmp:gt}),_n=gt({\u0275dir:gt}),ir=gt({\u0275pipe:gt}),Hn=gt({\u0275mod:gt}),er=gt({\u0275fac:gt}),Br=gt({__NG_ELEMENT_ID__:gt}),Ar=gt({__NG_ENV_ID__:gt});var Mr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Mr||{});function ki(t,n,i){let a=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=n.length;if(u+h===a||t.charCodeAt(u+h)<=32)return u}i=u+1}}function so(t,n,i){let a=0;for(;a<i.length;){const u=i[a];if("number"==typeof u){if(0!==u)break;a++;const h=i[a++],g=i[a++],_=i[a++];t.setAttribute(n,g,_,h)}else{const h=u,g=i[++a];Bi(h)?t.setProperty(n,h,g):t.setAttribute(n,h,g),a++}}return a}function hr(t){return 3===t||4===t||6===t}function Bi(t){return 64===t.charCodeAt(0)}function Ci(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:0===i||Gr(t,i,u,null,-1===i||2===i?n[++a]:null)}}return t}function Gr(t,n,i,a,u){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const _=t[h++];if("number"==typeof _){if(_===n){g=-1;break}if(_>n){g=h-1;break}}}for(;h<t.length;){const _=t[h];if("number"==typeof _)break;if(_===i){if(null===a)return void(null!==u&&(t[h+1]=u));if(a===t[h+1])return void(t[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==u&&t.splice(h++,0,u)}const Kn="ng-template";function Eo(t,n,i){let a=0,u=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&u){const g=t[a++];if(i&&"class"===h&&-1!==ki(g.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function Re(t){return 4===t.type&&t.value!==Kn}function xe(t,n,i){return n===(4!==t.type||i?t.value:Kn)}function X(t,n,i){let a=4;const u=t.attrs||[],h=function En(t){for(let n=0;n<t.length;n++)if(hr(t[n]))return n;return t.length}(u);let g=!1;for(let _=0;_<n.length;_++){const C=n[_];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!xe(t,C,i)||""===C&&1===n.length){if(Ce(a))return!1;g=!0}}else{const U=8&a?C:n[++_];if(8&a&&null!==t.attrs){if(!Eo(t.attrs,U,i)){if(Ce(a))return!1;g=!0}continue}const ee=pt(8&a?"class":C,u,Re(t),i);if(-1===ee){if(Ce(a))return!1;g=!0;continue}if(""!==U){let Fe;Fe=ee>h?"":u[ee+1].toLowerCase();const Je=8&a?Fe:null;if(Je&&-1!==ki(Je,U,0)||2&a&&U!==Fe){if(Ce(a))return!1;g=!0}}}}else{if(!g&&!Ce(a)&&!Ce(C))return!1;if(g&&Ce(C))continue;g=!1,a=C|1&a}}return Ce(a)||g}function Ce(t){return 0==(1&t)}function pt(t,n,i,a){if(null===n)return-1;let u=0;if(a||!i){let h=!1;for(;u<n.length;){const g=n[u];if(g===t)return u;if(3===g||6===g)h=!0;else{if(1===g||2===g){let _=n[++u];for(;"string"==typeof _;)_=n[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=h?1:2}return-1}return function Vn(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function Yt(t,n,i=!1){for(let a=0;a<n.length;a++)if(X(t,n[a],i))return!0;return!1}function Qn(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function li(t,n){return t?":not("+n.trim()+")":n}function Et(t){let n=t[0],i=1,a=2,u="",h=!1;for(;i<t.length;){let g=t[i];if("string"==typeof g)if(2&a){const _=t[++i];u+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!Ce(g)&&(n+=li(h,u),u=""),a=g,h=h||!Ce(a);i++}return""!==u&&(n+=li(h,u)),n}function Ze(t){return tn(()=>{var n;const i=ui(t),a={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,styles:t.styles||Jn,_:null,schemas:t.schemas||null,tView:null,id:""};ii(a);const u=t.dependencies;return a.directiveDefs=D(u,!1),a.pipeDefs=D(u,!0),a.id=function L(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function rt(t){return kt(t)||rn(t)}function It(t){return null!==t}function Ot(t){return tn(()=>({type:t.type,bootstrap:t.bootstrap||Jn,declarations:t.declarations||Jn,imports:t.imports||Jn,exports:t.exports||Jn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Wt(t,n){if(null==t)return Gn;const i={};for(const u in t)if(t.hasOwnProperty(u)){const h=t[u];let g,_,C=Mr.None;var a;Array.isArray(h)?(C=h[0],g=h[1],_=null!==(a=h[2])&&void 0!==a?a:g):(g=h,_=h),n?(i[g]=C!==Mr.None?[u,C]:u,n[g]=_):i[g]=u}return i}function un(t){return tn(()=>{const n=ui(t);return ii(n),n})}function en(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[Gt]||null}function rn(t){return t[_n]||null}function In(t){return t[ir]||null}function Pn(t){const n=kt(t)||rn(t)||In(t);return null!==n&&n.standalone}function or(t,n){const i=t[Hn]||null;if(!i&&!0===n)throw new Error(`Type ${Sn(t)} does not have '\u0275mod' property.`);return i}function ui(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Gn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Jn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wt(t.inputs,n),outputs:Wt(t.outputs),debugInfo:null}}function ii(t){var n;null===(n=t.features)||void 0===n||n.forEach(i=>i(t))}function D(t,n){if(!t)return null;const i=n?In:rt;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(It)}const re=0,Ne=1,Qt=2,Er=3,Zr=4,Yr=5,xi=6,Ko=7,Jr=8,Gi=9,uo=10,ur=11,co=12,Yo=13,hs=14,vi=15,Po=16,Yi=17,Qi=18,Fo=19,Ta=20,to=21,ta=22,xo=23,_r=25,Es=1,ji=7,Us=9,Si=10;var Co=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Co||{});function no(t){return Array.isArray(t)&&"object"==typeof t[Es]}function Li(t){return Array.isArray(t)&&!0===t[Es]}function Vo(t){return 0!=(4&t.flags)}function Qo(t){return t.componentOffset>-1}function $o(t){return 1==(1&t.flags)}function pi(t){return!!t.template}function Hi(t){return 0!=(512&t[Qt])}let bi=!1;function xr(t){for(;Array.isArray(t);)t=t[re];return t}function Gs(t,n){return xr(n[t])}function vo(t,n){return xr(n[t.index])}function Sa(t,n){return t.data[n]}function Do(t,n){const i=n[t];return no(i)?i:i[re]}function js(t){return 128==(128&t[Qt])}function wo(t,n){return null==n?null:t[n]}function Ss(t){t[Yi]=0}function Hs(t){1024&t[Qt]||(t[Qt]|=1024,js(t)&&ei(t))}function yo(t){var n;return!!(9216&t[Qt]||null!==(n=t[xo])&&void 0!==n&&n.dirty)}function ra(t){if(yo(t))ei(t);else if(64&t[Qt])if(function ho(){return bi}())t[Qt]|=1024,ei(t);else{var n;null===(n=t[uo].changeDetectionScheduler)||void 0===n||n.notify()}}function ei(t){var n;null===(n=t[uo].changeDetectionScheduler)||void 0===n||n.notify();let i=ro(t);for(;null!==i&&!(8192&i[Qt])&&(i[Qt]|=8192,js(i));)i=ro(i)}function Ra(t,n){if(256==(256&t[Qt]))throw new qt(911,!1);null===t[to]&&(t[to]=[]),t[to].push(n)}function ro(t){const n=t[Er];return Li(n)?n[Er]:n}const fr={lFrame:ti(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Uo(){return fr.bindingsEnabled}function Wi(){return null!==fr.skipHydrationRootTNode}function jt(){return fr.lFrame.lView}function jr(){return fr.lFrame.tView}function el(t){return fr.lFrame.contextLView=t,t[Jr]}function Pa(t){return fr.lFrame.contextLView=null,t}function oi(){let t=Bl();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bl(){return fr.lFrame.currentTNode}function gs(t,n){const i=fr.lFrame;i.currentTNode=t,i.isParent=n}function zs(){return fr.lFrame.isParent}function yl(){fr.lFrame.isParent=!1}function kr(){const t=fr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Di(){return fr.lFrame.bindingIndex++}function B(t,n){const i=fr.lFrame;i.bindingIndex=i.bindingRootIndex=t,_e(n)}function _e(t){fr.lFrame.currentDirectiveIndex=t}function mn(){return fr.lFrame.currentQueryIndex}function Xt(t){fr.lFrame.currentQueryIndex=t}function vt(t){const n=t[Ne];return 2===n.type?n.declTNode:1===n.type?t[Yr]:null}function Ut(t,n,i){if(i&Fn.SkipSelf){let u=n,h=t;for(;!(u=u.parent,null!==u||i&Fn.Host||(u=vt(h),null===u||(h=h[hs],10&u.type))););if(null===u)return!1;n=u,t=h}const a=fr.lFrame=Pr();return a.currentTNode=n,a.lView=t,!0}function Xn(t){const n=Pr(),i=t[Ne];fr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Pr(){const t=fr.lFrame,n=null===t?null:t.child;return null===n?ti(t):n}function ti(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Oi(){const t=fr.lFrame;return fr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ps=Oi;function es(){const t=Oi();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wi(){return fr.lFrame.selectedIndex}function Zi(t){fr.lFrame.selectedIndex=t}function Lr(){const t=fr.lFrame;return Sa(t.tView,t.selectedIndex)}let Ni=!0;function Ln(){return Ni}function Io(t){Ni=t}function zr(){return xs(oi(),jt())}function xs(t,n){return new Fr(vo(t,n))}let rs,Fr=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=zr,n})();function Mn(t){return t instanceof Fr?t.nativeElement:t}function qs(t,n){t.forEach(i=>Array.isArray(i)?qs(i,n):n(i))}function Gl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function ao(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Cr(t,n,i){let a=pa(t,n);return a>=0?t[1|a]=i:(a=~a,function xa(t,n,i,a){let u=t.length;if(u==n)t.push(i,a);else if(1===u)t.push(a,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function il(t,n){const i=pa(t,n);if(i>=0)return t[1|i]}function pa(t,n){return function ol(t,n,i){let a=0,u=t.length>>i;for(;u!==a;){const h=a+(u-a>>1),g=t[h<<i];if(n===g)return h<<i;g>n?u=h:a=h+1}return~(u<<i)}(t,n,1)}function bt(){return this._results[Symbol.iterator]()}class sl{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new vr}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=sl.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=bt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const a=function Oo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function rl(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],h=n[a];if(i&&(u=i(u),h=i(h)),h!==u)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ga(t){return 128==(128&t.flags)}function Bo(t){rs=t}function Ti(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Go(t){return{providers:t.providers||[],imports:t.imports||[]}}function vs(t){return To(t,w)||To(t,T)}function Su(t){return null!==vs(t)}function To(t,n){return t.hasOwnProperty(n)?t[n]:null}function y(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(V))?t[P]:null}const w=gt({\u0275prov:gt}),P=gt({\u0275inj:gt}),T=gt({ngInjectableDef:gt}),V=gt({ngInjectorDef:gt});class J{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ti({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ye=new J("",{providedIn:"root",factory:()=>yt}),yt="ng",an=new J(""),At=new J("",{providedIn:"platform",factory:()=>"unknown"}),Fi=new J("",{providedIn:"root",factory:()=>{var t;return(null===(t=function is(){if(void 0!==rs)return rs;if(typeof document<"u")return document;throw new qt(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),ma=gt({__forward_ref__:gt});function os(t){return t.__forward_ref__=os,t.toString=function(){return Sn(this())},t}function cr(t){return va(t)?t():t}function va(t){return"function"==typeof t&&t.hasOwnProperty(ma)&&t.__forward_ref__===os}function Cl(t){return t&&!!t.\u0275providers}function Yn(t){return"string"==typeof t?t:null==t?"":String(t)}function su(t,n){throw new qt(-201,!1)}let pc;function go(){return pc}function No(t){const n=pc;return pc=t,n}function Oa(t,n,i){const a=vs(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Fn.Optional?null:void 0!==n?n:void su()}const ya={},ka="__NG_DI_FLAG__",al="ngTempTokenPath",La=/\n/gm,ll="__source";let _s;function Xs(t){const n=_s;return _s=t,n}function Va(t,n=Fn.Default){if(void 0===_s)throw new qt(-203,!1);return null===_s?Oa(t,void 0,n):_s.get(t,n&Fn.Optional?null:void 0,n)}function Ao(t,n=Fn.Default){return(go()||Va)(cr(t),n)}function Qr(t,n=Fn.Default){return Ao(t,wl(n))}function wl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zs(t){const n=[];for(let i=0;i<t.length;i++){const a=cr(t[i]);if(Array.isArray(a)){if(0===a.length)throw new qt(900,!1);let u,h=Fn.Default;for(let g=0;g<a.length;g++){const _=a[g],C=Ia(_);"number"==typeof C?-1===C?u=_.token:h|=C:u=_}n.push(Ao(u,h))}else n.push(Ao(a))}return n}function cl(t,n){return t[ka]=n,t.prototype[ka]=n,t}function Ia(t){return t[ka]}let Lu=()=>null;function cu(t,n,i=!1){return Lu(t,n,i)}const ni="__parameters__";function hi(t,n,i){return tn(()=>{const a=function Wr(t){return function(...i){if(t){const a=t(...i);for(const u in a)this[u]=a[u]}}}(n);function u(...h){if(this instanceof u)return a.apply(this,h),this;const g=new u(...h);return _.annotation=g,_;function _(C,U,Q){const ee=C.hasOwnProperty(ni)?C[ni]:Object.defineProperty(C,ni,{value:[]})[ni];for(;ee.length<=Q;)ee.push(null);return(ee[Q]=ee[Q]||[]).push(g),C}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}const ar=cl(hi("Optional"),8),$i=cl(hi("SkipSelf"),4);function ko(t,n){return t.hasOwnProperty(er)?t[er]:null}const Ga=new J(""),bl=new J("",-1),Wl=new J("");class zl{get(n,i=ya){if(i===ya){const a=new Error(`NullInjectorError: No provider for ${Sn(n)}!`);throw a.name="NullInjectorError",a}return i}}function Sh(...t){return{\u0275providers:ja(0,t),\u0275fromNgModule:!0}}function ja(t,...n){const i=[],a=new Set;let u;const h=g=>{i.push(g)};return qs(n,g=>{const _=g;ss(_,h,[],a)&&(u||(u=[]),u.push(_))}),void 0!==u&&Rh(u,h),i}function Rh(t,n){for(let i=0;i<t.length;i++){const{ngModule:a,providers:u}=t[i];hu(u,h=>{n(h,a)})}}function ss(t,n,i,a){if(!(t=cr(t)))return!1;let u=null,h=y(t);const g=!h&&kt(t);if(h||g){if(g&&!g.standalone)return!1;u=t}else{const C=t.ngModule;if(h=y(C),!h)return!1;u=C}const _=a.has(u);if(g){if(_)return!1;if(a.add(u),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const U of C)ss(U,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let U;a.add(u);try{qs(h.imports,Q=>{ss(Q,n,i,a)&&(U||(U=[]),U.push(Q))})}finally{}void 0!==U&&Rh(U,n)}if(!_){const U=ko(u)||(()=>new u);n({provide:u,useFactory:U,deps:Jn},u),n({provide:Wl,useValue:u,multi:!0},u),n({provide:Ga,useValue:()=>Ao(u),multi:!0},u)}const C=h.providers;if(null!=C&&!_){const U=t;hu(C,Q=>{n(Q,U)})}}}return u!==t&&void 0!==t.providers}function hu(t,n){for(let i of t)Cl(i)&&(i=i.\u0275providers),Array.isArray(i)?hu(i,n):n(i)}const Pd=gt({provide:String,useValue:gt});function Ca(t){return null!==t&&"object"==typeof t&&Pd in t}function I(t){return"function"==typeof t}const m=new J(""),b={},Y={};let ge;function dt(){return void 0===ge&&(ge=new zl),ge}class Lt{}class cn extends Lt{get destroyed(){return this._destroyed}constructor(n,i,a,u){super(),this.parent=i,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Al(n,g=>this.processProvider(g)),this.records.set(bl,Lo(void 0,this)),u.has("environment")&&this.records.set(Lt,Lo(void 0,this));const h=this.records.get(m);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Wl,Jn,Fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Xs(this),a=No(void 0);try{return n()}finally{Xs(i),No(a)}}get(n,i=ya,a=Fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ar))return n[Ar](this);a=wl(a);const h=Xs(this),g=No(void 0);try{if(!(a&Fn.SkipSelf)){let C=this.records.get(n);if(void 0===C){const U=function Kc(t){return"function"==typeof t||"object"==typeof t&&t instanceof J}(n)&&vs(n);C=U&&this.injectableDefInScope(U)?Lo(nr(n),b):null,this.records.set(n,C)}if(null!=C)return this.hydrate(n,C)}return(a&Fn.Self?dt():this.parent).get(n,i=a&Fn.Optional&&i===ya?null:i)}catch(_){if("NullInjectorError"===_.name){if((_[al]=_[al]||[]).unshift(Sn(n)),h)throw _;return function xu(t,n,i,a){const u=t[al];throw n[ll]&&u.unshift(n[ll]),t.message=function au(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Sn(n);if(Array.isArray(n))u=n.map(Sn).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let _=n[g];h.push(g+":"+("string"==typeof _?JSON.stringify(_):Sn(_)))}u=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${u}]: ${t.replace(La,"\n  ")}`}("\n"+t.message,u,i,a),t.ngTokenPath=u,t[al]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{No(g),Xs(h)}}resolveInjectorInitializers(){const n=Xs(this),i=No(void 0);try{const u=this.get(Ga,Jn,Fn.Self);for(const h of u)h()}finally{Xs(n),No(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(Sn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(n){let i=I(n=cr(n))?n:cr(n&&n.provide);const a=function ri(t){return Ca(t)?Lo(void 0,t.useValue):Lo(So(t),b)}(n);if(!I(n)&&!0===n.multi){let u=this.records.get(i);u||(u=Lo(void 0,b,!0),u.factory=()=>Zs(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===b&&(i.value=Y,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ql(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=cr(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function nr(t){const n=vs(t),i=null!==n?n.factory:ko(t);if(null!==i)return i;if(t instanceof J)throw new qt(204,!1);if(t instanceof Function)return function dr(t){if(t.length>0)throw new qt(204,!1);const i=function zc(t){return t&&(t[w]||t[T])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new qt(204,!1)}function So(t,n,i){let a;if(I(t)){const u=cr(t);return ko(u)||nr(u)}if(Ca(t))a=()=>cr(t.useValue);else if(function Fu(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Zs(t.deps||[]));else if(function xd(t){return!(!t||!t.useExisting)}(t))a=()=>Ao(cr(t.useExisting));else{const u=cr(t&&(t.useClass||t.provide));if(!function yc(t){return!!t.deps}(t))return ko(u)||nr(u);a=()=>new u(...Zs(t.deps))}return a}function Lo(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Al(t,n){for(const i of t)Array.isArray(i)?Al(i,n):i&&Cl(i)?Al(i.\u0275providers,n):n(i)}function Od(t,n){t instanceof cn&&t.assertNotDestroyed();const a=Xs(t),u=No(void 0);try{return n()}finally{Xs(a),No(u)}}class Mm{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ec(t,n,i,a){null!==n?n.applyValueToInputSignal(n,a):t[i]=a}function Fd(){return xh}function xh(t){return t.type.prototype.ngOnChanges&&(t.setInput=Op),xp}function xp(){const t=xm(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Gn)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Op(t,n,i,a,u){const h=this.declaredInputs[a],g=xm(t)||function Wo(t,n){return t[Pm]=n}(t,{previous:Gn,current:null}),_=g.current||(g.current={}),C=g.previous,U=C[h];_[h]=new Mm(U&&U.currentValue,i,C===Gn),Ec(t,n,u,i)}Fd.ngInherit=!0;const Pm="__ngSimpleChanges__";function xm(t){return t[Pm]||null}const Sl=function(t,n,i){};function Vd(t,n){for(let U=n.directiveStart,Q=n.directiveEnd;U<Q;U++){const Fe=t.data[U].type.prototype,{ngAfterContentInit:Je,ngAfterContentChecked:St,ngAfterViewInit:Jt,ngAfterViewChecked:gn,ngOnDestroy:On}=Fe;var i,a,u,h,g,_,C;Je&&(null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(-U,Je),St&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(U,St),(null!==(u=t.contentCheckHooks)&&void 0!==u?u:t.contentCheckHooks=[]).push(U,St)),Jt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-U,Jt),gn&&((null!==(g=t.viewHooks)&&void 0!==g?g:t.viewHooks=[]).push(U,gn),(null!==(_=t.viewCheckHooks)&&void 0!==_?_:t.viewCheckHooks=[]).push(U,gn)),null!=On&&(null!==(C=t.destroyHooks)&&void 0!==C?C:t.destroyHooks=[]).push(U,On)}}function Nh(t,n,i){Lh(t,n,3,i)}function $d(t,n,i,a){(3&t[Qt])===i&&Lh(t,n,i,a)}function kh(t,n){let i=t[Qt];(3&i)===n&&(i&=16383,i+=1,t[Qt]=i)}function Lh(t,n,i,a){const h=null!=a?a:-1,g=n.length-1;let _=0;for(let C=void 0!==a?65535&t[Yi]:0;C<g;C++)if("number"==typeof n[C+1]){if(_=n[C],null!=a&&_>=a)break}else n[C]<0&&(t[Yi]+=65536),(_<h||-1==h)&&(Ud(t,i,n,C),t[Yi]=(4294901760&t[Yi])+C+2),C++}function Qc(t,n){Sl(4,t,n);const i=ae(null);try{n.call(t)}finally{ae(i),Sl(5,t,n)}}function Ud(t,n,i,a){const u=i[a]<0,h=i[a+1],_=t[u?-i[a]:i[a]];u?t[Qt]>>14<t[Yi]>>16&&(3&t[Qt])===n&&(t[Qt]+=16384,Qc(_,h)):Qc(_,h)}const Kl=-1;class Uu{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Np(t){return t!==Kl}function Bd(t){return 32767&t}function Cc(t,n){let i=function dy(t){return t>>16}(t),a=n;for(;i>0;)a=a[hs],i--;return a}let Bu=!0;function Gd(t){const n=Bu;return Bu=t,n}const Ro=255,Vh=5;let kp=0;const Rl={};function Wa(t,n){const i=Lp(t,n);if(-1!==i)return i;const a=n[Ne];a.firstCreatePass&&(t.injectorIndex=n.length,$h(a.data,t),$h(n,null),$h(a.blueprint,null));const u=Xc(t,n),h=t.injectorIndex;if(Np(u)){const g=Bd(u),_=Cc(u,n),C=_[Ne].data;for(let U=0;U<8;U++)n[h+U]=_[g+U]|C[g+U]}return n[h+8]=u,h}function $h(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Lp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Xc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,u=n;for(;null!==u;){if(a=Gm(u),null===a)return Kl;if(i++,u=u[hs],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return Kl}function Uh(t,n,i){!function jd(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Br)&&(a=i[Br]),null==a&&(a=i[Br]=kp++);const u=a&Ro;n.data[t+(u>>Vh)]|=1<<u}(t,n,i)}function Fp(t,n,i){if(i&Fn.Optional||void 0!==t)return t;su()}function Vm(t,n,i,a){if(i&Fn.Optional&&void 0===a&&(a=null),!(i&(Fn.Self|Fn.Host))){const u=t[Gi],h=No(void 0);try{return u?u.get(n,a,i&Fn.Optional):Oa(n,a,i&Fn.Optional)}finally{No(h)}}return Fp(a,0,i)}function $m(t,n,i,a=Fn.Default,u){if(null!==t){if(2048&n[Qt]&&!(a&Fn.Self)){const g=function Bm(t,n,i,a,u){let h=t,g=n;for(;null!==h&&null!==g&&2048&g[Qt]&&!(512&g[Qt]);){const _=Zc(h,g,i,a|Fn.Self,Rl);if(_!==Rl)return _;let C=h.parent;if(!C){const U=g[Ta];if(U){const Q=U.get(i,Rl,a);if(Q!==Rl)return Q}C=Gm(g),g=g[hs]}h=C}return u}(t,n,i,a,Rl);if(g!==Rl)return g}const h=Zc(t,n,i,a,Rl);if(h!==Rl)return h}return Vm(n,i,a,u)}function Zc(t,n,i,a,u){const h=function $p(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Br)?t[Br]:void 0;return"number"==typeof n?n>=0?n&Ro:hy:n}(i);if("function"==typeof h){if(!Ut(n,t,a))return a&Fn.Host?Fp(u,0,a):Vm(n,i,a,u);try{let g;if(g=h(a),null!=g||a&Fn.Optional)return g;su()}finally{Ps()}}else if("number"==typeof h){let g=null,_=Lp(t,n),C=Kl,U=a&Fn.Host?n[vi][Yr]:null;for((-1===_||a&Fn.SkipSelf)&&(C=-1===_?Xc(t,n):n[_+8],C!==Kl&&Um(a,!1)?(g=n[Ne],_=Bd(C),n=Cc(C,n)):_=-1);-1!==_;){const Q=n[Ne];if(Up(h,_,Q.data)){const ee=Vp(_,n,i,g,a,U);if(ee!==Rl)return ee}C=n[_+8],C!==Kl&&Um(a,n[Ne].data[_+8]===U)&&Up(h,_,n)?(g=Q,_=Bd(C),n=Cc(C,n)):_=-1}}return u}function Vp(t,n,i,a,u,h){const g=n[Ne],_=g.data[t+8],Q=Bh(_,g,i,null==a?Qo(_)&&Bu:a!=g&&0!=(3&_.type),u&Fn.Host&&h===_);return null!==Q?Gu(n,g,Q,_):Rl}function Bh(t,n,i,a,u){const h=t.providerIndexes,g=n.data,_=1048575&h,C=t.directiveStart,Q=h>>20,Fe=u?_+Q:t.directiveEnd;for(let Je=a?_:_+Q;Je<Fe;Je++){const St=g[Je];if(Je<C&&i===St||Je>=C&&St.type===i)return Je}if(u){const Je=g[C];if(Je&&pi(Je)&&Je.type===i)return C}return null}function Gu(t,n,i,a){let u=t[i];const h=n.data;if(function Nm(t){return t instanceof Uu}(u)){const g=u;g.resolving&&function Pu(t,n){throw n&&n.join(" > "),new qt(-200,t)}(function Hr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Yn(t)}(h[i]));const _=Gd(g.canSeeViewProviders);g.resolving=!0;const U=g.injectImpl?No(g.injectImpl):null;Ut(t,a,Fn.Default);try{u=t[i]=g.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Oh(t,n,i){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=n.type.prototype;if(a){var g,_;const ee=xh(n);(null!==(g=i.preOrderHooks)&&void 0!==g?g:i.preOrderHooks=[]).push(t,ee),(null!==(_=i.preOrderCheckHooks)&&void 0!==_?_:i.preOrderCheckHooks=[]).push(t,ee)}var C,U,Q;u&&(null!==(C=i.preOrderHooks)&&void 0!==C?C:i.preOrderHooks=[]).push(0-t,u),h&&((null!==(U=i.preOrderHooks)&&void 0!==U?U:i.preOrderHooks=[]).push(t,h),(null!==(Q=i.preOrderCheckHooks)&&void 0!==Q?Q:i.preOrderCheckHooks=[]).push(t,h))}(i,h[i],n)}finally{null!==U&&No(U),Gd(_),g.resolving=!1,Ps()}}return u}function Up(t,n,i){return!!(i[n+(t>>Vh)]&1<<t)}function Um(t,n){return!(t&Fn.Self||t&Fn.Host&&n)}class as{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return $m(this._tNode,this._lView,n,wl(a),i)}}function hy(){return new as(oi(),jt())}function gu(t){return tn(()=>{const n=t.prototype.constructor,i=n[er]||ju(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const h=u[er]||ju(u);if(h&&h!==i)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function ju(t){return va(t)?()=>{const n=ju(cr(t));return n&&n()}:ko(t)}function Gm(t){const n=t[Ne],i=n.type;return 2===i?n.declTNode:1===i?t[Yr]:null}function Gh(t){return function Fm(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let u=0;for(;u<a;){const h=i[u];if(hr(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof i[u];)u++;else{if(h===n)return i[u+1];u+=2}}}return null}(oi(),t)}function Wm(t,n=null,i=null,a){const u=Hp(t,n,i,a);return u.resolveInjectorInitializers(),u}function Hp(t,n=null,i=null,a,u=new Set){const h=[i||Jn,Sh(t)];return a=a||("object"==typeof t?void 0:Sn(t)),new cn(h,n||dt(),a||null,u)}let Da=(()=>{var t;class n{static create(a,u){if(Array.isArray(a))return Wm({name:""},u,a,"");{var h;const g=null!==(h=a.name)&&void 0!==h?h:"";return Wm({name:g},a.parent,a.providers,g)}}}return(t=n).THROW_IF_NOT_FOUND=ya,t.NULL=new zl,t.\u0275prov=Ti({token:t,providedIn:"any",factory:()=>Ao(bl)}),t.__NG_ELEMENT_ID__=-1,n})();function vu(t){return t.ngOriginalError}class Hu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&vu(n);for(;i&&vu(i);)i=vu(i);return i||null}}const Wp=new J("",{providedIn:"root",factory:()=>Qr(Hu).handleError.bind(void 0)}),qm=new J("",{providedIn:"root",factory:()=>!1});let zh;function Kh(t){var n;return(null===(n=function qd(){if(void 0===zh&&(zh=null,Vt.trustedTypes))try{zh=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zh}())||void 0===n?void 0:n.createScriptURL(t))||t}class Yh{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hn})`}}function zu(t){return t instanceof Yh?t.changingThisBreaksApplicationSecurity:t}function td(t,n){const i=function nd(t){return t instanceof Yh&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${hn})`)}return i===n}const qu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var rd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rd||{});function Zp(t){const n=Yu();return n?n.sanitize(rd.URL,t)||"":td(t,"URL")?zu(t):function Ku(t){return(t=String(t)).match(qu)?t:"unsafe:"+t}(Yn(t))}function rf(t){const n=Yu();if(n)return Kh(n.sanitize(rd.RESOURCE_URL,t)||"");if(td(t,"ResourceURL"))return Kh(zu(t));throw new qt(904,!1)}function rv(t,n,i){return function Ty(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?rf:Zp}(n,i)(t)}function Yu(){const t=jt();return t&&t[uo].sanitizer}const sf=/^>|^->|<!--|-->|--!>|<!-$/g,by=/(<|>)/g,ov="\u200b$1\u200b";const Zd=new Map;let Ay=0;const cf="__ngContext__";function Js(t,n){no(n)?(t[cf]=n[Fo],function Sy(t){Zd.set(t[Fo],t)}(n)):t[cf]=n}function da(t){return t instanceof Function?t():t}var sd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sd||{});let Qu;function th(t,n){return Qu(t,n)}function Jl(t,n,i,a,u){if(null!=a){let h,g=!1;Li(a)?h=a:no(a)&&(g=!0,a=a[re]);const _=xr(a);0===t&&null!==i?null==u?dg(n,i,_):Oc(n,i,_,u||null,!0):1===t&&null!==i?Oc(n,i,_,u||null,!0):2===t?function Pl(t,n,i){const a=vf(t,n);a&&function ky(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,_,g):3===t&&n.destroyNode(_),null!=h&&function Ly(t,n,i,a,u){const h=i[ji];h!==xr(i)&&Jl(n,t,a,h,u);for(let _=Si;_<i.length;_++){const C=i[_];Iu(C[Ne],C,t,n,a,h)}}(n,t,h,i,u)}}function nh(t,n){return t.createComment(function af(t){return t.replace(sf,n=>n.replace(by,ov))}(n))}function ld(t,n,i){return t.createElement(n,i)}function Dv(t,n){Iu(t,n,n[ur],2,null,null)}function wv(t,n){const i=t[Us],a=i.indexOf(n);i.splice(a,1)}function Pc(t,n){if(t.length<=Si)return;const i=Si+n,a=t[i];if(a){const u=a[Po];null!==u&&u!==t&&wv(u,a),n>0&&(t[i-1][Zr]=a[Zr]);const h=ao(t,Si+n);!function Xu(t,n){Dv(t,n),n[re]=null,n[Yr]=null}(a[Ne],a);const g=h[Qi];null!==g&&g.detachView(h[Ne]),a[Er]=null,a[Zr]=null,a[Qt]&=-129}return a}function xc(t,n){if(!(256&n[Qt])){const i=n[ur];i.destroyNode&&Iu(t,n,i,3,null,null),function ug(t){let n=t[co];if(!n)return rh(t[Ne],t);for(;n;){let i=null;if(no(n))i=n[co];else{const a=n[Si];a&&(i=a)}if(!i){for(;n&&!n[Zr]&&n!==t;)no(n)&&rh(n[Ne],n),n=n[Er];null===n&&(n=t),no(n)&&rh(n[Ne],n),i=n&&n[Zr]}n=i}}(n)}}function rh(t,n){if(!(256&n[Qt])){n[Qt]&=-129,n[Qt]|=256,n[xo]&&function We(t){if(me(t),ot(t))for(let n=0;n<t.producerNode.length;n++)Qe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[xo]),function ud(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const u=n[i[a]];if(!(u instanceof Uu)){const h=i[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const _=u[h[g]],C=h[g+1];Sl(4,_,C);try{C.call(_)}finally{Sl(5,_,C)}}else{Sl(4,u,h);try{h.call(u)}finally{Sl(5,u,h)}}}}}(t,n),function Tv(t,n){const i=t.cleanup,a=n[Ko];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const g=i[h+3];g>=0?a[g]():a[-g].unsubscribe(),h+=2}else i[h].call(a[i[h+1]]);null!==a&&(n[Ko]=null);const u=n[to];if(null!==u){n[to]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,n),1===n[Ne].type&&n[ur].destroy();const i=n[Po];if(null!==i&&Li(n[Er])){i!==n[Er]&&wv(i,n);const a=n[Qi];null!==a&&a.detachView(t)}!function av(t){Zd.delete(t[Fo])}(n)}}function ih(t,n,i){return function bv(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[re];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=t.data[a.directiveStart+u];if(h===xt.None||h===xt.Emulated)return null}return vo(a,i)}}(t,n.parent,i)}function Oc(t,n,i,a,u){t.insertBefore(n,i,a,u)}function dg(t,n,i){t.appendChild(n,i)}function hg(t,n,i,a,u){null!==a?Oc(t,n,i,a,u):dg(t,n,i)}function vf(t,n){return t.parentNode(n)}function Sv(t,n,i){return Rv(t,n,i)}let oh,Rv=function _f(t,n,i){return 40&t.type?vo(t,i):null};function cd(t,n,i,a){const u=ih(t,a,n),h=n[ur],_=Sv(a.parent||n[Yr],a,n);if(null!=u)if(Array.isArray(i))for(let C=0;C<i.length;C++)hg(h,u,i[C],_,!1);else hg(h,u,i,_,!1);void 0!==oh&&oh(h,a,n,i,u)}function Nc(t,n){if(null!==n){const i=n.type;if(3&i)return vo(n,t);if(4&i)return Zu(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Nc(t,a);{const u=t[n.index];return Li(u)?Zu(-1,u):xr(u)}}if(32&i)return th(n,t)()||xr(t[n.index]);{const a=yf(t,n);return null!==a?Array.isArray(a)?a[0]:Nc(ro(t[vi]),a):Nc(t,n.next)}}return null}function yf(t,n){return null!==n?t[vi][Yr].projection[n.projection]:null}function Zu(t,n){const i=Si+t+1;if(i<n.length){const a=n[i],u=a[Ne].firstChild;if(null!==u)return Nc(a,u)}return n[ji]}function Ju(t,n,i,a,u,h,g){for(;null!=i;){const _=a[i.index],C=i.type;if(g&&0===n&&(_&&Js(xr(_),a),i.flags|=2),32!=(32&i.flags))if(8&C)Ju(t,n,i.child,a,u,h,!1),Jl(n,t,u,_,h);else if(32&C){const U=th(i,a);let Q;for(;Q=U();)Jl(n,t,u,Q,h);Jl(n,t,u,_,h)}else 16&C?kc(t,n,a,i,u,h):Jl(n,t,u,_,h);i=g?i.projectionNext:i.next}}function Iu(t,n,i,a,u,h){Ju(i,a,t.firstChild,n,u,h,!1)}function kc(t,n,i,a,u,h){const g=i[vi],C=g[Yr].projection[a.projection];if(Array.isArray(C))for(let U=0;U<C.length;U++)Jl(n,t,u,C[U],h);else{let U=C;const Q=g[Er];ga(a)&&(U.flags|=128),Ju(t,n,U,Q,u,h,!0)}}function Ef(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Cf(t,n,i){const{mergedAttrs:a,classes:u,styles:h}=i;null!==a&&so(t,n,a),null!==u&&Ef(t,n,u),null!==h&&function gg(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}const Or={};function Pv(t=1){xv(jr(),jt(),wi()+t,!1)}function xv(t,n,i,a){if(!a)if(3==(3&n[Qt])){const h=t.preOrderCheckHooks;null!==h&&Nh(n,h,i)}else{const h=t.preOrderHooks;null!==h&&$d(n,h,0,i)}Zi(i)}function ec(t,n=Fn.Default){const i=jt();return null===i?Ao(t,n):$m(oi(),i,cr(t),n)}function Df(){throw new Error("invalid")}function Ov(t,n,i,a,u,h){const g=ae(null);try{let _=null;u&Mr.SignalBased&&(_=n[a][ce]),null!==_&&void 0!==_.transformFn&&(h=_.transformFn(h)),u&Mr.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,_,h,i,a):Ec(n,_,a,h)}finally{ae(g)}}function wf(t,n,i,a,u,h,g,_,C,U,Q){const ee=n.blueprint.slice();return ee[re]=u,ee[Qt]=204|a,(null!==U||t&&2048&t[Qt])&&(ee[Qt]|=2048),Ss(ee),ee[Er]=ee[hs]=t,ee[Jr]=i,ee[uo]=g||t&&t[uo],ee[ur]=_||t&&t[ur],ee[Gi]=C||t&&t[Gi]||null,ee[Yr]=h,ee[Fo]=function sv(){return Ay++}(),ee[xi]=Q,ee[Ta]=U,ee[vi]=2==n.type?t[vi]:ee,ee}function Lc(t,n,i,a,u){let h=t.data[n];if(null===h)h=function Tf(t,n,i,a,u){const h=Bl(),g=zs(),C=t.data[n]=function Dg(t,n,i,a,u,h){let g=n?n.injectorIndex:-1,_=0;return Wi()&&(_|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,i,n,a,u);return null===t.firstChild&&(t.firstChild=C),null!==h&&(g?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C,C.prev=h)),C}(t,n,i,a,u),function M(){return fr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=a,h.attrs=u;const g=function oa(){const t=fr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return gs(h,!0),h}function dd(t,n,i,a){if(0===i)return-1;const u=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function mg(t,n,i,a,u){const h=wi(),g=2&a;try{Zi(-1),g&&n.length>_r&&xv(t,n,_r,!1),Sl(g?2:0,u),i(a,u)}finally{Zi(h),Sl(g?3:1,u)}}function vg(t,n,i){if(Vo(n)){const a=ae(null);try{const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const _=t.data[g];_.contentQueries&&_.contentQueries(1,i[g],g)}}finally{ae(a)}}}function _g(t,n,i){Uo()&&(function Vv(t,n,i,a){const u=i.directiveStart,h=i.directiveEnd;Qo(i)&&function Wy(t,n,i){const a=vo(n,t),u=kv(i);let g=16;i.signals?g=4096:i.onPush&&(g=64);const _=fd(t,wf(t,u,null,g,a,n,null,t[uo].rendererFactory.createRenderer(a,i),null,null,null));t[n.index]=_}(n,i,t.data[u+i.componentOffset]),t.firstCreatePass||Wa(i,n),Js(a,n);const g=i.initialInputs;for(let _=u;_<h;_++){const C=t.data[_],U=Gu(n,t,_,i);Js(U,n),null!==g&&xg(0,_-u,U,C,0,g),pi(C)&&(Do(i.index,n)[Jr]=Gu(n,t,_,i))}}(t,n,i,vo(i,n)),64==(64&i.flags)&&Sf(t,n,i))}function yg(t,n,i=vo){const a=n.localNames;if(null!==a){let u=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],_=-1===g?i(n,t):t[g];t[u++]=_}}}function kv(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=sh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function sh(t,n,i,a,u,h,g,_,C,U,Q){const ee=_r+a,Fe=ee+u,Je=function Ig(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:Or);return i}(ee,Fe),St="function"==typeof U?U():U;return Je[Ne]={type:t,blueprint:Je,template:i,queries:null,viewQuery:_,declTNode:n,data:Je.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:St,incompleteFirstPass:!1,ssrId:Q}}let bf=()=>null;function wg(t,n,i,a,u){for(let g in n){var h;if(!n.hasOwnProperty(g))continue;const _=n[g];if(void 0===_)continue;null!==(h=a)&&void 0!==h||(a={});let C,U=Mr.None;Array.isArray(_)?(C=_[0],U=_[1]):C=_;let Q=g;if(null!==u){if(!u.hasOwnProperty(g))continue;Q=u[g]}0===t?Fv(a,i,Q,C,U):Fv(a,i,Q,C)}return a}function Fv(t,n,i,a,u){let h;t.hasOwnProperty(i)?(h=t[i]).push(n,a):h=t[i]=[n,a],void 0!==u&&h.push(u)}function ah(t,n,i,a){if(Uo()){const u=null===a?null:{"":-1},h=function Sg(t,n){const i=t.directiveRegistry;let a=null,u=null;if(i)for(let g=0;g<i.length;g++){const _=i[g];if(Yt(n,_.selectors,!1))if(a||(a=[]),pi(_))if(null!==_.findHostDirectiveDefs){const C=[];u=u||new Map,_.findHostDirectiveDefs(_,C,u),a.unshift(...C,_),xl(t,n,C.length)}else a.unshift(_),xl(t,n,0);else{var h;u=u||new Map,null===(h=_.findHostDirectiveDefs)||void 0===h||h.call(_,_,a,u),a.push(_)}}return null===a?null:[a,u]}(t,i);let g,_;null===h?g=_=null:[g,_]=h,null!==g&&Af(t,n,i,g,u,_),u&&function Rg(t,n,i){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const h=i[n[u+1]];if(null==h)throw new qt(-301,!1);a.push(n[u],h)}}}(i,a,u)}i.mergedAttrs=Ci(i.mergedAttrs,i.attrs)}function Af(t,n,i,a,u,h){for(let ee=0;ee<a.length;ee++)Uh(Wa(i,n),t,a[ee].type);!function Mg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,a.length);for(let ee=0;ee<a.length;ee++){const Fe=a[ee];Fe.providersResolver&&Fe.providersResolver(Fe)}let g=!1,_=!1,C=dd(t,n,a.length,null);for(let ee=0;ee<a.length;ee++){const Fe=a[ee];i.mergedAttrs=Ci(i.mergedAttrs,Fe.hostAttrs),Hy(t,i,n,C,Fe),jy(C,Fe,u),null!==Fe.contentQueries&&(i.flags|=4),(null!==Fe.hostBindings||null!==Fe.hostAttrs||0!==Fe.hostVars)&&(i.flags|=64);const Je=Fe.type.prototype;var U,Q;!g&&(Je.ngOnChanges||Je.ngOnInit||Je.ngDoCheck)&&((null!==(U=t.preOrderHooks)&&void 0!==U?U:t.preOrderHooks=[]).push(i.index),g=!0),_||!Je.ngOnChanges&&!Je.ngDoCheck||((null!==(Q=t.preOrderCheckHooks)&&void 0!==Q?Q:t.preOrderCheckHooks=[]).push(i.index),_=!0),C++}!function Tg(t,n,i){const u=n.directiveEnd,h=t.data,g=n.attrs,_=[];let C=null,U=null;for(let Q=n.directiveStart;Q<u;Q++){const ee=h[Q],Fe=i?i.get(ee):null,St=Fe?Fe.outputs:null;C=wg(0,ee.inputs,Q,C,Fe?Fe.inputs:null),U=wg(1,ee.outputs,Q,U,St);const Jt=null===C||null===g||Re(n)?null:zy(C,Q,g);_.push(Jt)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=8),C.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=C,n.outputs=U}(t,i,h)}function Sf(t,n,i){const a=i.directiveStart,u=i.directiveEnd,h=i.index,g=function ue(){return fr.lFrame.currentDirectiveIndex}();try{Zi(h);for(let _=a;_<u;_++){const C=t.data[_],U=n[_];_e(_),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Gy(C,U)}}finally{Zi(-1),_e(g)}}function Gy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function xl(t,n,i){var a;n.componentOffset=i,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function jy(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;pi(n)&&(i[""]=t)}}function Hy(t,n,i,a,u){t.data[a]=u;const h=u.factory||(u.factory=ko(u.type)),g=new Uu(h,pi(u),ec);t.blueprint[a]=g,i[a]=g,function Ag(t,n,i,a,u){const h=u.hostBindings;if(h){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const _=~n.index;(function hd(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(g)!=_&&g.push(_),g.push(i,a,h)}}(t,n,a,dd(t,i,u.hostVars,Or),u)}function hl(t,n,i,a,u,h){const g=vo(t,n);!function Pg(t,n,i,a,u,h,g){if(null==h)t.removeAttribute(n,u,i);else{const _=null==g?Yn(h):g(h,a||"",u);t.setAttribute(n,u,_,i)}}(n[ur],g,h,t.value,i,a,u)}function xg(t,n,i,a,u,h){const g=h[n];if(null!==g)for(let _=0;_<g.length;)Ov(a,i,g[_++],g[_++],g[_++],g[_++])}function zy(t,n,i){let a=null,u=0;for(;u<i.length;){const h=i[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const g=t[h];for(let _=0;_<g.length;_+=3)if(g[_]===n){a.push(h,g[_+1],g[_+2],i[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function Rf(t,n,i,a){return[t,!0,0,n,null,a,null,i,null,null]}function $v(t,n){const i=t.contentQueries;if(null!==i){const a=ae(null);try{for(let u=0;u<i.length;u+=2){const g=i[u+1];if(-1!==g){const _=t.data[g];Xt(i[u]),_.contentQueries(2,n[g],g)}}}finally{ae(a)}}}function fd(t,n){return t[co]?t[Yo][Zr]=n:t[co]=n,t[Yo]=n,n}function Mf(t,n,i){Xt(0);const a=ae(null);try{n(t,i)}finally{ae(a)}}function Og(t){return t[Ko]||(t[Ko]=[])}function Bv(t){return t.cleanup||(t.cleanup=[])}function pd(t,n){const i=t[Gi],a=i?i.get(Hu,null):null;a&&a.handleError(n)}function Ng(t,n,i,a,u){for(let h=0;h<i.length;){const g=i[h++],_=i[h++],C=i[h++];Ov(t.data[g],n[g],a,_,C,u)}}function kg(t,n){const i=Do(n,t),a=i[Ne];!function Lg(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(a,i);const u=i[re];null!==u&&null===i[xi]&&(i[xi]=cu(u,i[Gi])),Fg(a,i,i[Jr])}function Fg(t,n,i){Xn(n);try{var a;const u=t.viewQuery;null!==u&&Mf(1,u,i);const h=t.template;null!==h&&mg(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[Qi])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&$v(t,n),t.staticViewQueries&&Mf(2,t.viewQuery,i);const g=t.components;null!==g&&function gd(t,n){for(let i=0;i<n.length;i++)kg(t,n[i])}(n,g)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[Qt]&=-5,es()}}function Fc(t,n){return!n||null===n.firstChild||ga(t)}function eu(t,n,i,a=!0){const u=n[Ne];if(function Ny(t,n,i,a){const u=Si+a,h=i.length;a>0&&(i[u-1][Zr]=n),a<h-Si?(n[Zr]=i[u],Gl(i,Si+a,n)):(i.push(n),n[Zr]=null),n[Er]=i;const g=n[Po];null!==g&&i!==g&&function cg(t,n){const i=t[Us];n[vi]!==n[Er][Er][vi]&&(t[Qt]|=Co.HasTransplantedViews),null===i?t[Us]=[n]:i.push(n)}(g,n);const _=n[Qi];null!==_&&_.insertView(t),ra(n),n[Qt]|=128}(u,n,t,i),a){const g=Zu(i,t),_=n[ur],C=vf(_,t[ji]);null!==C&&function Cv(t,n,i,a,u,h){a[re]=u,a[Yr]=n,Iu(t,a,i,1,u,h)}(u,t[Yr],_,n,C,g)}const h=n[xi];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function tc(t,n,i,a,u=!1){for(;null!==i;){const h=n[i.index];null!==h&&a.push(xr(h)),Li(h)&&jv(h,a);const g=i.type;if(8&g)tc(t,n,i.child,a);else if(32&g){const _=th(i,n);let C;for(;C=_();)a.push(C)}else if(16&g){const _=yf(n,i);if(Array.isArray(_))a.push(..._);else{const C=ro(n[vi]);tc(C[Ne],C,_,a,!0)}}i=u?i.projectionNext:i.next}return a}function jv(t,n){for(let i=Si;i<t.length;i++){const a=t[i],u=a[Ne].firstChild;null!==u&&tc(a[Ne],a,u,n)}t[ji]!==t[re]&&n.push(t[ji])}let Hv=[];const Vg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ei(t.lView)},consumerOnSignalRead(){this.lView[xo]=this}};function Bg(t){return kf(t[co])}function Nf(t){return kf(t[Zr])}function kf(t){for(;null!==t&&!Li(t);)t=t[Zr];return t}function md(t,n=!0,i=0){const a=t[uo],u=a.rendererFactory;var g;null===(g=u.begin)||void 0===g||g.call(u);try{!function Wv(t,n){Wg(t,n);let i=0;for(;yo(t);){if(100===i)throw new qt(103,!1);i++,Wg(t,1)}}(t,i)}catch(U){throw n&&pd(t,U),U}finally{var _,C;null===(_=u.end)||void 0===_||_.call(u),null===(C=a.inlineEffectRunner)||void 0===C||C.flush()}}function zv(t,n,i,a){var u;const h=n[Qt];if(256==(256&h))return;null===(u=n[uo].inlineEffectRunner)||void 0===u||u.flush(),Xn(n);let _=null,C=null;(function Gg(t){return 2!==t.type})(t)&&(C=function qy(t){var n;return null!==(n=t[xo])&&void 0!==n?n:function Ky(t){var n;const i=null!==(n=Hv.pop())&&void 0!==n?n:Object.create(Vg);return i.lView=t,i}(t)}(n),_=function Ve(t){return t&&(t.nextProducerIndex=0),ae(t)}(C));try{Ss(n),function ms(t){return fr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&mg(t,n,i,2,a);const U=3==(3&h);if(U){const Fe=t.preOrderCheckHooks;null!==Fe&&Nh(n,Fe,null)}else{const Fe=t.preOrderHooks;null!==Fe&&$d(n,Fe,0,null),kh(n,0)}if(function vd(t){for(let n=Bg(t);null!==n;n=Nf(n)){if(!(n[Qt]&Co.HasTransplantedViews))continue;const i=n[Us];for(let a=0;a<i.length;a++){Hs(i[a])}}}(n),jg(n,0),null!==t.contentQueries&&$v(t,n),U){const Fe=t.contentCheckHooks;null!==Fe&&Nh(n,Fe)}else{const Fe=t.contentHooks;null!==Fe&&$d(n,Fe,1),kh(n,1)}!function Nv(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const u=i[a];if(u<0)Zi(~u);else{const h=u,g=i[++a],_=i[++a];B(g,h),_(2,n[h])}}}finally{Zi(-1)}}(t,n);const Q=t.components;null!==Q&&Kv(n,Q,0);const ee=t.viewQuery;if(null!==ee&&Mf(2,ee,a),U){const Fe=t.viewCheckHooks;null!==Fe&&Nh(n,Fe)}else{const Fe=t.viewHooks;null!==Fe&&$d(n,Fe,2),kh(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[ta]){for(const Fe of n[ta])Fe();n[ta]=null}n[Qt]&=-73}catch(U){throw ei(n),U}finally{null!==C&&(function Se(t,n){if(ae(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ot(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Qe(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(C,_),function Of(t){t.lView[xo]!==t&&(t.lView=null,Hv.push(t))}(C)),es()}}function jg(t,n){for(let i=Bg(t);null!==i;i=Nf(i))for(let a=Si;a<i.length;a++)qv(i[a],n)}function Hg(t,n,i){qv(Do(n,t),i)}function qv(t,n){js(t)&&Wg(t,n)}function Wg(t,n){const a=t[Ne],u=t[Qt],h=t[xo];let g=!!(0===n&&16&u);if(g||(g=!!(64&u&&0===n)),g||(g=!!(1024&u)),g||(g=!(null==h||!h.dirty||!it(h))),h&&(h.dirty=!1),t[Qt]&=-9217,g)zv(a,t,a.template,t[Jr]);else if(8192&u){jg(t,1);const _=a.components;null!==_&&Kv(t,_,1)}}function Kv(t,n,i){for(let a=0;a<n.length;a++)Hg(t,n[a],i)}function _d(t){var n;for(null===(n=t[uo].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Qt]|=64;const i=ro(t);if(Hi(t)&&!i)return t;t=i}return null}class dh{get rootNodes(){const n=this._lView,i=n[Ne];return tc(i,n,i.firstChild,[])}constructor(n,i,a=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jr]}set context(n){this._lView[Jr]=n}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Er];if(Li(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Pc(n,a),ao(i,a))}this._attachedToViewContainer=!1}xc(this._lView[Ne],this._lView)}onDestroy(n){Ra(this._lView,n)}markForCheck(){_d(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){ra(this._lView),this._lView[Qt]|=128}detectChanges(){this._lView[Qt]|=1024,md(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Dv(this._lView[Ne],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=n,ra(this._lView)}}let yd=(()=>{class n{}return n.__NG_ELEMENT_ID__=Xy,n})();const Yy=yd,Qy=class extends Yy{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){const u=function lh(t,n,i,a){var u,h;const g=n.tView,U=wf(t,g,i,4096&t[Qt]?4096:16,null,n,null,null,null,null!==(u=null==a?void 0:a.injector)&&void 0!==u?u:null,null!==(h=null==a?void 0:a.dehydratedView)&&void 0!==h?h:null);U[Po]=t[n.index];const ee=t[Qi];return null!==ee&&(U[Qi]=ee.createEmbeddedView(g)),Fg(g,U,i),U}(this._declarationLView,this._declarationTContainer,n,{injector:i,dehydratedView:a});return new dh(u)}};function Xy(){return Lf(oi(),jt())}function Lf(t,n){return 4&t.type?new Qy(n,t,xs(t,n)):null}class uI{}class $c{}class mh{}class i_{resolveComponentFactory(n){throw function cI(t){const n=Error(`No component factory found for ${Sn(t)}.`);return n.ngComponent=t,n}(n)}}let Uc=(()=>{class n{}return n.NULL=new i_,n})();class o_{}let Bc=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Gf(){const t=jt(),i=Do(oi().index,t);return(no(i)?i:t)[ur]}(),n})(),vh=(()=>{var t;class n{}return(t=n).\u0275prov=Ti({token:t,providedIn:"root",factory:()=>null}),n})();const jf={},Wf=new Set;function fl(t){var n,i;Wf.has(t)||(Wf.add(t),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:t}}))}function c_(t){const n=ae(null);try{return t()}finally{ae(n)}}function rc(t){return!!Cd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Cd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Xg{constructor(){}supports(n){return rc(n)}create(n){return new fI(n)}}const _h=(t,n)=>n;class fI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||_h}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,u=0,h=null;for(;i||a;){const g=!a||i&&i.currentIndex<Dd(a,u,h)?i:a,_=Dd(g,u,h),C=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(i=i._next,null==g.previousIndex)u++;else{h||(h=[]);const U=_-u,Q=C-u;if(U!=Q){for(let Fe=0;Fe<U;Fe++){const Je=Fe<h.length?h[Fe]:h[Fe]=0,St=Je+Fe;Q<=St&&St<U&&(h[Fe]=Je+1)}h[g.previousIndex]=Q-U}}_!==C&&n(g,_,C)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!rc(n))throw new qt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,h,g,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)h=n[_],g=this._trackByFn(_,h),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,h,g,_)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,g,_),a=!0),i=i._next}else u=0,function zf(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,_=>{g=this._trackByFn(u,_),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,_,g,u)),Object.is(i.item,_)||this._addIdentityChange(i,_)):(i=this._mismatch(i,_,g,u),a=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,u){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,u)):n=this._addAfter(new qf(i,a),h,u),n}_verifyReinsertion(n,i,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,h=n._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Kf),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kf),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qf{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h_{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Kf{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new h_,this.map.set(i,a)),a.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dd(t,n,i){const a=t.previousIndex;if(null===a)return a;let u=0;return i&&a<i.length&&(u=i[a]),a+n+u}class f_{constructor(){}supports(n){return n instanceof Map||Cd(n)}create(){return new yh}}class yh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Cd(n)))throw new qt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(u,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const h=u._prev,g=u._next;return h&&(h._next=g),g&&(g._prev=h),u._next=null,u._prev=null,u}const a=new pI(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class pI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jc(){return new p_([new Xg])}let p_=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||jc()),deps:[[n,new $i,new ar]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new qt(901,!1)}}return(t=n).\u0275prov=Ti({token:t,providedIn:"root",factory:jc}),n})();function Yf(){return new Zg([new f_])}let Zg=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:u=>n.create(a,u||Yf()),deps:[[n,new $i,new ar]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new qt(901,!1)}}return(t=n).\u0275prov=Ti({token:t,providedIn:"root",factory:Yf}),n})(),g_=(()=>{class n{}return n.__NG_ELEMENT_ID__=gI,n})();function gI(t){return function Xf(t,n,i){if(Qo(t)&&!i){const a=Do(t.index,n);return new dh(a,a)}return 47&t.type?new dh(n[vi],n):null}(oi(),jt(),16==(16&t))}let Zf=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=v_,t.__NG_ENV_ID__=i=>i,n})();class m_ extends Zf{constructor(n){super(),this._lView=n}onDestroy(n){return Ra(this._lView,n),()=>function _l(t,n){if(null===t[to])return;const i=t[to].indexOf(n);-1!==i&&t[to].splice(i,1)}(this._lView,n)}}function v_(){return new m_(jt())}function II(...t){}class zo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vr(!1),this.onMicrotaskEmpty=new vr(!1),this.onStable=new vr(!1),this.onError=new vr(!1),typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&i,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function a0(){const t="function"==typeof Vt.requestAnimationFrame;let n=Vt[t?"requestAnimationFrame":"setTimeout"],i=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Ih(t){const n=()=>{!function Hc(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cu(t),t.isCheckStableRunning=!0,Eu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,u,h,g,_)=>{if(function ic(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(_))return i.invokeTask(u,h,g,_);try{return I_(t),i.invokeTask(u,h,g,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),E_(t)}},onInvoke:(i,a,u,h,g,_,C)=>{try{return I_(t),i.invoke(u,h,g,_,C)}finally{t.shouldCoalesceRunChangeDetection&&n(),E_(t)}},onHasTask:(i,a,u,h)=>{i.hasTask(u,h),a===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Cu(t),Eu(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,u,h)=>(i.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new qt(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,u){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+u,n,u0,II,II);try{return h.runTask(g,i,a)}finally{h.cancelTask(g)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const u0={};function Eu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function I_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function E_(t){t._nesting--,Eu(t)}class C_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vr,this.onMicrotaskEmpty=new vr,this.onStable=new vr,this.onError=new vr}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,u){return n.apply(i,a)}}var Wc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wc||{});const D_={destroy(){}};function w_(t,n){var i,a,u;!n&&function fu(t){if(!go()&&!function la(){return _s}())throw new qt(-203,!1)}();const h=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:Qr(Da);if(!function yu(t){return"browser"===(null!=t?t:Qr(Da)).get(At)}(h))return D_;fl("NgAfterNextRender");const g=h.get(Eh),_=null!==(a=g.handler)&&void 0!==a?a:g.handler=new b_,C=null!==(u=null==n?void 0:n.phase)&&void 0!==u?u:Wc.MixedReadWrite,U=()=>{_.unregister(ee),Q()},Q=h.get(Zf).onDestroy(U),ee=new T_(h,C,()=>{U(),t()});return _.register(ee),{destroy:U}}class T_{constructor(n,i,a){this.phase=i,this.callbackFn=a,this.zone=n.get(zo),this.errorHandler=n.get(Hu,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(i)}}}class b_{constructor(){this.executingCallbacks=!1,this.buckets={[Wc.EarlyRead]:new Set,[Wc.Write]:new Set,[Wc.MixedReadWrite]:new Set,[Wc.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const i of n)i.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Eh=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Ti({token:t,providedIn:"root",factory:()=>new t}),n})();function oc(t){return!!or(t)}function im(t,n,i){let a=i?t.styles:null,u=i?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const _=n[g];"number"==typeof _?h=_:1==h?u=Un(u,_):2==h&&(a=Un(a,_+": "+n[++g]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=u:t.classesWithoutHost=u}class TI extends Uc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=kt(n);return new rp(i,this.ngModule)}}function S_(t){const n=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return n}class AI{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=wl(a);const u=this.injector.get(n,jf,a);return u!==jf||i===jf?u:this.parentInjector.get(n,i,a)}}class rp extends mh{get inputs(){const n=this.componentDef,i=n.inputTransforms,a=S_(n.inputs);if(null!==i)for(const u of a)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return a}get outputs(){return S_(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function q(t){return t.map(Et).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,u){var g;let _=(u=u||this.ngModule)instanceof Lt?u:null===(g=u)||void 0===g?void 0:g.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new AI(n,_):n,U=C.get(o_,null);if(null===U)throw new qt(407,!1);const Je={rendererFactory:U,sanitizer:C.get(vh,null),inlineEffectRunner:null,afterRenderEventManager:C.get(Eh,null),changeDetectionScheduler:C.get(uI,null)},St=U.createRenderer(null,this.componentDef),Jt=this.componentDef.selectors[0][0]||"div",gn=a?function Eg(t,n,i,a){const h=a.get(qm,!1)||i===xt.ShadowDom,g=t.selectRootElement(n,h);return function Vy(t){bf(t)}(g),g}(St,a,this.componentDef.encapsulation,C):ld(St,Jt,function bI(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Jt));let On=512;this.componentDef.signals?On|=4096:this.componentDef.onPush||(On|=16);let nn=null;null!==gn&&(nn=cu(gn,C,!0));const Rr=sh(0,null,null,1,0,null,null,null,null,null,null),Kr=wf(null,Rr,null,On,null,null,Je,St,C,null,nn);let Pi,$s;Xn(Kr);try{const bu=this.componentDef;let Mp,zE=null;bu.findHostDirectiveDefs?(Mp=[],zE=new Map,bu.findHostDirectiveDefs(bu,Mp,zE),Mp.push(bu)):Mp=[bu];const KM=function R_(t,n){const i=t[Ne],a=_r;return t[a]=n,Lc(i,a,2,"#host",null)}(Kr,gn),YM=function ac(t,n,i,a,u,h,g){const _=u[Ne];!function RI(t,n,i,a){for(const u of t)n.mergedAttrs=Ci(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(im(n,n.mergedAttrs,!0),null!==i&&Cf(a,i,n))}(a,t,n,g);let C=null;null!==n&&(C=cu(n,u[Gi]));const U=h.rendererFactory.createRenderer(n,i);let Q=16;i.signals?Q=4096:i.onPush&&(Q=64);const ee=wf(u,kv(i),null,Q,u[t.index],t,h,U,null,null,C);return _.firstCreatePass&&xl(_,t,a.length-1),fd(u,ee),u[t.index]=ee}(KM,gn,bu,Mp,Kr,Je,St);$s=Sa(Rr,_r),gn&&function PI(t,n,i,a){if(a)so(t,i,["ng-version","17.2.3"]);else{const{attrs:u,classes:h}=function te(t){const n=[],i=[];let a=1,u=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===u?""!==h&&n.push(h,t[++a]):8===u&&i.push(h);else{if(!Ce(u))break;u=h}a++}return{attrs:n,classes:i}}(n.selectors[0]);u&&so(t,i,u),h&&h.length>0&&Ef(t,i,h.join(" "))}}(St,bu,gn,a),void 0!==i&&function xI(t,n,i){const a=t.projection=[];for(let u=0;u<n.length;u++){const h=i[u];a.push(null!=h?Array.from(h):null)}}($s,this.ngContentSelectors,i),Pi=function MI(t,n,i,a,u,h){const g=oi(),_=u[Ne],C=vo(g,u);Af(_,u,g,i,null,a);for(let Q=0;Q<i.length;Q++)Js(Gu(u,_,g.directiveStart+Q,g),u);Sf(_,u,g),C&&Js(C,u);const U=Gu(u,_,g.directiveStart+g.componentOffset,g);if(t[Jr]=u[Jr]=U,null!==h)for(const Q of h)Q(U,n);return vg(_,g,u),U}(YM,bu,Mp,zE,Kr,[OI]),Fg(Rr,Kr,null)}finally{es()}return new SI(this.componentType,Pi,xs($s,Kr),Kr,$s)}}class SI extends $c{constructor(n,i,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new dh(u,void 0,!1),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;Ng(g[Ne],g,u,n,i),this.previousInputValues.set(n,i),_d(Do(this._tNode.index,g))}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function OI(){const t=oi();Vd(jt()[Ne],t)}let ip=(()=>{class n{}return n.__NG_ELEMENT_ID__=NI,n})();function NI(){return LI(oi(),jt())}const c0=ip,kI=class extends c0{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return xs(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const n=Xc(this._hostTNode,this._hostLView);if(Np(n)){const i=Cc(n,this._hostLView),a=Bd(n);return new as(i[Ne].data[a+8],i)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=om(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Si}createEmbeddedView(n,i,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const _=n.createEmbeddedViewImpl(i||{},h,null);return this.insertImpl(_,u,Fc(this._hostTNode,null)),_}createComponent(n,i,a,u,h){var g,C;const U=n&&!function $u(t){return"function"==typeof t}(n);let Q;if(U)Q=i;else{const On=i||{};Q=On.index,a=On.injector,u=On.projectableNodes,h=On.environmentInjector||On.ngModuleRef}const ee=U?n:new rp(kt(n)),Fe=a||this.parentInjector;if(!h&&null==ee.ngModule){const nn=(U?Fe:this.parentInjector).get(Lt,null);nn&&(h=nn)}const Je=kt(null!==(g=ee.componentType)&&void 0!==g?g:{}),St=(null==Je?void 0:Je.id,null),Jt=null!==(C=null==St?void 0:St.firstChild)&&void 0!==C?C:null,gn=ee.create(Fe,u,Jt,h);return this.insertImpl(gn.hostView,Q,Fc(this._hostTNode,St)),gn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,a){const u=n._lView;if(function _o(t){return Li(t[Er])}(u)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const C=u[Er],U=new kI(C,C[Yr],C[Er]);U.detach(U.indexOf(n))}}const h=this._adjustIndex(i),g=this._lContainer;return eu(g,u,h,a),n.attachToViewContainerRef(),Gl(sm(g),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=om(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Pc(this._lContainer,i);a&&(ao(sm(this._lContainer),i),xc(a[Ne],a))}detach(n){const i=this._adjustIndex(n,-1),a=Pc(this._lContainer,i);return a&&null!=ao(sm(this._lContainer),i)?new dh(a):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function om(t){return t[8]}function sm(t){return t[8]||(t[8]=[])}function LI(t,n){let i;const a=n[t.index];return Li(a)?i=a:(i=Rf(a,n,null,t),n[t.index]=i,fd(n,i)),FI(i,n,t,a),new kI(i,t,n)}let FI=function lm(t,n,i,a){if(t[ji])return;let u;u=8&i.type?xr(a):function d0(t,n){const i=t[ur],a=i.createComment(""),u=vo(n,t);return Oc(i,vf(i,u),a,function fg(t,n){return t.nextSibling(n)}(i,u),!1),a}(n,i),t[ji]=u},M_=()=>!1;class o{constructor(n){this.queryList=n,this.matches=null}clone(){return new o(this.queryList)}setDirty(){this.queryList.setDirty()}}class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let h=0;h<a;h++){const g=i.getByIndex(h);u.push(this.queries[g.indexInDeclarationView].clone())}return new e(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Nr(n,i).matches&&this.queries[i].setDirty()}}class r{constructor(n,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof n?function jn(t){return t.split(",").map(n=>n.trim())}(n):n}}class s{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const u=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,u);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new s(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class c{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new c(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(n,i,d(i,h)),this.matchTNodeWithReadOption(n,i,Bh(i,n,h,!1,!1))}else a===yd?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Bh(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Fr||u===ip||u===yd&&4&i.type)this.addMatch(i.index,-2);else{const h=Bh(i,n,u,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function d(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function A(t,n,i,a){return-1===i?function p(t,n){return 11&t.type?xs(t,n):4&t.type?Lf(t,n):null}(n,t):-2===i?function N(t,n,i){return i===Fr?xs(n,t):i===yd?Lf(n,t):i===ip?LI(n,t):void 0}(t,n,a):Gu(t,t[Ne],i,n)}function W(t,n,i,a){const u=n[Qi].queries[a];if(null===u.matches){const h=t.data,g=i.matches,_=[];for(let C=0;null!==g&&C<g.length;C+=2){const U=g[C];_.push(U<0?null:A(n,h[U],g[C+1],i.metadata.read))}u.matches=_}return u.matches}function ne(t,n,i,a){const u=t.queries.getByIndex(i),h=u.matches;if(null!==h){const g=W(t,n,u,i);for(let _=0;_<h.length;_+=2){const C=h[_];if(C>0)a.push(g[_/2]);else{const U=h[_+1],Q=n[-C];for(let ee=Si;ee<Q.length;ee++){const Fe=Q[ee];Fe[Po]===Fe[Er]&&ne(Fe[Ne],Fe,U,a)}if(null!==Q[Us]){const ee=Q[Us];for(let Fe=0;Fe<ee.length;Fe++){const Je=ee[Fe];ne(Je[Ne],Je,U,a)}}}}}return a}function lt(t,n,i){var a;const u=new sl(4==(4&i));return function Lv(t,n,i,a){const u=Og(n);u.push(i),t.firstCreatePass&&Bv(t).push(a,u.length-1)}(t,n,u,u.destroy),(null!==(a=n[Qi])&&void 0!==a?a:n[Qi]=new e).queries.push(new o(u))-1}function xn(t,n,i){null===t.queries&&(t.queries=new s),t.queries.track(new c(n,i))}function Nr(t,n){return t.queries.getByIndex(n)}function yr(t,n){const i=t[Ne],a=Nr(i,n);return a.crossesNgTemplate?ne(i,t,n,[]):W(i,t,a,n)}function UI(t){let n=function y0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let u;if(pi(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new qt(903,!1);u=n.\u0275dir}if(u){if(i){a.push(u);const g=t;g.inputs=x_(t.inputs),g.inputTransforms=x_(t.inputTransforms),g.declaredInputs=x_(t.declaredInputs),g.outputs=x_(t.outputs);const _=u.hostBindings;_&&TT(t,_);const C=u.viewQuery,U=u.contentQueries;if(C&&DT(t,C),U&&wT(t,U),ET(t,u),_t(t.outputs,u.outputs),pi(u)&&u.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let g=0;g<h.length;g++){const _=h[g];_&&_.ngInherit&&_(t),_===UI&&(i=!1)}}n=Object.getPrototypeOf(n)}!function CT(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=Ci(u.hostAttrs,i=Ci(i,u.hostAttrs))}}(a)}function ET(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const u=n.inputs[a];if(void 0!==u&&(t.inputs[a]=u,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var i;const h=Array.isArray(u)?u[0]:u;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(i=t.inputTransforms)&&void 0!==i||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function x_(t){return t===Gn?{}:t===Jn?[]:t}function DT(t,n){const i=t.viewQuery;t.viewQuery=i?(a,u)=>{n(a,u),i(a,u)}:n}function wT(t,n){const i=t.contentQueries;t.contentQueries=i?(a,u,h)=>{n(a,u,h),i(a,u,h)}:n}function TT(t,n){const i=t.hostBindings;t.hostBindings=i?(a,u)=>{n(a,u),i(a,u)}:n}function D0(t){const n=t.inputConfig,i={};for(const a in n)if(n.hasOwnProperty(a)){const u=n[a];Array.isArray(u)&&u[3]&&(i[a]=u[3])}t.inputTransforms=i}class Ch{}class w0{}function PT(t,n){return new BI(t,null!=n?n:null,[])}class BI extends Ch{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TI(this);const u=or(n);this._bootstrapComponents=da(u.bootstrap),this._r3Injector=Hp(n,i,[{provide:Ch,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver},...a],Sn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class GI extends w0{constructor(n){super(),this.moduleType=n}create(n){return new BI(this.moduleType,n,[])}}class T0 extends Ch{constructor(n){super(),this.componentFactoryResolver=new TI(this),this.instance=null;const i=new cn([...n.providers,{provide:Ch,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],n.parent||dt(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function jI(t,n,i=null){return new T0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let dm=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Dt.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function lc(t,n,i){return t[n]=i}function us(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ap(t,n,i,a,u,h,g,_){const C=jt(),U=jr(),Q=t+_r,ee=U.firstCreatePass?function kT(t,n,i,a,u,h,g,_,C){const U=n.consts,Q=Lc(n,t,4,g||null,wo(U,_));ah(n,i,Q,wo(U,C)),Vd(n,Q);const ee=Q.tView=sh(2,Q,a,u,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,U,null);return null!==n.queries&&(n.queries.template(n,Q),ee.queries=n.queries.embeddedTView(Q)),Q}(Q,U,C,n,i,a,u,h,g):U.data[Q];gs(ee,!1);const Fe=b0(U,C,ee,t);Ln()&&cd(U,C,Fe,ee),Js(Fe,C);const Je=Rf(Fe,C,Fe,ee);return C[Q]=Je,fd(C,Je),function am(t,n,i){return M_(t,n,i)}(Je,ee,C),$o(ee)&&_g(U,C,ee),null!=g&&yg(C,ee,_),ap}let b0=function A0(t,n,i,a){return Io(!0),n[ur].createComment("")};function JI(t,n,i,a){const u=jt();return us(u,Di(),n)&&(jr(),hl(Lr(),u,t,n,i,a)),JI}function U_(t,n){return t<<17|n<<2}function Td(t){return t>>17&32767}function eE(t){return 2|t}function Th(t){return(131068&t)>>2}function tE(t,n){return-131069&t|n<<2}function nE(t){return 1|t}function iC(t,n,i,a){const u=t[i+1],h=null===n;let g=a?Td(u):Th(u),_=!1;for(;0!==g&&(!1===_||h);){const U=t[g+1];yb(t[g],n)&&(_=!0,t[g+1]=a?nE(U):eE(U)),g=a?Td(U):Th(U)}_&&(t[i+1]=a?eE(u):nE(u))}function yb(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&pa(t,n)>=0}function rE(t,n,i){const a=jt();return us(a,Di(),n)&&function ea(t,n,i,a,u,h,g,_){const C=vo(n,i);let Q,U=n.inputs;!_&&null!=U&&(Q=U[a])?(Ng(t,i,Q,a,u),Qo(n)&&function By(t,n){const i=Do(n,t);16&i[Qt]||(i[Qt]|=64)}(i,n.index)):3&n.type&&(a=function Uy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,n.value||"",a):u,h.setProperty(C,a,u))}(jr(),Lr(),a,t,n,a[ur],i,!1),rE}function iE(t,n,i,a,u){const g=u?"class":"style";Ng(t,i,n.inputs[g],g,a)}function oE(t,n){return function wu(t,n,i,a){const u=jt(),h=jr(),g=function E(t){const n=fr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);h.firstUpdatePass&&function fC(t,n,i,a){const u=t.data;if(null===u[i+1]){const h=u[wi()],g=function hC(t,n){return n>=t.expandoStartIndex}(t,i);(function vC(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!g&&(n=!1),n=function Sb(t,n,i,a){const u=function ht(t){const n=fr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(i=mm(i=sE(null,t,n,i,a),n.attrs,a),h=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==u)if(i=sE(u,t,n,i,a),null===h){let C=function Rb(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Th(a))return t[Td(a)]}(t,n,a);void 0!==C&&Array.isArray(C)&&(C=sE(null,t,n,C[1],a),C=mm(C,n.attrs,a),function Mb(t,n,i,a){t[Td(i?n.classBindings:n.styleBindings)]=a}(t,n,a,C))}else h=function Pb(t,n,i){let a;const u=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<u;h++)a=mm(a,t[h].hostAttrs,i);return mm(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(u,h,n,a),function vb(t,n,i,a,u,h){let g=h?n.classBindings:n.styleBindings,_=Td(g),C=Th(g);t[a]=i;let Q,U=!1;if(Array.isArray(i)?(Q=i[1],(null===Q||pa(i,Q)>0)&&(U=!0)):Q=i,u)if(0!==C){const Fe=Td(t[_+1]);t[a+1]=U_(Fe,_),0!==Fe&&(t[Fe+1]=tE(t[Fe+1],a)),t[_+1]=function gb(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=U_(_,0),0!==_&&(t[_+1]=tE(t[_+1],a)),_=a;else t[a+1]=U_(C,0),0===_?_=a:t[C+1]=tE(t[C+1],a),C=a;U&&(t[a+1]=eE(t[a+1])),iC(t,Q,a,!0),iC(t,Q,a,!1),function _b(t,n,i,a,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&pa(h,n)>=0&&(i[a+1]=nE(i[a+1]))}(n,Q,t,a,h),g=U_(_,C),h?n.classBindings=g:n.styleBindings=g}(u,h,n,i,g,a)}}(h,t,g,a),n!==Or&&us(u,g,n)&&function gC(t,n,i,a,u,h,g,_){if(!(3&n.type))return;const C=t.data,U=C[_+1],Q=function mb(t){return 1==(1&t)}(U)?mC(C,n,i,u,Th(U),g):void 0;B_(Q)||(B_(h)||function pb(t){return 2==(2&t)}(U)&&(h=mC(C,null,i,u,_,g)),function Fy(t,n,i,a,u){if(n)u?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:sd.DashCase;null==u?t.removeStyle(i,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=sd.Important),t.setStyle(i,a,u,h))}}(a,g,Gs(wi(),i),u,h))}(h,h.data[wi()],u,u[ur],t,u[g+1]=function kb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Sn(zu(t)))),t}(n,i),a,g)}(t,n,null,!0),oE}function sE(t,n,i,a,u){let h=null;const g=i.directiveEnd;let _=i.directiveStylingLast;for(-1===_?_=i.directiveStart:_++;_<g&&(h=n[_],a=mm(a,h.hostAttrs,u),h!==t);)_++;return null!==t&&(i.directiveStylingLast=_),a}function mm(t,n,i){const a=i?1:2;let u=-1;if(null!==n)for(let h=0;h<n.length;h++){const g=n[h];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cr(t,g,!!i||n[++h]))}return void 0===t?null:t}function mC(t,n,i,a,u,h){const g=null===n;let _;for(;u>0;){const C=t[u],U=Array.isArray(C),Q=U?C[1]:C,ee=null===Q;let Fe=i[u+1];Fe===Or&&(Fe=ee?Jn:void 0);let Je=ee?il(Fe,a):Q===a?Fe:void 0;if(U&&!B_(Je)&&(Je=il(C,a)),B_(Je)&&(_=Je,g))return _;const St=t[u+1];u=g?Td(St):Th(St)}if(null!==n){let C=h?n.residualClasses:n.residualStyles;null!=C&&(_=il(C,a))}return _}function B_(t){return void 0!==t}function G_(t,n,i,a){const u=jt(),h=jr(),g=_r+t,_=u[ur],C=h.firstCreatePass?function iA(t,n,i,a,u,h){const g=n.consts,C=Lc(n,t,2,a,wo(g,u));return ah(n,i,C,wo(g,h)),null!==C.attrs&&im(C,C.attrs,!1),null!==C.mergedAttrs&&im(C,C.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,C),C}(g,h,u,n,i,a):h.data[g],U=EC(h,u,C,_,n,t);u[g]=U;const Q=$o(C);return gs(C,!0),Cf(_,U,C),32!=(32&C.flags)&&Ln()&&cd(h,u,U,C),0===function Ma(){return fr.lFrame.elementDepthCount}()&&Js(U,u),function Ul(){fr.lFrame.elementDepthCount++}(),Q&&(_g(h,u,C),vg(h,C,u)),null!==a&&yg(u,C),G_}function j_(){let t=oi();zs()?yl():(t=t.parent,gs(t,!1));const n=t;(function yi(t){return fr.skipHydrationRootTNode===t})(n)&&function ru(){fr.skipHydrationRootTNode=null}(),function ps(){fr.lFrame.elementDepthCount--}();const i=jr();return i.firstCreatePass&&(Vd(i,t),Vo(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function uy(t){return 0!=(8&t.flags)}(n)&&iE(i,n,jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Lm(t){return 0!=(16&t.flags)}(n)&&iE(i,n,jt(),n.stylesWithoutHost,!1),j_}function dE(t,n,i,a){return G_(t,n,i,a),j_(),dE}let EC=(t,n,i,a,u,h)=>(Io(!0),ld(a,u,function Au(){return fr.lFrame.currentNamespace}()));function hE(t,n,i){const a=jt(),u=jr(),h=t+_r,g=u.firstCreatePass?function aA(t,n,i,a,u){const h=n.consts,g=wo(h,a),_=Lc(n,t,8,"ng-container",g);return null!==g&&im(_,g,!0),ah(n,i,_,wo(h,u)),null!==n.queries&&n.queries.elementStart(n,_),_}(h,u,a,n,i):u.data[h];gs(g,!0);const _=CC(u,a,g,t);return a[h]=_,Ln()&&cd(u,a,_,g),Js(_,a),$o(g)&&(_g(u,a,g),vg(u,g,a)),null!=i&&yg(a,g),hE}function fE(){let t=oi();const n=jr();return zs()?yl():(t=t.parent,gs(t,!1)),n.firstCreatePass&&(Vd(n,t),Vo(t)&&n.queries.elementEnd(t)),fE}function pE(t,n,i){return hE(t,n,i),fE(),pE}let CC=(t,n,i,a)=>(Io(!0),nh(n[ur],""));function DC(){return jt()}const bh=void 0;var dA=["en",[["a","p"],["AM","PM"],bh],[["AM","PM"],bh,bh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bh,"{1} 'at' {0}",bh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cA(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let wp={};function gE(t){const n=function hA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=AC(n);if(i)return i;const a=n.split("-")[0];if(i=AC(a),i)return i;if("en"===a)return dA;throw new qt(701,!1)}function bC(t){return gE(t)[Tp.PluralCase]}function AC(t){return t in wp||(wp[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),wp[t]}var Tp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Tp||{});const bp="en-US";let SC=bp;function _E(t,n,i,a){const u=jt(),h=jr(),g=oi();return function yE(t,n,i,a,u,h,g){const _=$o(a),U=t.firstCreatePass&&Bv(t),Q=n[Jr],ee=Og(n);let Fe=!0;if(3&a.type||g){const Jt=vo(a,n),gn=g?g(Jt):Jt,On=ee.length,nn=g?Kr=>g(xr(Kr[a.index])):a.index;let Rr=null;if(!g&&_&&(Rr=function sS(t,n,i,a){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const g=u[h];if(g===i&&u[h+1]===a){const _=n[Ko],C=u[h+2];return _.length>C?_[C]:null}"string"==typeof g&&(h+=2)}return null}(t,n,u,a.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=h,Rr.__ngLastListenerFn__=h,Fe=!1;else{h=tD(a,n,Q,h,!1);const Kr=i.listen(gn,u,h);ee.push(h,Kr),U&&U.push(u,nn,On,On+1)}}else h=tD(a,n,Q,h,!1);const Je=a.outputs;let St;if(Fe&&null!==Je&&(St=Je[u])){const Jt=St.length;if(Jt)for(let gn=0;gn<Jt;gn+=2){const Pi=n[St[gn]][St[gn+1]].subscribe(h),$s=ee.length;ee.push(h,Pi),U&&U.push(u,a.index,$s,"function"==typeof Pi?$s+1:-($s+1))}}}(h,u,u[ur],g,t,n,a),_E}function eD(t,n,i,a){try{return Sl(6,n,i),!1!==i(a)}catch(u){return pd(t,u),!1}finally{Sl(7,n,i)}}function tD(t,n,i,a,u){return function h(g){if(g===Function)return a;_d(t.componentOffset>-1?Do(t.index,n):n);let C=eD(n,i,a,g),U=h.__ngNextListenerFn__;for(;U;)C=eD(n,i,U,g)&&C,U=U.__ngNextListenerFn__;return u&&!1===C&&g.preventDefault(),C}}function nD(t=1){return function Xi(t){return(fr.lFrame.contextLView=function $l(t,n){for(;t>0;)n=n[hs],t--;return n}(t,fr.lFrame.contextLView))[Jr]}(t)}function aS(t,n){let i=null;const a=function yn(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const h=n[u];if("*"!==h){if(null===a?Yt(t,h,!0):Qn(a,h))return u}else i=u}return i}function rD(t){const n=jt()[vi][Yr];if(!n.projection){const a=n.projection=function Ks(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}(t?t.length:1,null),u=a.slice();let h=n.child;for(;null!==h;){const g=t?aS(h,t):0;null!==g&&(u[g]?u[g].projectionNext=h:a[g]=h,u[g]=h),h=h.next}}}function iD(t,n=0,i){const a=jt(),u=jr(),h=Lc(u,_r+t,16,null,i||null);null===h.projection&&(h.projection=n),yl(),(!a[xi]||Wi())&&32!=(32&h.flags)&&function Mv(t,n,i){kc(n[ur],0,n,i,ih(t,i,n),Sv(i.parent||n[Yr],i,n))}(u,a,h)}function pD(t,n,i,a){!function Dn(t,n,i,a){const u=jr();if(u.firstCreatePass){const h=oi();xn(u,new r(n,i,a),h.index),function gr(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}return lt(u,jt(),i)}(t,n,i,a)}function gD(t,n,i){!function Nt(t,n,i){const a=jr();return a.firstCreatePass&&(xn(a,new r(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),lt(a,jt(),n)}(t,n,i)}function mD(t){const n=jt(),i=jr(),a=mn();Xt(a+1);const u=Nr(i,a);if(t.dirty&&function As(t){return 4==(4&t[Qt])}(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const h=yr(n,a);t.reset(h,Mn),t.notifyOnChanges()}return!0}return!1}function vD(){return function ke(t,n){return t[Qi].queries[n].queryList}(jt(),mn())}function AD(t,n=""){const i=jt(),a=jr(),u=t+_r,h=a.firstCreatePass?Lc(a,u,1,n,null):a.data[u],g=SD(a,i,h,n,t);i[u]=g,Ln()&&cd(a,i,g,h),gs(h,!1)}let SD=(t,n,i,a,u)=>(Io(!0),function ad(t,n){return t.createText(n)}(n[ur],a));function EE(t){return K_("",t,""),EE}function K_(t,n,i){const a=jt(),u=function gp(t,n,i,a){return us(t,Di(),i)?n+Yn(i)+a:Or}(a,t,n,i);return u!==Or&&function Ol(t,n,i){const a=Gs(n,t);!function lg(t,n,i){t.setValue(n,i)}(t[ur],a,i)}(a,wi(),u),K_}function CE(t,n,i,a,u){if(t=cr(t),Array.isArray(t))for(let h=0;h<t.length;h++)CE(t[h],n,i,a,u);else{const h=jr(),g=jt(),_=oi();let C=I(t)?t:cr(t.provide);const U=So(t),Q=1048575&_.providerIndexes,ee=_.directiveStart,Fe=_.providerIndexes>>20;if(I(t)||!t.multi){const Je=new Uu(U,u,ec),St=wE(C,n,u?Q:Q+Fe,ee);-1===St?(Uh(Wa(_,g),h,C),DE(h,t,n.length),n.push(C),_.directiveStart++,_.directiveEnd++,u&&(_.providerIndexes+=1048576),i.push(Je),g.push(Je)):(i[St]=Je,g[St]=Je)}else{const Je=wE(C,n,Q+Fe,ee),St=wE(C,n,Q,Q+Fe),gn=St>=0&&i[St];if(u&&!gn||!u&&!(Je>=0&&i[Je])){Uh(Wa(_,g),h,C);const On=function SS(t,n,i,a,u){const h=new Uu(t,i,ec);return h.multi=[],h.index=n,h.componentProviders=0,$D(h,u,a&&!i),h}(u?AS:bS,i.length,u,a,U);!u&&gn&&(i[St].providerFactory=On),DE(h,t,n.length,0),n.push(C),_.directiveStart++,_.directiveEnd++,u&&(_.providerIndexes+=1048576),i.push(On),g.push(On)}else DE(h,t,Je>-1?Je:St,$D(i[u?St:Je],U,!u&&a));!u&&a&&gn&&i[St].componentProviders++}}}function DE(t,n,i,a){const u=I(n),h=function f(t){return!!t.useClass}(n);if(u||h){const C=(h?cr(n.useClass):n).prototype.ngOnDestroy;if(C){const U=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const Q=U.indexOf(i);-1===Q?U.push(i,[a,C]):U[Q+1].push(a,C)}else U.push(i,C)}}}function $D(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function wE(t,n,i,a){for(let u=i;u<a;u++)if(n[u]===t)return u;return-1}function bS(t,n,i,a){return TE(this.multi,[])}function AS(t,n,i,a){const u=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Gu(i,i[Ne],this.providerFactory.index,a);h=_.slice(0,g),TE(u,h);for(let C=g;C<_.length;C++)h.push(_[C])}else h=[],TE(u,h);return h}function TE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function UD(t,n=[]){return i=>{i.providersResolver=(a,u)=>function TS(t,n,i){const a=jr();if(a.firstCreatePass){const u=pi(t);CE(i,a.data,a.blueprint,u,!0),CE(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}let RS=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=ja(0,a.type),h=u.length>0?jI([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Ti({token:t,providedIn:"environment",factory:()=>new t(Ao(Lt))}),n})();function BD(t){fl("NgStandalone"),t.getStandaloneInjector=n=>n.get(RS).getOrCreateStandaloneInjector(t)}function QD(t,n,i){const a=kr()+t,u=jt();return u[a]===Or?lc(u,a,i?n.call(i):n()):function hm(t,n){return t[n]}(u,a)}function XD(t,n,i,a){return function ZD(t,n,i,a,u,h){const g=n+i;return us(t,g,u)?lc(t,g+1,h?a.call(h,u):a(u)):Cm(t,g+1)}(jt(),kr(),t,n,i,a)}function Cm(t,n){const i=t[n];return i===Or?void 0:i}function JD(t,n,i,a,u,h,g){const _=n+i;return function Dh(t,n,i,a){const u=us(t,n,i);return us(t,n+1,a)||u}(t,_,u,h)?lc(t,_+2,g?a.call(g,u,h):a(u,h)):Cm(t,_+2)}function rw(t,n){const i=jr();let a;const u=t+_r;var h;i.firstCreatePass?(a=function qS(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[u]=a,a.onDestroy&&(null!==(h=i.destroyHooks)&&void 0!==h?h:i.destroyHooks=[]).push(u,a.onDestroy)):a=i.data[u];const g=a.factory||(a.factory=ko(a.type)),C=No(ec);try{const U=Gd(!1),Q=g();return Gd(U),function dS(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,jt(),u,Q),Q}finally{No(C)}}function iw(t,n,i,a){const u=t+_r,h=jt(),g=function bs(t,n){return t[n]}(h,u);return function Dm(t,n){return t[Ne].data[n].pure}(h,u)?JD(h,kr(),n,g.transform,i,a,g):g.transform(i,a)}class Iw{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const IR=new Iw("17.2.3");let Ew=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const Tw=new J(""),bw=new J("");let OE,zR=(()=>{var t;class n{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,OE||(function qR(t){OE=t}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a()},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(Ao(zo),Ao(Aw),Ao(bw))},t.\u0275prov=Ti({token:t,factory:t.\u0275fac}),n})(),Aw=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var h,g;return null!==(h=null===(g=OE)||void 0===g?void 0:g.findTestabilityInTree(this,a,u))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function NE(t){return!!t&&"function"==typeof t.then}function Sw(t){return!!t&&"function"==typeof t.subscribe}const Rw=new J("");let kE=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=null!==(a=Qr(Rw,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const g=h();if(NE(g))a.push(g);else if(Sw(g)){const _=new Promise((C,U)=>{g.subscribe({complete:C,error:U})});a.push(_)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const LE=new J("");function xw(t,n){return Array.isArray(n)?n.reduce(xw,t):{...t,...n}}let bd=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Qr(Wp),this.afterRenderEffectManager=Qr(Eh),this.componentTypes=[],this.components=[],this.isStable=Qr(dm).hasPendingTasks.pipe((0,wt.k)(a=>!a)),this._injector=Qr(Lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof mh;if(!this._injector.get(kE).done)throw!h&&Pn(a),new qt(405,!1);let _;_=h?a:this._injector.get(Uc).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const C=function KR(t){return t.isBoundToModule}(_)?void 0:this._injector.get(Ch),Q=_.create(Da.NULL,[],u||_.selector,C),ee=Q.location.nativeElement,Fe=Q.injector.get(Tw,null);return null==Fe||Fe.registerApplication(ee),Q.onDestroy(()=>{this.detachView(Q.hostView),Z_(this.components,Q),null==Fe||Fe.unregisterApplication(ee)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new qt(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let a=0;const u=this.afterRenderEffectManager;for(;;){if(100===a)throw new qt(103,!1);const h=0===a;for(let{_lView:g,notifyErrorHandler:_}of this._views)!h&&!FE(g)||this.detectChangesInView(g,_,h);if(a++,u.executeInternalCallbacks(),!this._views.some(({_lView:g})=>FE(g))&&(u.execute(),!this._views.some(({_lView:g})=>FE(g))))break}}detectChangesInView(a,u,h){let g;h?(g=0,a[Qt]|=1024):g=64&a[Qt]?0:1,md(a,u,g)}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Z_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(LE,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Z_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new qt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Z_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function FE(t){return yo(t)}class QR{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let XR=(()=>{var t;class n{compileModuleSync(a){return new GI(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=da(or(a).declarations).reduce((_,C)=>{const U=kt(C);return U&&_.push(new rp(U)),_},[]);return new QR(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),eM=(()=>{var t;class n{constructor(){this.zone=Qr(zo),this.applicationRef=Qr(bd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function tM(){const t=Qr(zo),n=Qr(Hu);return i=>t.runOutsideAngular(()=>n.handleError(i))}let rM=(()=>{var t;class n{constructor(){this.subscription=new Ft.wH,this.initialized=!1,this.zone=Qr(zo),this.pendingTasks=Qr(dm)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{zo.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var u;zo.assertInAngularZone(),null!==(u=a)&&void 0!==u||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const J_=new J("",{providedIn:"root",factory:()=>Qr(J_,Fn.Optional|Fn.SkipSelf)||function iM(){return typeof $localize<"u"&&$localize.locale||bp}()}),oM=new J("",{providedIn:"root",factory:()=>"USD"}),VE=new J("");let Lw=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function EI(t="zone.js",n){return"noop"===t?new C_:"zone.js"===t?new zo(n):t}(null==u?void 0:u.ngZone,function kw(t){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==t?void 0:t.runCoalescing)&&void 0!==i&&i}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return h.run(()=>{const g=function xT(t,n,i){return new BI(t,n,i)}(a.moduleType,this.injector,function Nw(t){return[{provide:zo,useFactory:t},{provide:Ga,multi:!0,useFactory:()=>{const n=Qr(eM,{optional:!0});return()=>n.initialize()}},{provide:Ga,multi:!0,useFactory:()=>{const n=Qr(rM);return()=>{n.initialize()}}},{provide:Wp,useFactory:tM}]}(()=>h)),_=g.injector.get(Hu,null);return h.runOutsideAngular(()=>{const C=h.onError.subscribe({next:U=>{_.handleError(U)}});g.onDestroy(()=>{Z_(this._modules,g),C.unsubscribe()})}),function Pw(t,n,i){try{const a=i();return NE(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(_,h,()=>{const C=g.injector.get(kE);return C.runInitializers(),C.donePromise.then(()=>(function RC(t){"string"==typeof t&&(SC=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(J_,bp)||bp),this._moduleDoBootstrap(g),g))})})}bootstrapModule(a,u=[]){const h=xw({},u);return function JR(t,n,i){const a=new GI(i);return Promise.resolve(a)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(bd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new qt(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(VE,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(Ao(Da))},t.\u0275prov=Ti({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Ad=null;const Fw=new J("");function Vw(t,n,i=[]){const a=`Platform: ${n}`,u=new J(a);return(h=[])=>{let g=$E();if(!g||g.injector.get(Fw,!1)){const _=[...i,...h,{provide:u,useValue:!0}];t?t(_):function aM(t){if(Ad&&!Ad.get(Fw,!1))throw new qt(400,!1);(function Mw(){!function nt(t){zt=t}(()=>{throw new qt(600,!1)})})(),Ad=t;const n=t.get(Lw);(function Uw(t){const n=t.get(an,null);null==n||n.forEach(i=>i())})(t)}(function $w(t=[],n){return Da.create({name:n,providers:[{provide:m,useValue:"platform"},{provide:VE,useValue:new Set([()=>Ad=null])},...t]})}(_,a))}return function lM(t){const n=$E();if(!n)throw new qt(401,!1);return n}()}}function $E(){var t,n;return null!==(t=null===(n=Ad)||void 0===n?void 0:n.get(Lw))&&void 0!==t?t:null}function cM(){return!1}function dM(){}const gM=Vw(null,"core",[]);let mM=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(Ao(bd))},t.\u0275mod=Ot({type:t}),t.\u0275inj=Go({}),n})();function HM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function zM(t,n){const i=kt(t),a=n.elementInjector||dt();return new rp(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function qM(t){const n=kt(t);if(!n)return null;const i=new rp(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6e3:(fn,at,O)=>{"use strict";O.d(at,{E9:()=>Xe,Ml:()=>de,PQ:()=>qe,UN:()=>He,_G:()=>le,_w:()=>ce,rh:()=>ae});var l=O(4580),x=O(4496),K=O(6176),ie=O(9252);const we=["ngOnDestroy"],ce=(Se,it,We,Ke={})=>new Proxy(Se,{get:(Qe,ot)=>We.runOutsideAngular(()=>{var me;if(Se[ot])return null!=Ke&&null!==(me=Ke.spy)&&void 0!==me&&me.get&&Ke.spy.get(ot,Se[ot]),Se[ot];if(we.indexOf(ot)>-1)return()=>{};const z=it.toPromise().then($e=>{const Be=null==$e?void 0:$e[ot];return"function"==typeof Be?Be.bind($e):null!=Be&&Be.then?Be.then(Le=>We.run(()=>Le)):We.run(()=>Be)});return new Proxy(()=>{},{get:($e,Be)=>z[Be],apply:($e,Be,Le)=>z.then(Ae=>{var ze;const Ct=null==Ae?void 0:Ae(...Le);return null!=Ke&&null!==(ze=Ke.spy)&&void 0!==ze&&ze.apply&&Ke.spy.apply(ot,Le,Ct),Ct})})})}),ae=(Se,it)=>{it.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Ke=>{Object.defineProperty(Se.prototype,Ke,Object.getOwnPropertyDescriptor(We.prototype||We,Ke))})})};class be{constructor(it){return it}}const Xe=new x.UbH("angularfire2.app.options"),de=new x.UbH("angularfire2.app.name");function le(Se,it,We){const Qe="object"==typeof We&&We||{};Qe.name=Qe.name||"string"==typeof We&&We||"[DEFAULT]";const me=ie.c.apps.filter(z=>z&&z.name===Qe.name)[0]||it.runOutsideAngular(()=>ie.c.initializeApp(Se,Qe));try{if(JSON.stringify(Se)!==JSON.stringify(me.options)){const z=!!module.hot;Ge("error",`${me.name} Firebase App already initialized with different options${z?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new be(me)}const Ge=(Se,...it)=>{(0,x.sPQ)()&&typeof console<"u"&&console[Se](...it)},je={provide:be,useFactory:le,deps:[Xe,x.WW2,[new x.T7N,de]]};let He=(()=>{var Se;class it{static initializeApp(Ke,Qe){return{ngModule:it,providers:[{provide:Xe,useValue:Ke},{provide:de,useValue:Qe}]}}constructor(Ke){ie.c.registerVersion("angularfire",K.j1.full,"core"),ie.c.registerVersion("angularfire",K.j1.full,"app-compat"),ie.c.registerVersion("angular",x.j1C.full,Ke.toString())}}return Se=it,(0,l.c)(it,"\u0275fac",function(Ke){return new(Ke||Se)(x.CoB(x.AHE))}),(0,l.c)(it,"\u0275mod",x.a4G({type:Se})),(0,l.c)(it,"\u0275inj",x.s3X({providers:[je]})),it})();function qe(Se,it,We,Ke,Qe){const[,ot,me]=globalThis.\u0275AngularfireInstanceCache.find(z=>z[0]===Se)||[];if(ot)return function ft(Se,it){try{return Se.toString()===it.toString()}catch{return Se===it}}(Qe,me)||(Ve("error",`${it} was already initialized on the ${We} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:Qe,was:me})),ot;{const z=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Se,z,Qe]),z}}const Ye=typeof module<"u"&&!!module.hot,Ve=(Se,...it)=>{(0,x.sPQ)()&&typeof console<"u"&&console[Se](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6176:(fn,at,O)=>{"use strict";O.d(at,{j1:()=>qe,wH:()=>Ae,QT:()=>Be,u:()=>ot,gJ:()=>Se,S_:()=>Ve,UN:()=>Ye,qo:()=>zt});var l=O(4580),x=O(4496),K=O(3680),ie=O(1364),ce=O(9816);const be=new class ae extends ce.k{}(class we extends ie.m{constructor(nt,Ee){super(nt,Ee),this.scheduler=nt,this.work=Ee}schedule(nt,Ee=0){return Ee>0?super.schedule(nt,Ee):(this.delay=Ee,this.state=nt,this.scheduler.flush(this),this)}execute(nt,Ee){return Ee>0||this.closed?super.execute(nt,Ee):this._execute(nt,Ee)}requestAsyncId(nt,Ee,ve=0){return null!=ve&&ve>0||null==ve&&this.delay>0?super.requestAsyncId(nt,Ee,ve):(nt.flush(this),0)}});var de=O(112),le=O(3252),Ge=O(9212),je=O(3920),He=O(2924);const qe=new x.a8Z("ANGULARFIRE2_VERSION");function Ye(Pt,nt,Ee){if(nt){if(1===nt.length)return nt[0];const Oe=nt.filter(ut=>ut.app===Ee);if(1===Oe.length)return Oe[0]}return Ee.container.getProvider(Pt).getImmediate({optional:!0})}const Ve=(Pt,nt)=>{const Ee=nt?[nt]:(0,K.UH)(),ve=[];return Ee.forEach(Me=>{Me.container.getProvider(Pt).instances.forEach(ut=>{ve.includes(ut)||ve.push(ut)})}),ve};class Se{constructor(){return Ve(it)}}const it="app-check";function We(){}class Ke{constructor(nt,Ee=be){(0,l.c)(this,"zone",void 0),(0,l.c)(this,"delegate",void 0),this.zone=nt,this.delegate=Ee}now(){return this.delegate.now()}schedule(nt,Ee,ve){const Me=this.zone;return this.delegate.schedule(function(ut){Me.runGuarded(()=>{nt.apply(this,[ut])})},Ee,ve)}}class Qe{constructor(nt){(0,l.c)(this,"zone",void 0),(0,l.c)(this,"task",null),this.zone=nt}call(nt,Ee){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)),Ee.pipe((0,Ge.y)({next:ve,complete:ve,error:ve})).subscribe(nt).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ot=(()=>{var Pt;class nt{constructor(ve){(0,l.c)(this,"ngZone",void 0),(0,l.c)(this,"outsideAngular",void 0),(0,l.c)(this,"insideAngular",void 0),this.ngZone=ve,this.outsideAngular=ve.runOutsideAngular(()=>new Ke(Zone.current)),this.insideAngular=ve.run(()=>new Ke(Zone.current,de.M)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Pt=nt,(0,l.c)(nt,"\u0275fac",function(ve){return new(ve||Pt)(x.CoB(x.WW2))}),(0,l.c)(nt,"\u0275prov",x.wxM({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})),nt})();function me(){const Pt=globalThis.\u0275AngularFireScheduler;if(!Pt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Pt}function $e(Pt){return me().ngZone.run(()=>Pt())}function Be(Pt){return Pt.pipe((0,je.y)(me().outsideAngular))}function Ae(Pt){return function ze(Pt){return function(Ee){return(Ee=Ee.lift(new Qe(Pt.ngZone))).pipe((0,He.y)(Pt.outsideAngular),(0,je.y)(Pt.insideAngular))}}(me())(Pt)}const Ct=(Pt,nt)=>function(){const ve=arguments;return nt&&setTimeout(()=>{"scheduled"===nt.state&&nt.invoke()},10),$e(()=>Pt.apply(void 0,ve))},zt=(Pt,nt)=>function(){let Ee;const ve=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof ve[Oe]&&(nt&&(Ee||(Ee=$e(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",We,{},We,We)))),ve[Oe]=Ct(ve[Oe],Ee));const Me=function z(Pt){return me().ngZone.runOutsideAngular(()=>Pt())}(()=>Pt.apply(this,ve));if(!nt){if(Me instanceof le._){const Oe=me();return Me.pipe((0,He.y)(Oe.outsideAngular),(0,je.y)(Oe.insideAngular))}return $e(()=>Me)}return Me instanceof le._?Me.pipe(Ae):Me instanceof Promise?$e(()=>new Promise((Oe,ut)=>Me.then(Ue=>$e(()=>Oe(Ue)),Ue=>$e(()=>ut(Ue))))):"function"==typeof Me&&Ee?function(){return setTimeout(()=>{Ee&&"scheduled"===Ee.state&&Ee.invoke()},10),Me.apply(this,arguments)}:$e(()=>Me)}},4716:(fn,at,O)=>{"use strict";O.d(at,{Ku:()=>Et,ug:()=>Zr,WC:()=>Mt,uW:()=>xi,y:()=>Vl,_t:()=>Us,Gu:()=>Co,WM:()=>ot,Y6:()=>qe,eq:()=>wn,ue:()=>lr,u:()=>An,sl:()=>Za,AQ:()=>$e,sz:()=>Pn});var l=O(4496),x=O(1368),K=O(9900),ie=O(3252),we=O(4300),ce=O(560),ae=O(9472),be=O(7773),Xe=O(4187),de=O(7904),Ge=O(4704);let je=(()=>{var j;class k{constructor(G,Te){this._renderer=G,this._elementRef=Te,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty(G,Te){this._renderer.setProperty(this._elementRef.nativeElement,G,Te)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return(j=k).\u0275fac=function(G){return new(G||j)(l.GI1(l.q87),l.GI1(l.GMv))},j.\u0275dir=l.Sc5({type:j}),k})(),He=(()=>{var j;class k extends je{}return(j=k).\u0275fac=(()=>{let fe;return function(Te){return(fe||(fe=l.otF(j)))(Te||j)}})(),j.\u0275dir=l.Sc5({type:j,features:[l.eg9]}),k})();const qe=new l.UbH(""),Ve={provide:qe,useExisting:(0,l.wd)(()=>We),multi:!0},it=new l.UbH("");let We=(()=>{var j;class k extends je{constructor(G,Te,sn){super(G,Te),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Se(){const j=(0,x.uy)()?(0,x.uy)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(G){this.setProperty("value",null==G?"":G)}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return(j=k).\u0275fac=function(G){return new(G||j)(l.GI1(l.q87),l.GI1(l.GMv),l.GI1(it,8))},j.\u0275dir=l.Sc5({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,Te){1&G&&l.qCj("input",function(Tn){return Te._handleInput(Tn.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(Tn){return Te._compositionEnd(Tn.target.value)})},features:[l.M5G([Ve]),l.eg9]}),k})();function Ke(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function Qe(j){return null!=j&&"number"==typeof j.length}const ot=new l.UbH(""),me=new l.UbH(""),z=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $e{static min(k){return Be(k)}static max(k){return Le(k)}static required(k){return function Ae(j){return Ke(j.value)?{required:!0}:null}(k)}static requiredTrue(k){return function ze(j){return!0===j.value?null:{required:!0}}(k)}static email(k){return function Ct(j){return Ke(j.value)||z.test(j.value)?null:{email:!0}}(k)}static minLength(k){return function zt(j){return k=>Ke(k.value)||!Qe(k.value)?null:k.value.length<j?{minlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function Pt(j){return k=>Qe(k.value)&&k.value.length>j?{maxlength:{requiredLength:j,actualLength:k.value.length}}:null}(k)}static pattern(k){return function nt(j){if(!j)return Ee;let k,fe;return"string"==typeof j?(fe="","^"!==j.charAt(0)&&(fe+="^"),fe+=j,"$"!==j.charAt(j.length-1)&&(fe+="$"),k=new RegExp(fe)):(fe=j.toString(),k=j),G=>{if(Ke(G.value))return null;const Te=G.value;return k.test(Te)?null:{pattern:{requiredPattern:fe,actualValue:Te}}}}(k)}static nullValidator(k){return null}static compose(k){return on(k)}static composeAsync(k){return Bt(k)}}function Be(j){return k=>{if(Ke(k.value)||Ke(j))return null;const fe=parseFloat(k.value);return!isNaN(fe)&&fe<j?{min:{min:j,actual:k.value}}:null}}function Le(j){return k=>{if(Ke(k.value)||Ke(j))return null;const fe=parseFloat(k.value);return!isNaN(fe)&&fe>j?{max:{max:j,actual:k.value}}:null}}function Ee(j){return null}function ve(j){return null!=j}function Me(j){return(0,l.w5$)(j)?(0,K.Q)(j):j}function Oe(j){let k={};return j.forEach(fe=>{k=null!=fe?{...k,...fe}:k}),0===Object.keys(k).length?null:k}function ut(j,k){return k.map(fe=>fe(j))}function Zt(j){return j.map(k=>function Ue(j){return!j.validate}(k)?k:fe=>k.validate(fe))}function on(j){if(!j)return null;const k=j.filter(ve);return 0==k.length?null:function(fe){return Oe(ut(fe,k))}}function Kt(j){return null!=j?on(Zt(j)):null}function Bt(j){if(!j)return null;const k=j.filter(ve);return 0==k.length?null:function(fe){return function le(...j){const k=(0,ae.yu)(j),{args:fe,keys:G}=(0,we.Q)(j),Te=new ie._(sn=>{const{length:Tn}=fe;if(!Tn)return void sn.complete();const bi=new Array(Tn);let ho=Tn,Jo=Tn;for(let xr=0;xr<Tn;xr++){let ws=!1;(0,ce.Uv)(fe[xr]).subscribe((0,be.e)(sn,Gs=>{ws||(ws=!0,Jo--),bi[xr]=Gs},()=>ho--,void 0,()=>{(!ho||!ws)&&(Jo||sn.next(G?(0,de.q)(G,bi):bi),sn.complete())}))}});return k?Te.pipe((0,Xe.j)(k)):Te}(ut(fe,k).map(Me)).pipe((0,Ge.k)(Oe))}}function bn(j){return null!=j?Bt(Zt(j)):null}function tr(j,k){return null===j?[k]:Array.isArray(j)?[...j,k]:[j,k]}function qn(j){return j._rawValidators}function Ft(j){return j._rawAsyncValidators}function Dt(j){return j?Array.isArray(j)?j:[j]:[]}function wt(j,k){return Array.isArray(j)?j.includes(k):j===k}function Ht(j,k){const fe=Dt(k);return Dt(j).forEach(Te=>{wt(fe,Te)||fe.push(Te)}),fe}function hn(j,k){return Dt(k).filter(fe=>!wt(j,fe))}class qt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k=void 0){this.control&&this.control.reset(k)}hasError(k,fe){return!!this.control&&this.control.hasError(k,fe)}getError(k,fe){return this.control?this.control.getError(k,fe):null}}class mt extends qt{get formDirective(){return null}get path(){return null}}class wn extends qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kn{constructor(k){this._cd=k}get isTouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.touched)}get isUntouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.untouched)}get isPristine(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pristine)}get isDirty(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.dirty)}get isValid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.valid)}get isInvalid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.invalid)}get isPending(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pending)}get isSubmitted(){var k;return!(null===(k=this._cd)||void 0===k||!k.submitted)}}let lr=(()=>{var j;class k extends kn{constructor(G){super(G)}}return(j=k).\u0275fac=function(G){return new(G||j)(l.GI1(wn,2))},j.\u0275dir=l.Sc5({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,Te){2&G&&l.eAK("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)},features:[l.eg9]}),k})(),An=(()=>{var j;class k extends kn{constructor(G){super(G)}}return(j=k).\u0275fac=function(G){return new(G||j)(l.GI1(mt,10))},j.\u0275dir=l.Sc5({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,Te){2&G&&l.eAK("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)("ng-submitted",Te.isSubmitted)},features:[l.eg9]}),k})();const Rt="VALID",et="INVALID",Tt="PENDING",tt="DISABLED";function oe(j){return(F(j)?j.validators:j)||null}function Z(j,k){return(F(k)?k.asyncValidators:j)||null}function F(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}class ct{constructor(k,fe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(fe)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Rt}get invalid(){return this.status===et}get pending(){return this.status==Tt}get disabled(){return this.status===tt}get enabled(){return this.status!==tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(Ht(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Ht(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(hn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(hn(k,this._rawAsyncValidators))}hasValidator(k){return wt(this._rawValidators,k)}hasAsyncValidator(k){return wt(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(fe=>{fe.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(fe=>{fe.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=Tt,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const fe=this._parentMarkedDirty(k.onlySelf);this.status=tt,this.errors=null,this._forEachChild(G=>{G.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:fe}),this._onDisabledChange.forEach(G=>G(!0))}enable(k={}){const fe=this._parentMarkedDirty(k.onlySelf);this.status=Rt,this._forEachChild(G=>{G.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:fe}),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rt||this.status===Tt)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(fe=>fe._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tt:Rt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=Tt,this._hasOwnPendingAsyncValidator=!0;const fe=Me(this.asyncValidator(this));this._asyncValidationSubscription=fe.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,fe={}){this.errors=k,this._updateControlsErrors(!1!==fe.emitEvent)}get(k){let fe=k;return null==fe||(Array.isArray(fe)||(fe=fe.split(".")),0===fe.length)?null:fe.reduce((G,Te)=>G&&G._find(Te),this)}getError(k,fe){const G=fe?this.get(fe):this;return G&&G.errors?G.errors[k]:null}hasError(k,fe){return!!this.getError(k,fe)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new l._w7,this.statusChanges=new l._w7}_calculateStatus(){return this._allControlsDisabled()?tt:this.errors?et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tt)?Tt:this._anyControlsHaveStatus(et)?et:Rt}_anyControlsHaveStatus(k){return this._anyControls(fe=>fe.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){F(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function he(j){return Array.isArray(j)?Kt(j):j||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function R(j){return Array.isArray(j)?bn(j):j||null}(this._rawAsyncValidators)}}class Mt extends ct{constructor(k,fe,G){super(oe(fe),Z(G,fe)),this.controls=k,this._initObservables(),this._setUpdateStrategy(fe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,fe){return this.controls[k]?this.controls[k]:(this.controls[k]=fe,fe.setParent(this),fe._registerOnCollectionChange(this._onCollectionChange),fe)}addControl(k,fe,G={}){this.registerControl(k,fe),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(k,fe={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}setControl(k,fe,G={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],fe&&this.registerControl(k,fe),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,fe={}){(function Pe(j,k,fe){j._forEachChild((G,Te)=>{if(void 0===fe[Te])throw new l.OBp(1002,"")})})(this,0,k),Object.keys(k).forEach(G=>{(function pe(j,k,fe){const G=j.controls;if(!(k?Object.keys(G):G).length)throw new l.OBp(1e3,"");if(!G[fe])throw new l.OBp(1001,"")})(this,!0,G),this.controls[G].setValue(k[G],{onlySelf:!0,emitEvent:fe.emitEvent})}),this.updateValueAndValidity(fe)}patchValue(k,fe={}){null!=k&&(Object.keys(k).forEach(G=>{const Te=this.controls[G];Te&&Te.patchValue(k[G],{onlySelf:!0,emitEvent:fe.emitEvent})}),this.updateValueAndValidity(fe))}reset(k={},fe={}){this._forEachChild((G,Te)=>{G.reset(k?k[Te]:null,{onlySelf:!0,emitEvent:fe.emitEvent})}),this._updatePristine(fe),this._updateTouched(fe),this.updateValueAndValidity(fe)}getRawValue(){return this._reduceChildren({},(k,fe,G)=>(k[G]=fe.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(fe,G)=>!!G._syncPendingControls()||fe);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(fe=>{const G=this.controls[fe];G&&k(G,fe)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[fe,G]of Object.entries(this.controls))if(this.contains(fe)&&k(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(fe,G,Te)=>((G.enabled||this.disabled)&&(fe[Te]=G.value),fe))}_reduceChildren(k,fe){let G=k;return this._forEachChild((Te,sn)=>{G=fe(G,Te,sn)}),G}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}const Gn=new l.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>Jn}),Jn="always";function _t(j,k,fe=Jn){var G,Te;Hn(j,k),k.valueAccessor.writeValue(j.value),(j.disabled||"always"===fe)&&(null===(G=(Te=k.valueAccessor).setDisabledState)||void 0===G||G.call(Te,j.disabled)),function Br(j,k){k.valueAccessor.registerOnChange(fe=>{j._pendingValue=fe,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Mr(j,k)})}(j,k),function ki(j,k){const fe=(G,Te)=>{k.valueAccessor.writeValue(G),Te&&k.viewToModelUpdate(G)};j.registerOnChange(fe),k._registerOnDestroy(()=>{j._unregisterOnChange(fe)})}(j,k),function Ar(j,k){k.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Mr(j,k),"submit"!==j.updateOn&&j.markAsTouched()})}(j,k),function ir(j,k){if(k.valueAccessor.setDisabledState){const fe=G=>{k.valueAccessor.setDisabledState(G)};j.registerOnDisabledChange(fe),k._registerOnDestroy(()=>{j._unregisterOnDisabledChange(fe)})}}(j,k)}function Gt(j,k,fe=!0){const G=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(G),k.valueAccessor.registerOnTouched(G)),er(j,k),j&&(k._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function _n(j,k){j.forEach(fe=>{fe.registerOnValidatorChange&&fe.registerOnValidatorChange(k)})}function Hn(j,k){const fe=qn(j);null!==k.validator?j.setValidators(tr(fe,k.validator)):"function"==typeof fe&&j.setValidators([fe]);const G=Ft(j);null!==k.asyncValidator?j.setAsyncValidators(tr(G,k.asyncValidator)):"function"==typeof G&&j.setAsyncValidators([G]);const Te=()=>j.updateValueAndValidity();_n(k._rawValidators,Te),_n(k._rawAsyncValidators,Te)}function er(j,k){let fe=!1;if(null!==j){if(null!==k.validator){const Te=qn(j);if(Array.isArray(Te)&&Te.length>0){const sn=Te.filter(Tn=>Tn!==k.validator);sn.length!==Te.length&&(fe=!0,j.setValidators(sn))}}if(null!==k.asyncValidator){const Te=Ft(j);if(Array.isArray(Te)&&Te.length>0){const sn=Te.filter(Tn=>Tn!==k.asyncValidator);sn.length!==Te.length&&(fe=!0,j.setAsyncValidators(sn))}}}const G=()=>{};return _n(k._rawValidators,G),_n(k._rawAsyncValidators,G),fe}function Mr(j,k){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function Qn(j,k){const fe=j.indexOf(k);fe>-1&&j.splice(fe,1)}function li(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}Promise.resolve();const Et=class extends ct{constructor(k=null,fe,G){super(oe(fe),Z(G,fe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(fe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(fe)&&(fe.nonNullable||fe.initialValueIsDefault)&&(this.defaultValue=li(k)?k.value:k)}setValue(k,fe={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==fe.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==fe.emitViewToModelChange)),this.updateValueAndValidity(fe)}patchValue(k,fe={}){this.setValue(k,fe)}reset(k=this.defaultValue,fe={}){this._applyFormState(k),this.markAsPristine(fe),this.markAsUntouched(fe),this.setValue(this.value,fe),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Qn(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Qn(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){li(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}};Promise.resolve();let Pn=(()=>{var j;class k{}return(j=k).\u0275fac=function(G){return new(G||j)},j.\u0275dir=l.Sc5({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const Qt=new l.UbH(""),Er={provide:wn,useExisting:(0,l.wd)(()=>Zr)};let Zr=(()=>{var j;class k extends wn{set isDisabled(G){}constructor(G,Te,sn,Tn,bi){super(),this._ngModelWarningConfig=Tn,this.callSetDisabledState=bi,this.update=new l._w7,this._ngModelWarningSent=!1,this._setValidators(G),this._setAsyncValidators(Te),this.valueAccessor=function Ce(j,k){if(!k)return null;let fe,G,Te;return Array.isArray(k),k.forEach(sn=>{sn.constructor===We?fe=sn:function xe(j){return Object.getPrototypeOf(j.constructor)===He}(sn)?G=sn:Te=sn}),Te||G||fe||null}(0,sn)}ngOnChanges(G){if(this._isControlChanged(G)){const Te=G.form.previousValue;Te&&Gt(Te,this,!1),_t(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Re(j,k){if(!j.hasOwnProperty("model"))return!1;const fe=j.model;return!!fe.isFirstChange()||!Object.is(k,fe.currentValue)})(G,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Gt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_isControlChanged(G){return G.hasOwnProperty("form")}}return(j=k)._ngModelWarningSentOnce=!1,j.\u0275fac=function(G){return new(G||j)(l.GI1(ot,10),l.GI1(me,10),l.GI1(qe,10),l.GI1(Qt,8),l.GI1(Gn,8))},j.\u0275dir=l.Sc5({type:j,selectors:[["","formControl",""]],inputs:{form:[l.Wk5.None,"formControl","form"],isDisabled:[l.Wk5.None,"disabled","isDisabled"],model:[l.Wk5.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l.M5G([Er]),l.eg9,l.SYr]}),k})();const Yr={provide:mt,useExisting:(0,l.wd)(()=>xi)};let xi=(()=>{var j;class k extends mt{constructor(G,Te,sn){super(),this.callSetDisabledState=sn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l._w7,this._setValidators(G),this._setAsyncValidators(Te)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const Te=this.form.get(G.path);return _t(Te,G,this.callSetDisabledState),Te.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),Te}getControl(G){return this.form.get(G.path)}removeControl(G){Gt(G.control||null,G,!1),function pt(j,k){const fe=j.indexOf(k);fe>-1&&j.splice(fe,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,Te){this.form.get(G.path).setValue(Te)}onSubmit(G){var Te;return this.submitted=!0,function X(j,k){j._syncPendingControls(),k.forEach(fe=>{const G=fe.control;"submit"===G.updateOn&&G._pendingChange&&(fe.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(G),"dialog"===(null==G||null===(Te=G.target)||void 0===Te?void 0:Te.method)}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submitted=!1}_updateDomValue(){this.directives.forEach(G=>{const Te=G.control,sn=this.form.get(G.path);Te!==sn&&(Gt(Te||null,G),(j=>j instanceof Et)(sn)&&(_t(sn,G,this.callSetDisabledState),G.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const Te=this.form.get(G.path);(function so(j,k){Hn(j,k)})(Te,G),Te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const Te=this.form.get(G.path);Te&&function hr(j,k){return er(j,k)}(Te,G)&&Te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hn(this.form,this),this._oldForm&&er(this._oldForm,this)}_checkFormPresent(){}}return(j=k).\u0275fac=function(G){return new(G||j)(l.GI1(ot,10),l.GI1(me,10),l.GI1(Gn,8))},j.\u0275dir=l.Sc5({type:j,selectors:[["","formGroup",""]],hostBindings:function(G,Te){1&G&&l.qCj("submit",function(Tn){return Te.onSubmit(Tn)})("reset",function(){return Te.onReset()})},inputs:{form:[l.Wk5.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.M5G([Yr]),l.eg9,l.SYr]}),k})();function Cs(j){return"number"==typeof j?j:parseFloat(j)}let ji=(()=>{var j;class k{constructor(){this._validator=Ee}ngOnChanges(G){if(this.inputName in G){const Te=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(Te),this._validator=this._enabled?this.createValidator(Te):Ee,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return(j=k).\u0275fac=function(G){return new(G||j)},j.\u0275dir=l.Sc5({type:j,features:[l.SYr]}),k})();const ba={provide:ot,useExisting:(0,l.wd)(()=>Us),multi:!0};let Us=(()=>{var j;class k extends ji{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=G=>Cs(G),this.createValidator=G=>Le(G)}}return(j=k).\u0275fac=(()=>{let fe;return function(Te){return(fe||(fe=l.otF(j)))(Te||j)}})(),j.\u0275dir=l.Sc5({type:j,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,Te){2&G&&l.e48("max",Te._enabled?Te.max:null)},inputs:{max:"max"},features:[l.M5G([ba]),l.eg9]}),k})();const Si={provide:ot,useExisting:(0,l.wd)(()=>Co),multi:!0};let Co=(()=>{var j;class k extends ji{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=G=>Cs(G),this.createValidator=G=>Be(G)}}return(j=k).\u0275fac=(()=>{let fe;return function(Te){return(fe||(fe=l.otF(j)))(Te||j)}})(),j.\u0275dir=l.Sc5({type:j,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(G,Te){2&G&&l.e48("min",Te._enabled?Te.min:null)},inputs:{min:"min"},features:[l.M5G([Si]),l.eg9]}),k})(),Fl=(()=>{var j;class k{}return(j=k).\u0275fac=function(G){return new(G||j)},j.\u0275mod=l.a4G({type:j}),j.\u0275inj=l.s3X({}),k})(),Vl=(()=>{var j;class k{static withConfig(G){var Te;return{ngModule:k,providers:[{provide:Gn,useValue:null!==(Te=G.callSetDisabledState)&&void 0!==Te?Te:Jn}]}}}return(j=k).\u0275fac=function(G){return new(G||j)},j.\u0275mod=l.a4G({type:j}),j.\u0275inj=l.s3X({imports:[Fl]}),k})(),Za=(()=>{var j;class k{static withConfig(G){var Te,sn;return{ngModule:k,providers:[{provide:Qt,useValue:null!==(Te=G.warnOnNgModelWithFormControl)&&void 0!==Te?Te:"always"},{provide:Gn,useValue:null!==(sn=G.callSetDisabledState)&&void 0!==sn?sn:Jn}]}}}return(j=k).\u0275fac=function(G){return new(G||j)},j.\u0275mod=l.a4G({type:j}),j.\u0275inj=l.s3X({imports:[Fl]}),k})()},4476:(fn,at,O)=>{"use strict";O.d(at,{OY:()=>hn,iE:()=>Dt,o_:()=>bn});var l=O(4496),x=O(1368);class K extends x.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends K{static makeCurrent(){(0,x.ug)(new ie)}onAndCancel(et,Tt,tt){return et.addEventListener(Tt,tt),()=>{et.removeEventListener(Tt,tt)}}dispatchEvent(et,Tt){et.dispatchEvent(Tt)}remove(et){et.parentNode&&et.parentNode.removeChild(et)}createElement(et,Tt){return(Tt=Tt||this.getDefaultDocument()).createElement(et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(et){return et.nodeType===Node.ELEMENT_NODE}isShadowRoot(et){return et instanceof DocumentFragment}getGlobalEventTarget(et,Tt){return"window"===Tt?window:"document"===Tt?et:"body"===Tt?et.body:null}getBaseHref(et){const Tt=function ce(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==Tt?null:function ae(Rt){return new URL(Rt,document.baseURI).pathname}(Tt)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(et){return(0,x.Sg)(document.cookie,et)}}let we=null,Xe=(()=>{var Rt;class et{build(){return new XMLHttpRequest}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac}),et})();const de=new l.UbH("");let le=(()=>{var Rt;class et{constructor(tt,oe){this._zone=oe,this._eventNameToPlugin=new Map,tt.forEach(he=>{he.manager=this}),this._plugins=tt.slice().reverse()}addEventListener(tt,oe,he){return this._findPluginFor(oe).addEventListener(tt,oe,he)}getZone(){return this._zone}_findPluginFor(tt){let oe=this._eventNameToPlugin.get(tt);if(oe)return oe;if(oe=this._plugins.find(Z=>Z.supports(tt)),!oe)throw new l.OBp(5101,!1);return this._eventNameToPlugin.set(tt,oe),oe}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(de),l.CoB(l.WW2))},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac}),et})();class Ge{constructor(et){this._doc=et}}const je="ng-app-id";let He=(()=>{var Rt;class et{constructor(tt,oe,he,Z={}){this.doc=tt,this.appId=oe,this.nonce=he,this.platformId=Z,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,x.uf)(Z),this.resetHostNodes()}addStyles(tt){for(const oe of tt)1===this.changeUsageCount(oe,1)&&this.onStyleAdded(oe)}removeStyles(tt){for(const oe of tt)this.changeUsageCount(oe,-1)<=0&&this.onStyleRemoved(oe)}ngOnDestroy(){const tt=this.styleNodesInDOM;tt&&(tt.forEach(oe=>oe.remove()),tt.clear());for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.resetHostNodes()}addHost(tt){this.hostNodes.add(tt);for(const oe of this.getAllStyles())this.addStyleToHost(tt,oe)}removeHost(tt){this.hostNodes.delete(tt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(tt){for(const oe of this.hostNodes)this.addStyleToHost(oe,tt)}onStyleRemoved(tt){var oe;const he=this.styleRef;null===(oe=he.get(tt))||void 0===oe||null===(oe=oe.elements)||void 0===oe||oe.forEach(Z=>Z.remove()),he.delete(tt)}collectServerRenderedStyles(){var tt;const oe=null===(tt=this.doc.head)||void 0===tt?void 0:tt.querySelectorAll(`style[${je}="${this.appId}"]`);if(null!=oe&&oe.length){const he=new Map;return oe.forEach(Z=>{null!=Z.textContent&&he.set(Z.textContent,Z)}),he}return null}changeUsageCount(tt,oe){const he=this.styleRef;if(he.has(tt)){const Z=he.get(tt);return Z.usage+=oe,Z.usage}return he.set(tt,{usage:oe,elements:[]}),oe}getStyleElement(tt,oe){const he=this.styleNodesInDOM,Z=null==he?void 0:he.get(oe);if((null==Z?void 0:Z.parentNode)===tt)return he.delete(oe),Z.removeAttribute(je),Z;{const R=this.doc.createElement("style");return this.nonce&&R.setAttribute("nonce",this.nonce),R.textContent=oe,this.platformIsServer&&R.setAttribute(je,this.appId),tt.appendChild(R),R}}addStyleToHost(tt,oe){var he;const Z=this.getStyleElement(tt,oe),R=this.styleRef,F=null===(he=R.get(oe))||void 0===he?void 0:he.elements;F?F.push(Z):R.set(oe,{elements:[Z],usage:1})}resetHostNodes(){const tt=this.hostNodes;tt.clear(),tt.add(this.doc.head)}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(x.Ud),l.CoB(l.QHP),l.CoB(l.YND,8),l.CoB(l.AHE))},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac}),et})();const qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ft=/%COMP%/g,We=new l.UbH("",{providedIn:"root",factory:()=>!0});function ot(Rt,et){return et.map(Tt=>Tt.replace(ft,Rt))}let me=(()=>{var Rt;class et{constructor(tt,oe,he,Z,R,F,pe,Pe=null){this.eventManager=tt,this.sharedStylesHost=oe,this.appId=he,this.removeStylesOnCompDestroy=Z,this.doc=R,this.platformId=F,this.ngZone=pe,this.nonce=Pe,this.rendererByCompId=new Map,this.platformIsServer=(0,x.uf)(F),this.defaultRenderer=new z(tt,R,pe,this.platformIsServer)}createRenderer(tt,oe){if(!tt||!oe)return this.defaultRenderer;this.platformIsServer&&oe.encapsulation===l.K6R.ShadowDom&&(oe={...oe,encapsulation:l.K6R.Emulated});const he=this.getOrCreateRenderer(tt,oe);return he instanceof Ct?he.applyToHost(tt):he instanceof ze&&he.applyStyles(),he}getOrCreateRenderer(tt,oe){const he=this.rendererByCompId;let Z=he.get(oe.id);if(!Z){const R=this.doc,F=this.ngZone,pe=this.eventManager,Pe=this.sharedStylesHost,ct=this.removeStylesOnCompDestroy,Mt=this.platformIsServer;switch(oe.encapsulation){case l.K6R.Emulated:Z=new Ct(pe,Pe,oe,this.appId,ct,R,F,Mt);break;case l.K6R.ShadowDom:return new Ae(pe,Pe,tt,oe,R,F,this.nonce,Mt);default:Z=new ze(pe,Pe,oe,ct,R,F,Mt)}he.set(oe.id,Z)}return Z}ngOnDestroy(){this.rendererByCompId.clear()}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(le),l.CoB(He),l.CoB(l.QHP),l.CoB(We),l.CoB(x.Ud),l.CoB(l.AHE),l.CoB(l.WW2),l.CoB(l.YND))},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac}),et})();class z{constructor(et,Tt,tt,oe){this.eventManager=et,this.doc=Tt,this.ngZone=tt,this.platformIsServer=oe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(et,Tt){return Tt?this.doc.createElementNS(qe[Tt]||Tt,et):this.doc.createElement(et)}createComment(et){return this.doc.createComment(et)}createText(et){return this.doc.createTextNode(et)}appendChild(et,Tt){(Le(et)?et.content:et).appendChild(Tt)}insertBefore(et,Tt,tt){et&&(Le(et)?et.content:et).insertBefore(Tt,tt)}removeChild(et,Tt){et&&et.removeChild(Tt)}selectRootElement(et,Tt){let tt="string"==typeof et?this.doc.querySelector(et):et;if(!tt)throw new l.OBp(-5104,!1);return Tt||(tt.textContent=""),tt}parentNode(et){return et.parentNode}nextSibling(et){return et.nextSibling}setAttribute(et,Tt,tt,oe){if(oe){Tt=oe+":"+Tt;const he=qe[oe];he?et.setAttributeNS(he,Tt,tt):et.setAttribute(Tt,tt)}else et.setAttribute(Tt,tt)}removeAttribute(et,Tt,tt){if(tt){const oe=qe[tt];oe?et.removeAttributeNS(oe,Tt):et.removeAttribute(`${tt}:${Tt}`)}else et.removeAttribute(Tt)}addClass(et,Tt){et.classList.add(Tt)}removeClass(et,Tt){et.classList.remove(Tt)}setStyle(et,Tt,tt,oe){oe&(l.yzm.DashCase|l.yzm.Important)?et.style.setProperty(Tt,tt,oe&l.yzm.Important?"important":""):et.style[Tt]=tt}removeStyle(et,Tt,tt){tt&l.yzm.DashCase?et.style.removeProperty(Tt):et.style[Tt]=""}setProperty(et,Tt,tt){null!=et&&(et[Tt]=tt)}setValue(et,Tt){et.nodeValue=Tt}listen(et,Tt,tt){if("string"==typeof et&&!(et=(0,x.uy)().getGlobalEventTarget(this.doc,et)))throw new Error(`Unsupported event target ${et} for event ${Tt}`);return this.eventManager.addEventListener(et,Tt,this.decoratePreventDefault(tt))}decoratePreventDefault(et){return Tt=>{if("__ngUnwrap__"===Tt)return et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>et(Tt)):et(Tt))&&Tt.preventDefault()}}}function Le(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class Ae extends z{constructor(et,Tt,tt,oe,he,Z,R,F){super(et,he,Z,F),this.sharedStylesHost=Tt,this.hostEl=tt,this.shadowRoot=tt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pe=ot(oe.id,oe.styles);for(const Pe of pe){const ct=document.createElement("style");R&&ct.setAttribute("nonce",R),ct.textContent=Pe,this.shadowRoot.appendChild(ct)}}nodeOrShadowRoot(et){return et===this.hostEl?this.shadowRoot:et}appendChild(et,Tt){return super.appendChild(this.nodeOrShadowRoot(et),Tt)}insertBefore(et,Tt,tt){return super.insertBefore(this.nodeOrShadowRoot(et),Tt,tt)}removeChild(et,Tt){return super.removeChild(this.nodeOrShadowRoot(et),Tt)}parentNode(et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ze extends z{constructor(et,Tt,tt,oe,he,Z,R,F){super(et,he,Z,R),this.sharedStylesHost=Tt,this.removeStylesOnCompDestroy=oe,this.styles=F?ot(F,tt.styles):tt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ct extends ze{constructor(et,Tt,tt,oe,he,Z,R,F){const pe=oe+"-"+tt.id;super(et,Tt,tt,he,Z,R,F,pe),this.contentAttr=function Ke(Rt){return"_ngcontent-%COMP%".replace(ft,Rt)}(pe),this.hostAttr=function Qe(Rt){return"_nghost-%COMP%".replace(ft,Rt)}(pe)}applyToHost(et){this.applyStyles(),this.setAttribute(et,this.hostAttr,"")}createElement(et,Tt){const tt=super.createElement(et,Tt);return super.setAttribute(tt,this.contentAttr,""),tt}}let zt=(()=>{var Rt;class et extends Ge{constructor(tt){super(tt)}supports(tt){return!0}addEventListener(tt,oe,he){return tt.addEventListener(oe,he,!1),()=>this.removeEventListener(tt,oe,he)}removeEventListener(tt,oe,he){return tt.removeEventListener(oe,he)}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(x.Ud))},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac}),et})();const Pt=["alt","control","meta","shift"],nt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ee={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let ve=(()=>{var Rt;class et extends Ge{constructor(tt){super(tt)}supports(tt){return null!=et.parseEventName(tt)}addEventListener(tt,oe,he){const Z=et.parseEventName(oe),R=et.eventCallback(Z.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.uy)().onAndCancel(tt,Z.domEventName,R))}static parseEventName(tt){const oe=tt.toLowerCase().split("."),he=oe.shift();if(0===oe.length||"keydown"!==he&&"keyup"!==he)return null;const Z=et._normalizeKey(oe.pop());let R="",F=oe.indexOf("code");if(F>-1&&(oe.splice(F,1),R="code."),Pt.forEach(Pe=>{const ct=oe.indexOf(Pe);ct>-1&&(oe.splice(ct,1),R+=Pe+".")}),R+=Z,0!=oe.length||0===Z.length)return null;const pe={};return pe.domEventName=he,pe.fullKey=R,pe}static matchEventFullKeyCode(tt,oe){let he=nt[tt.key]||tt.key,Z="";return oe.indexOf("code.")>-1&&(he=tt.code,Z="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),Pt.forEach(R=>{R!==he&&(0,Ee[R])(tt)&&(Z+=R+".")}),Z+=he,Z===oe)}static eventCallback(tt,oe,he){return Z=>{et.matchEventFullKeyCode(Z,tt)&&he.runGuarded(()=>oe(Z))}}static _normalizeKey(tt){return"esc"===tt?"escape":tt}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(x.Ud))},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac}),et})();const bn=(0,l.grM)(l.m4O,"browser",[{provide:l.AHE,useValue:x._k},{provide:l.crf,useValue:function Zt(){ie.makeCurrent()},multi:!0},{provide:x.Ud,useFactory:function Kt(){return(0,l.auf)(document),document},deps:[]}]),tr=new l.UbH(""),qn=[{provide:l.Mn9,useClass:class be{addToWindow(et){l.IHs.getAngularTestability=(tt,oe=!0)=>{const he=et.findTestabilityInTree(tt,oe);if(null==he)throw new l.OBp(5103,!1);return he},l.IHs.getAllAngularTestabilities=()=>et.getAllTestabilities(),l.IHs.getAllAngularRootElements=()=>et.getAllRootElements(),l.IHs.frameworkStabilizers||(l.IHs.frameworkStabilizers=[]),l.IHs.frameworkStabilizers.push(tt=>{const oe=l.IHs.getAllAngularTestabilities();let he=oe.length;const Z=function(){he--,0==he&&tt()};oe.forEach(R=>{R.whenStable(Z)})})}findTestabilityInTree(et,Tt,tt){if(null==Tt)return null;const oe=et.getTestability(Tt);return null!=oe?oe:tt?(0,x.uy)().isShadowRoot(Tt)?this.findTestabilityInTree(et,Tt.host,!0):this.findTestabilityInTree(et,Tt.parentElement,!0):null}},deps:[]},{provide:l.aS5,useClass:l.G4X,deps:[l.WW2,l.eOv,l.Mn9]},{provide:l.G4X,useClass:l.G4X,deps:[l.WW2,l.eOv,l.Mn9]}],Ft=[{provide:l.i4S,useValue:"root"},{provide:l.eAe,useFactory:function on(){return new l.eAe},deps:[]},{provide:de,useClass:zt,multi:!0,deps:[x.Ud,l.WW2,l.AHE]},{provide:de,useClass:ve,multi:!0,deps:[x.Ud]},me,He,le,{provide:l.O8F,useExisting:me},{provide:x.OM,useClass:Xe,deps:[]},[]];let Dt=(()=>{var Rt;class et{constructor(tt){}static withServerTransition(tt){return{ngModule:et,providers:[{provide:l.QHP,useValue:tt.appId}]}}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(tr,12))},Rt.\u0275mod=l.a4G({type:Rt}),Rt.\u0275inj=l.s3X({providers:[...Ft,...qn],imports:[x.MD,l.Ev2]}),et})(),hn=(()=>{var Rt;class et{constructor(tt){this._doc=tt}getTitle(){return this._doc.title}setTitle(tt){this._doc.title=tt||""}}return(Rt=et).\u0275fac=function(tt){return new(tt||Rt)(l.CoB(x.Ud))},Rt.\u0275prov=l.wxM({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),et})()},4196:(fn,at,O)=>{"use strict";O.d(at,{gV:()=>Yr,O4:()=>ii,Qx:()=>pt,gf:()=>Bt,eu:()=>Il,XE:()=>mn,E5:()=>Xi,ER:()=>Lr,qQ:()=>Qs,qd:()=>vn});var l=O(4496),x=O(3252),K=O(8880),we=O(9900),ce=O(2700),ae=O(6700),be=O(6040),Xe=O(7696),de=O(7228),le=O(560);function Ge(y){return new x._(w=>{(0,le.Uv)(y()).subscribe(w)})}var je=O(3928);function He(y,w){const P=(0,K.m)(y)?y:()=>y,T=V=>V.error(P());return new x._(w?V=>w.schedule(T,0,V):T)}var qe=O(8960),ft=O(6928),Ye=O(5448),Ve=O(7773);function Se(){return(0,Ye.i)((y,w)=>{let P=null;y._refCount++;const T=(0,Ve.e)(w,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(P=null);const V=y._connection,J=P;P=null,V&&(!J||V===J)&&V.unsubscribe(),w.unsubscribe()});y.subscribe(T),T.closed||(P=y.connect())})}class it extends x._{constructor(w,P){super(),this.source=w,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.e)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ft.wH;const P=this.getSubject();w.add(this.source.subscribe((0,Ve.e)(P,void 0,()=>{this._teardown(),P.complete()},T=>{this._teardown(),P.error(T)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ft.wH.EMPTY)}return w}refCount(){return Se()(this)}}var We=O(5657),Ke=O(1368),Qe=O(4704),ot=O(7368),me=O(3992),z=O(5568),$e=O(6684),Be=O(7400),Le=O(5084);function Ae(y,w){return(0,K.m)(w)?(0,Be.O)(y,w,1):(0,Be.O)(y,1)}var ze=O(9212);function Ct(y){return(0,Ye.i)((w,P)=>{let J,T=null,V=!1;T=w.subscribe((0,Ve.e)(P,void 0,void 0,ye=>{J=(0,le.Uv)(y(ye,Ct(y)(w))),T?(T.unsubscribe(),T=null,J.subscribe(P)):V=!0})),V&&(T.unsubscribe(),T=null,J.subscribe(P))})}var zt=O(208),Pt=O(2156);function nt(y){return y<=0?()=>qe.k:(0,Ye.i)((w,P)=>{let T=[];w.subscribe((0,Ve.e)(P,V=>{T.push(V),y<T.length&&T.shift()},()=>{for(const V of T)P.next(V);P.complete()},void 0,()=>{T=null}))})}var Ee=O(8124),ve=O(528);function ut(y){return(0,Ye.i)((w,P)=>{try{w.subscribe(P)}finally{P.add(y)}})}var Ue=O(308),on=O(267),Kt=O(4476);const Bt="primary",bn=Symbol("RouteTitle");class tr{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const P=this.params[w];return Array.isArray(P)?P[0]:P}return null}getAll(w){if(this.has(w)){const P=this.params[w];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function qn(y){return new tr(y)}function Ft(y,w,P){const T=P.path.split("/");if(T.length>y.length||"full"===P.pathMatch&&(w.hasChildren()||T.length<y.length))return null;const V={};for(let J=0;J<T.length;J++){const ye=T[J],yt=y[J];if(ye.startsWith(":"))V[ye.substring(1)]=yt;else if(ye!==yt.path)return null}return{consumed:y.slice(0,T.length),posParams:V}}function wt(y,w){const P=y?Ht(y):void 0,T=w?Ht(w):void 0;if(!P||!T||P.length!=T.length)return!1;let V;for(let J=0;J<P.length;J++)if(V=P[J],!hn(y[V],w[V]))return!1;return!0}function Ht(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function hn(y,w){if(Array.isArray(y)&&Array.isArray(w)){if(y.length!==w.length)return!1;const P=[...y].sort(),T=[...w].sort();return P.every((V,J)=>T[J]===V)}return y===w}function qt(y){return y.length>0?y[y.length-1]:null}function mt(y){return function ie(y){return!!y&&(y instanceof x._||(0,K.m)(y.lift)&&(0,K.m)(y.subscribe))}(y)?y:(0,l.w5$)(y)?(0,we.Q)(Promise.resolve(y)):(0,ce.of)(y)}const wn={exact:function lr(y,w,P){if(!Sn(y.segments,w.segments)||!di(y.segments,w.segments,P)||y.numberOfChildren!==w.numberOfChildren)return!1;for(const T in w.children)if(!y.children[T]||!lr(y.children[T],w.children[T],P))return!1;return!0},subset:$n},kn={exact:function mr(y,w){return wt(y,w)},subset:function An(y,w){return Object.keys(w).length<=Object.keys(y).length&&Object.keys(w).every(P=>hn(y[P],w[P]))},ignored:()=>!0};function pr(y,w,P){return wn[P.paths](y.root,w.root,P.matrixParams)&&kn[P.queryParams](y.queryParams,w.queryParams)&&!("exact"===P.fragment&&y.fragment!==w.fragment)}function $n(y,w,P){return vr(y,w,w.segments,P)}function vr(y,w,P,T){if(y.segments.length>P.length){const V=y.segments.slice(0,P.length);return!(!Sn(V,P)||w.hasChildren()||!di(V,P,T))}if(y.segments.length===P.length){if(!Sn(y.segments,P)||!di(y.segments,P,T))return!1;for(const V in w.children)if(!y.children[V]||!$n(y.children[V],w.children[V],T))return!1;return!0}{const V=P.slice(0,y.segments.length),J=P.slice(y.segments.length);return!!(Sn(y.segments,V)&&di(y.segments,V,T)&&y.children[Bt])&&vr(y.children[Bt],w,J,T)}}function di(y,w,P){return w.every((T,V)=>kn[P](y[V].parameters,T.parameters))}class zn{constructor(w=new Cn([],{}),P={},T=null){this.root=w,this.queryParams=P,this.fragment=T}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=qn(this.queryParams)),this._queryParamMap}toString(){return ai.serialize(this)}}class Cn{constructor(w,P){this.segments=w,this.children=P,this.parent=null,Object.values(P).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dr(this)}}class Ir{constructor(w,P){this.path=w,this.parameters=P}get parameterMap(){var w;return null!==(w=this._parameterMap)&&void 0!==w||(this._parameterMap=qn(this.parameters)),this._parameterMap}toString(){return tt(this)}}function Sn(y,w){return y.length===w.length&&y.every((P,T)=>P.path===w[T].path)}let vn=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:()=>new sr,providedIn:"root"}),w})();class sr{parse(w){const P=new tn(w);return new zn(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(w){const P=`/${Bn(w.root,!0)}`,T=function he(y){const w=Object.entries(y).map(([P,T])=>Array.isArray(T)?T.map(V=>`${wr(P)}=${wr(V)}`).join("&"):`${wr(P)}=${wr(T)}`).filter(P=>P);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${P}${T}${"string"==typeof w.fragment?`#${function Ei(y){return encodeURI(y)}(w.fragment)}`:""}`}}const ai=new sr;function Dr(y){return y.segments.map(w=>tt(w)).join("/")}function Bn(y,w){if(!y.hasChildren())return Dr(y);if(w){const P=y.children[Bt]?Bn(y.children[Bt],!1):"",T=[];return Object.entries(y.children).forEach(([V,J])=>{V!==Bt&&T.push(`${V}:${Bn(J,!1)}`)}),T.length>0?`${P}(${T.join("//")})`:P}{const P=function Un(y,w){let P=[];return Object.entries(y.children).forEach(([T,V])=>{T===Bt&&(P=P.concat(w(V,T)))}),Object.entries(y.children).forEach(([T,V])=>{T!==Bt&&(P=P.concat(w(V,T)))}),P}(y,(T,V)=>V===Bt?[Bn(y.children[Bt],!1)]:[`${V}:${Bn(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Bt]?`${Dr(y)}/${P[0]}`:`${Dr(y)}/(${P.join("//")})`}}function Zn(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wr(y){return Zn(y).replace(/%3B/gi,";")}function Rt(y){return Zn(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function et(y){return decodeURIComponent(y)}function Tt(y){return et(y.replace(/\+/g,"%20"))}function tt(y){return`${Rt(y.path)}${function oe(y){return Object.entries(y).map(([w,P])=>`;${Rt(w)}=${Rt(P)}`).join("")}(y.parameters)}`}const Z=/^[^\/()?;#]+/;function R(y){const w=y.match(Z);return w?w[0]:""}const F=/^[^\/()?;=#]+/,Pe=/^[^=?&#]+/,Mt=/^[^&#]+/;class tn{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(w.length>0||Object.keys(P).length>0)&&(T[Bt]=new Cn(w,P)),T}parseSegment(){const w=R(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new l.OBp(4009,!1);return this.capture(w),new Ir(et(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const P=function pe(y){const w=y.match(F);return w?w[0]:""}(this.remaining);if(!P)return;this.capture(P);let T="";if(this.consumeOptional("=")){const V=R(this.remaining);V&&(T=V,this.capture(T))}w[et(P)]=et(T)}parseQueryParam(w){const P=function ct(y){const w=y.match(Pe);return w?w[0]:""}(this.remaining);if(!P)return;this.capture(P);let T="";if(this.consumeOptional("=")){const ye=function xt(y){const w=y.match(Mt);return w?w[0]:""}(this.remaining);ye&&(T=ye,this.capture(T))}const V=Tt(P),J=Tt(T);if(w.hasOwnProperty(V)){let ye=w[V];Array.isArray(ye)||(ye=[ye],w[V]=ye),ye.push(J)}else w[V]=J}parseParens(w){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=R(this.remaining),V=this.remaining[T.length];if("/"!==V&&")"!==V&&";"!==V)throw new l.OBp(4010,!1);let J;T.indexOf(":")>-1?(J=T.slice(0,T.indexOf(":")),this.capture(J),this.capture(":")):w&&(J=Bt);const ye=this.parseChildren();P[J]=1===Object.keys(ye).length?ye[Bt]:new Cn([],ye),this.consumeOptional("//")}return P}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new l.OBp(4011,!1)}}function Vt(y){return y.segments.length>0?new Cn([],{[Bt]:y}):y}function dn(y){const w={};for(const[T,V]of Object.entries(y.children)){const J=dn(V);if(T===Bt&&0===J.segments.length&&J.hasChildren())for(const[ye,yt]of Object.entries(J.children))w[ye]=yt;else(J.segments.length>0||J.hasChildren())&&(w[T]=J)}return function Rn(y){if(1===y.numberOfChildren&&y.children[Bt]){const w=y.children[Bt];return new Cn(y.segments.concat(w.segments),w.children)}return y}(new Cn(y.segments,w))}function Gn(y){return y instanceof zn}function gt(y){var w;let P;const J=Vt(function T(ye){const yt={};for(const At of ye.children){const Nn=T(At);yt[At.outlet]=Nn}const an=new Cn(ye.url,yt);return ye===y&&(P=an),an}(y.root));return null!==(w=P)&&void 0!==w?w:J}function _t(y,w,P,T){let V=y;for(;V.parent;)V=V.parent;if(0===w.length)return ir(V,V,V,P,T);const J=function Br(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new er(!0,0,y);let w=0,P=!1;const T=y.reduce((V,J,ye)=>{if("object"==typeof J&&null!=J){if(J.outlets){const yt={};return Object.entries(J.outlets).forEach(([an,At])=>{yt[an]="string"==typeof At?At.split("/"):At}),[...V,{outlets:yt}]}if(J.segmentPath)return[...V,J.segmentPath]}return"string"!=typeof J?[...V,J]:0===ye?(J.split("/").forEach((yt,an)=>{0==an&&"."===yt||(0==an&&""===yt?P=!0:".."===yt?w++:""!=yt&&V.push(yt))}),V):[...V,J]},[]);return new er(P,w,T)}(w);if(J.toRoot())return ir(V,V,new Cn([],{}),P,T);const ye=function Mr(y,w,P){if(y.isAbsolute)return new Ar(w,!0,0);if(!P)return new Ar(w,!1,NaN);if(null===P.parent)return new Ar(P,!0,0);const T=Gt(y.commands[0])?0:1;return function ki(y,w,P){let T=y,V=w,J=P;for(;J>V;){if(J-=V,T=T.parent,!T)throw new l.OBp(4005,!1);V=T.segments.length}return new Ar(T,!1,V-J)}(P,P.segments.length-1+T,y.numberOfDoubleDots)}(J,V,y),yt=ye.processChildren?Bi(ye.segmentGroup,ye.index,J.commands):hr(ye.segmentGroup,ye.index,J.commands);return ir(V,ye.segmentGroup,yt,P,T)}function Gt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function _n(y){return"object"==typeof y&&null!=y&&y.outlets}function ir(y,w,P,T,V){let ye,J={};T&&Object.entries(T).forEach(([an,At])=>{J[an]=Array.isArray(At)?At.map(Nn=>`${Nn}`):`${At}`}),ye=y===w?P:Hn(y,w,P);const yt=Vt(dn(ye));return new zn(yt,J,V)}function Hn(y,w,P){const T={};return Object.entries(y.children).forEach(([V,J])=>{T[V]=J===w?P:Hn(J,w,P)}),new Cn(y.segments,T)}class er{constructor(w,P,T){if(this.isAbsolute=w,this.numberOfDoubleDots=P,this.commands=T,w&&T.length>0&&Gt(T[0]))throw new l.OBp(4003,!1);const V=T.find(_n);if(V&&V!==qt(T))throw new l.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ar{constructor(w,P,T){this.segmentGroup=w,this.processChildren=P,this.index=T}}function hr(y,w,P){var T;if(null!==(T=y)&&void 0!==T||(y=new Cn([],{})),0===y.segments.length&&y.hasChildren())return Bi(y,w,P);const V=function Ci(y,w,P){let T=0,V=w;const J={match:!1,pathIndex:0,commandIndex:0};for(;V<y.segments.length;){if(T>=P.length)return J;const ye=y.segments[V],yt=P[T];if(_n(yt))break;const an=`${yt}`,At=T<P.length-1?P[T+1]:null;if(V>0&&void 0===an)break;if(an&&At&&"object"==typeof At&&void 0===At.outlets){if(!Re(an,At,ye))return J;T+=2}else{if(!Re(an,{},ye))return J;T++}V++}return{match:!0,pathIndex:V,commandIndex:T}}(y,w,P),J=P.slice(V.commandIndex);if(V.match&&V.pathIndex<y.segments.length){const ye=new Cn(y.segments.slice(0,V.pathIndex),{});return ye.children[Bt]=new Cn(y.segments.slice(V.pathIndex),y.children),Bi(ye,0,J)}return V.match&&0===J.length?new Cn(y.segments,{}):V.match&&!y.hasChildren()?Gr(y,w,P):V.match?Bi(y,0,J):Gr(y,w,P)}function Bi(y,w,P){if(0===P.length)return new Cn(y.segments,{});{const T=function so(y){return _n(y[0])?y[0].outlets:{[Bt]:y}}(P),V={};if(Object.keys(T).some(J=>J!==Bt)&&y.children[Bt]&&1===y.numberOfChildren&&0===y.children[Bt].segments.length){const J=Bi(y.children[Bt],w,P);return new Cn(y.segments,J.children)}return Object.entries(T).forEach(([J,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(V[J]=hr(y.children[J],w,ye))}),Object.entries(y.children).forEach(([J,ye])=>{void 0===T[J]&&(V[J]=ye)}),new Cn(y.segments,V)}}function Gr(y,w,P){const T=y.segments.slice(0,w);let V=0;for(;V<P.length;){const J=P[V];if(_n(J)){const an=Kn(J.outlets);return new Cn(T,an)}if(0===V&&Gt(P[0])){T.push(new Ir(y.segments[w].path,Eo(P[0]))),V++;continue}const ye=_n(J)?J.outlets[Bt]:`${J}`,yt=V<P.length-1?P[V+1]:null;ye&&yt&&Gt(yt)?(T.push(new Ir(ye,Eo(yt))),V+=2):(T.push(new Ir(ye,{})),V++)}return new Cn(T,{})}function Kn(y){const w={};return Object.entries(y).forEach(([P,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(w[P]=Gr(new Cn([],{}),0,T))}),w}function Eo(y){const w={};return Object.entries(y).forEach(([P,T])=>w[P]=`${T}`),w}function Re(y,w,P){return y==P.path&&wt(w,P.parameters)}const xe="imperative";var X=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(X||{});class Ce{constructor(w,P){this.id=w,this.url=P}}class pt extends Ce{constructor(w,P,T="imperative",V=null){super(w,P),this.type=X.NavigationStart,this.navigationTrigger=T,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yt extends Ce{constructor(w,P,T){super(w,P),this.urlAfterRedirects=T,this.type=X.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var yn=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(yn||{}),En=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(En||{});class Vn extends Ce{constructor(w,P,T,V){super(w,P),this.reason=T,this.code=V,this.type=X.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qn extends Ce{constructor(w,P,T,V){super(w,P),this.reason=T,this.code=V,this.type=X.NavigationSkipped}}class li extends Ce{constructor(w,P,T,V){super(w,P),this.error=T,this.target=V,this.type=X.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Et extends Ce{constructor(w,P,T,V){super(w,P),this.urlAfterRedirects=T,this.state=V,this.type=X.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends Ce{constructor(w,P,T,V){super(w,P),this.urlAfterRedirects=T,this.state=V,this.type=X.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te extends Ce{constructor(w,P,T,V,J){super(w,P),this.urlAfterRedirects=T,this.state=V,this.shouldActivate=J,this.type=X.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ze extends Ce{constructor(w,P,T,V){super(w,P),this.urlAfterRedirects=T,this.state=V,this.type=X.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends Ce{constructor(w,P,T,V){super(w,P),this.urlAfterRedirects=T,this.state=V,this.type=X.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It{constructor(w){this.route=w,this.type=X.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ot{constructor(w){this.route=w,this.type=X.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wt{constructor(w){this.snapshot=w,this.type=X.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(w){this.snapshot=w,this.type=X.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(w){this.snapshot=w,this.type=X.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(w){this.snapshot=w,this.type=X.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(w,P,T){this.routerEvent=w,this.position=P,this.anchor=T,this.type=X.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class In{}class Pn{constructor(w){this.url=w}}class ui{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ii,this.attachRef=null}}let ii=(()=>{var y;class w{constructor(){this.contexts=new Map}onChildOutletCreated(T,V){const J=this.getOrCreateContext(T);J.outlet=V,this.contexts.set(T,J)}onChildOutletDestroyed(T){const V=this.getContext(T);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let V=this.getContext(T);return V||(V=new ui,this.contexts.set(T,V)),V}getContext(T){return this.contexts.get(T)||null}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();class D{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const P=this.pathFromRoot(w);return P.length>1?P[P.length-2]:null}children(w){const P=se(w,this._root);return P?P.children.map(T=>T.value):[]}firstChild(w){const P=se(w,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(w){const P=L(w,this._root);return P.length<2?[]:P[P.length-2].children.map(V=>V.value).filter(V=>V!==w)}pathFromRoot(w){return L(w,this._root).map(P=>P.value)}}function se(y,w){if(y===w.value)return w;for(const P of w.children){const T=se(y,P);if(T)return T}return null}function L(y,w){if(y===w.value)return[w];for(const P of w.children){const T=L(y,P);if(T.length)return T.unshift(w),T}return[]}class re{constructor(w,P){this.value=w,this.children=P}toString(){return`TreeNode(${this.value})`}}function Ne(y){const w={};return y&&y.children.forEach(P=>w[P.value.outlet]=P),w}class Qt extends D{constructor(w,P){super(w),this.snapshot=P,Gi(this,w)}toString(){return this.snapshot.toString()}}function Er(y){const w=function Zr(y){const J=new Ko([],{},{},"",{},Bt,y,null,{});return new Jr("",new re(J,[]))}(y),P=new ae.g([new Ir("",{})]),T=new ae.g({}),V=new ae.g({}),J=new ae.g({}),ye=new ae.g(""),yt=new Yr(P,T,J,ye,V,Bt,y,w.root);return yt.snapshot=w.root,new Qt(new re(yt,[]),w)}class Yr{constructor(w,P,T,V,J,ye,yt,an){var At,Nn;this.urlSubject=w,this.paramsSubject=P,this.queryParamsSubject=T,this.fragmentSubject=V,this.dataSubject=J,this.outlet=ye,this.component=yt,this._futureSnapshot=an,this.title=null!==(At=null===(Nn=this.dataSubject)||void 0===Nn?void 0:Nn.pipe((0,Qe.k)(br=>br[bn])))&&void 0!==At?At:(0,ce.of)(void 0),this.url=w,this.params=P,this.queryParams=T,this.fragment=V,this.data=J}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=this.params.pipe((0,Qe.k)(P=>qn(P)))),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=this.queryParams.pipe((0,Qe.k)(P=>qn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xi(y,w,P="emptyOnly"){var T;let V;const{routeConfig:J}=y;var ye;return V=null===w||"always"!==P&&""!==(null==J?void 0:J.path)&&(w.component||null!==(T=w.routeConfig)&&void 0!==T&&T.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...null!==(ye=y._resolvedData)&&void 0!==ye?ye:{}}}:{params:{...w.params,...y.params},data:{...w.data,...y.data},resolve:{...y.data,...w.data,...null==J?void 0:J.data,...y._resolvedData}},J&&Yo(J)&&(V.resolve[bn]=J.title),V}class Ko{get title(){var w;return null===(w=this.data)||void 0===w?void 0:w[bn]}constructor(w,P,T,V,J,ye,yt,an,At){this.url=w,this.params=P,this.queryParams=T,this.fragment=V,this.data=J,this.outlet=ye,this.component=yt,this.routeConfig=an,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=qn(this.params)),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jr extends D{constructor(w,P){super(P),this.url=w,Gi(this,P)}toString(){return uo(this._root)}}function Gi(y,w){w.value._routerState=y,w.children.forEach(P=>Gi(y,P))}function uo(y){const w=y.children.length>0?` { ${y.children.map(uo).join(", ")} } `:"";return`${y.value}${w}`}function ur(y){if(y.snapshot){const w=y.snapshot,P=y._futureSnapshot;y.snapshot=P,wt(w.queryParams,P.queryParams)||y.queryParamsSubject.next(P.queryParams),w.fragment!==P.fragment&&y.fragmentSubject.next(P.fragment),wt(w.params,P.params)||y.paramsSubject.next(P.params),function Dt(y,w){if(y.length!==w.length)return!1;for(let P=0;P<y.length;++P)if(!wt(y[P],w[P]))return!1;return!0}(w.url,P.url)||y.urlSubject.next(P.url),wt(w.data,P.data)||y.dataSubject.next(P.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function co(y,w){const P=wt(y.params,w.params)&&function Fn(y,w){return Sn(y,w)&&y.every((P,T)=>wt(P.parameters,w[T].parameters))}(y.url,w.url);return P&&!(!y.parent!=!w.parent)&&(!y.parent||co(y.parent,w.parent))}function Yo(y){return"string"==typeof y.title||null===y.title}let hs=(()=>{var y;class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new l._w7,this.deactivateEvents=new l._w7,this.attachEvents=new l._w7,this.detachEvents=new l._w7,this.parentContexts=(0,l.uUt)(ii),this.location=(0,l.uUt)(l.y8U),this.changeDetector=(0,l.uUt)(l.kD9),this.environmentInjector=(0,l.uUt)(l.SIe),this.inputBinder=(0,l.uUt)(Po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:V,previousValue:J}=T.name;if(V)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var V;return(null===(V=this.parentContexts.getContext(T))||void 0===V?void 0:V.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.OBp(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,V){var J;this.activated=T,this._activatedRoute=V,this.location.insert(T.hostView),null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,V){var J;if(this.isActivated)throw new l.OBp(4013,!1);this._activatedRoute=T;const ye=this.location,an=T.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,Nn=new vi(T,At,ye.injector);this.activated=ye.createComponent(an,{index:ye.length,injector:Nn,environmentInjector:null!=V?V:this.environmentInjector}),this.changeDetector.markForCheck(),null===(J=this.inputBinder)||void 0===J||J.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275dir=l.Sc5({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.SYr]}),w})();class vi{constructor(w,P,T){this.route=w,this.childContexts=P,this.parent=T}get(w,P){return w===Yr?this.route:w===ii?this.childContexts:this.parent.get(w,P)}}const Po=new l.UbH("");let Yi=(()=>{var y;class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var V;null===(V=this.outletDataSubscriptions.get(T))||void 0===V||V.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:V}=T,J=(0,be.E)([V.queryParams,V.params,V.data]).pipe((0,ot.G)(([ye,yt,an],At)=>(an={...ye,...yt,...an},0===At?(0,ce.of)(an):Promise.resolve(an)))).subscribe(ye=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==V||null===V.component)return void this.unsubscribeFromRouteData(T);const yt=(0,l.o9M)(V.component);if(yt)for(const{templateName:an}of yt.inputs)T.activatedComponentRef.setInput(an,ye[an]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,J)}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac}),w})();function Fo(y,w,P){if(P&&y.shouldReuseRoute(w.value,P.value.snapshot)){const T=P.value;T._futureSnapshot=w.value;const V=function Ta(y,w,P){return w.children.map(T=>{for(const V of P.children)if(y.shouldReuseRoute(T.value,V.value.snapshot))return Fo(y,T,V);return Fo(y,T)})}(y,w,P);return new re(T,V)}{if(y.shouldAttach(w.value)){const J=y.retrieve(w.value);if(null!==J){const ye=J.route;return ye.value._futureSnapshot=w.value,ye.children=w.children.map(yt=>Fo(y,yt)),ye}}const T=function to(y){return new Yr(new ae.g(y.url),new ae.g(y.params),new ae.g(y.queryParams),new ae.g(y.fragment),new ae.g(y.data),y.outlet,y.component,y)}(w.value),V=w.children.map(J=>Fo(y,J));return new re(T,V)}}const ta="ngNavigationCancelingError";function xo(y,w){const{redirectTo:P,navigationBehaviorOptions:T}=Gn(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,V=_r(!1,yn.Redirect);return V.url=P,V.navigationBehaviorOptions=T,V}function _r(y,w){const P=new Error(`NavigationCancelingError: ${y||""}`);return P[ta]=!0,P.cancellationCode=w,P}function Cs(y){return!!y&&y[ta]}let ji=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275cmp=l.In1({type:y,selectors:[["ng-component"]],standalone:!0,features:[l.UHJ],decls:1,vars:0,template:function(T,V){1&T&&l.wR5(0,"router-outlet")},dependencies:[hs],encapsulation:2}),w})();function pi(y){const w=y.children&&y.children.map(pi),P=w?{...y,children:w}:{...y};return!P.component&&!P.loadComponent&&(w||P.loadChildren)&&P.outlet&&P.outlet!==Bt&&(P.component=ji),P}function Hi(y){return y.outlet||Bt}function _i(y){var w;if(!y)return null;if(null!==(w=y.routeConfig)&&void 0!==w&&w._injector)return y.routeConfig._injector;for(let P=y.parent;P;P=P.parent){const T=P.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class gl{constructor(w,P,T,V,J){this.routeReuseStrategy=w,this.futureState=P,this.currState=T,this.forwardEvent=V,this.inputBindingEnabled=J}activate(w){const P=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,T,w),ur(this.futureState.root),this.activateChildRoutes(P,T,w)}deactivateChildRoutes(w,P,T){const V=Ne(P);w.children.forEach(J=>{const ye=J.value.outlet;this.deactivateRoutes(J,V[ye],T),delete V[ye]}),Object.values(V).forEach(J=>{this.deactivateRouteAndItsChildren(J,T)})}deactivateRoutes(w,P,T){const V=w.value,J=P?P.value:null;if(V===J)if(V.component){const ye=T.getContext(V.outlet);ye&&this.deactivateChildRoutes(w,P,ye.children)}else this.deactivateChildRoutes(w,P,T);else J&&this.deactivateRouteAndItsChildren(P,T)}deactivateRouteAndItsChildren(w,P){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,P):this.deactivateRouteAndOutlet(w,P)}detachAndStoreRouteSubtree(w,P){const T=P.getContext(w.value.outlet),V=T&&w.value.component?T.children:P,J=Ne(w);for(const ye of Object.values(J))this.deactivateRouteAndItsChildren(ye,V);if(T&&T.outlet){const ye=T.outlet.detach(),yt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ye,route:w,contexts:yt})}}deactivateRouteAndOutlet(w,P){const T=P.getContext(w.value.outlet),V=T&&w.value.component?T.children:P,J=Ne(w);for(const ye of Object.values(J))this.deactivateRouteAndItsChildren(ye,V);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(w,P,T){const V=Ne(P);w.children.forEach(J=>{this.activateRoutes(J,V[J.value.outlet],T),this.forwardEvent(new kt(J.value.snapshot))}),w.children.length&&this.forwardEvent(new un(w.value.snapshot))}activateRoutes(w,P,T){const V=w.value,J=P?P.value:null;if(ur(V),V===J)if(V.component){const ye=T.getOrCreateContext(V.outlet);this.activateChildRoutes(w,P,ye.children)}else this.activateChildRoutes(w,P,T);else if(V.component){const ye=T.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const yt=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ye.children.onOutletReAttached(yt.contexts),ye.attachRef=yt.componentRef,ye.route=yt.route.value,ye.outlet&&ye.outlet.attach(yt.componentRef,yt.route.value),ur(yt.route.value),this.activateChildRoutes(w,null,ye.children)}else{const yt=_i(V.snapshot);ye.attachRef=null,ye.route=V,ye.injector=yt,ye.outlet&&ye.outlet.activateWith(V,ye.injector),this.activateChildRoutes(w,null,ye.children)}}else this.activateChildRoutes(w,null,T)}}class Ds{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Xa{constructor(w,P){this.component=w,this.route=P}}function ml(y,w,P){const T=y._root;return Bs(T,w?w._root:null,P,[T.value])}function fs(y,w){const P=Symbol(),T=w.get(y,P);return T===P?"function"!=typeof y||(0,l.K_M)(y)?w.get(y):y:T}function Bs(y,w,P,T,V={canDeactivateChecks:[],canActivateChecks:[]}){const J=Ne(w);return y.children.forEach(ye=>{(function zi(y,w,P,T,V={canDeactivateChecks:[],canActivateChecks:[]}){const J=y.value,ye=w?w.value:null,yt=P?P.getContext(y.value.outlet):null;if(ye&&J.routeConfig===ye.routeConfig){const an=function nu(y,w,P){if("function"==typeof P)return P(y,w);switch(P){case"pathParamsChange":return!Sn(y.url,w.url);case"pathParamsOrQueryParamsChange":return!Sn(y.url,w.url)||!wt(y.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!co(y,w)||!wt(y.queryParams,w.queryParams);default:return!co(y,w)}}(ye,J,J.routeConfig.runGuardsAndResolvers);an?V.canActivateChecks.push(new Ds(T)):(J.data=ye.data,J._resolvedData=ye._resolvedData),Bs(y,w,J.component?yt?yt.children:null:P,T,V),an&&yt&&yt.outlet&&yt.outlet.isActivated&&V.canDeactivateChecks.push(new Xa(yt.outlet.component,ye))}else ye&&vl(w,yt,V),V.canActivateChecks.push(new Ds(T)),Bs(y,null,J.component?yt?yt.children:null:P,T,V)})(ye,J[ye.value.outlet],P,T.concat([ye.value]),V),delete J[ye.value.outlet]}),Object.entries(J).forEach(([ye,yt])=>vl(yt,P.getContext(ye),V)),V}function vl(y,w,P){const T=Ne(y),V=y.value;Object.entries(T).forEach(([J,ye])=>{vl(ye,V.component?w?w.children.getContext(J):null:w,P)}),P.canDeactivateChecks.push(new Xa(V.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,V))}function na(y){return"function"==typeof y}function fe(y){return y instanceof Xe.G||"EmptyError"===(null==y?void 0:y.name)}const G=Symbol("INITIAL_VALUE");function Te(){return(0,ot.G)(y=>(0,be.E)(y.map(w=>w.pipe((0,me.U)(1),(0,z.W)(G)))).pipe((0,Qe.k)(w=>{for(const P of w)if(!0!==P){if(P===G)return G;if(!1===P||P instanceof zn)return P}return!0}),(0,$e.I)(w=>w!==G),(0,me.U)(1)))}function Ts(y){return(0,je.W)((0,ze.y)(w=>{if(Gn(w))throw xo(0,w)}),(0,Qe.k)(w=>!0===w))}class bs{constructor(w){this.segmentGroup=w||null}}class Do extends Error{constructor(w){super(),this.urlTree=w}}function As(y){return He(new bs(y))}class Ss{constructor(w,P){this.urlSerializer=w,this.urlTree=P}lineralizeSegments(w,P){let T=[],V=P.root;for(;;){if(T=T.concat(V.segments),0===V.numberOfChildren)return(0,ce.of)(T);if(V.numberOfChildren>1||!V.children[Bt])return He(new l.OBp(4e3,!1));V=V.children[Bt]}}applyRedirectCommands(w,P,T){const V=this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),w,T);if(P.startsWith("/"))throw new Do(V);return V}applyRedirectCreateUrlTree(w,P,T,V){const J=this.createSegmentGroup(w,P.root,T,V);return new zn(J,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(w,P){const T={};return Object.entries(w).forEach(([V,J])=>{if("string"==typeof J&&J.startsWith(":")){const yt=J.substring(1);T[V]=P[yt]}else T[V]=J}),T}createSegmentGroup(w,P,T,V){const J=this.createSegments(w,P.segments,T,V);let ye={};return Object.entries(P.children).forEach(([yt,an])=>{ye[yt]=this.createSegmentGroup(w,an,T,V)}),new Cn(J,ye)}createSegments(w,P,T,V){return P.map(J=>J.path.startsWith(":")?this.findPosParam(w,J,V):this.findOrReturn(J,T))}findPosParam(w,P,T){const V=T[P.path.substring(1)];if(!V)throw new l.OBp(4001,!1);return V}findOrReturn(w,P){let T=0;for(const V of P){if(V.path===w.path)return P.splice(T),V;T++}return w}}const Hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $l(y,w,P,T,V){const J=yo(y,w,P);return J.matched?(T=function ba(y,w){var P;return y.providers&&!y._injector&&(y._injector=(0,l.SIz)(y.providers,w,`Route: ${y.path}`)),null!==(P=y._injector)&&void 0!==P?P:w}(w,T),function Sa(y,w,P,T){const V=w.canMatch;if(!V||0===V.length)return(0,ce.of)(!0);const J=V.map(ye=>{const yt=fs(ye,y);return mt(function k(y){return y&&na(y.canMatch)}(yt)?yt.canMatch(w,P):(0,l.SMS)(y,()=>yt(w,P)))});return(0,ce.of)(J).pipe(Te(),Ts())}(T,w,P).pipe((0,Qe.k)(ye=>!0===ye?J:{...Hs}))):(0,ce.of)(J)}function yo(y,w,P){var T,V;if("**"===w.path)return function ra(y){return{matched:!0,parameters:y.length>0?qt(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(P);if(""===w.path)return"full"===w.pathMatch&&(y.hasChildren()||P.length>0)?{...Hs}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const ye=(w.matcher||Ft)(P,y,w);if(!ye)return{...Hs};const yt={};Object.entries(null!==(T=ye.posParams)&&void 0!==T?T:{}).forEach(([At,Nn])=>{yt[At]=Nn.path});const an=ye.consumed.length>0?{...yt,...ye.consumed[ye.consumed.length-1].parameters}:yt;return{matched:!0,consumedSegments:ye.consumed,remainingSegments:P.slice(ye.consumed.length),parameters:an,positionalParamSegments:null!==(V=ye.posParams)&&void 0!==V?V:{}}}function ei(y,w,P,T){return P.length>0&&function ro(y,w,P){return P.some(T=>Rs(y,w,T)&&Hi(T)!==Bt)}(y,P,T)?{segmentGroup:new Cn(w,_l(T,new Cn(P,y.children))),slicedSegments:[]}:0===P.length&&function fr(y,w,P){return P.some(T=>Rs(y,w,T))}(y,P,T)?{segmentGroup:new Cn(y.segments,Ra(y,P,T,y.children)),slicedSegments:P}:{segmentGroup:new Cn(y.segments,y.children),slicedSegments:P}}function Ra(y,w,P,T){const V={};for(const J of P)if(Rs(y,w,J)&&!T[Hi(J)]){const ye=new Cn([],{});V[Hi(J)]=ye}return{...T,...V}}function _l(y,w){const P={};P[Bt]=w;for(const T of y)if(""===T.path&&Hi(T)!==Bt){const V=new Cn([],{});P[Hi(T)]=V}return P}function Rs(y,w,P){return(!(y.hasChildren()||w.length>0)||"full"!==P.pathMatch)&&""===P.path}class Ul{}class Wi{constructor(w,P,T,V,J,ye,yt){this.injector=w,this.configLoader=P,this.rootComponentType=T,this.config=V,this.urlTree=J,this.paramsInheritanceStrategy=ye,this.urlSerializer=yt,this.applyRedirects=new Ss(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new l.OBp(4002,`'${w.segmentGroup}'`)}recognize(){const w=ei(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,Qe.k)(P=>{const T=new Ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),V=new re(T,P),J=new Jr("",V),ye=function Jn(y,w,P=null,T=null){return _t(gt(y),w,P,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,J.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(J._root,null),{state:J,tree:ye}}))}match(w){return this.processSegmentGroup(this.injector,this.config,w,Bt).pipe(Ct(T=>{if(T instanceof Do)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof bs?this.noMatchError(T):T}))}inheritParamsAndData(w,P){const T=w.value,V=xi(T,P,this.paramsInheritanceStrategy);T.params=Object.freeze(V.params),T.data=Object.freeze(V.data),w.children.forEach(J=>this.inheritParamsAndData(J,T))}processSegmentGroup(w,P,T,V){return 0===T.segments.length&&T.hasChildren()?this.processChildren(w,P,T):this.processSegment(w,P,T,T.segments,V,!0).pipe((0,Qe.k)(J=>J instanceof re?[J]:[]))}processChildren(w,P,T){const V=[];for(const J of Object.keys(T.children))"primary"===J?V.unshift(J):V.push(J);return(0,we.Q)(V).pipe(Ae(J=>{const ye=T.children[J],yt=function Xo(y,w){const P=y.filter(T=>Hi(T)===w);return P.push(...y.filter(T=>Hi(T)!==w)),P}(P,J);return this.processSegmentGroup(w,yt,ye,J)}),(0,zt.K)((J,ye)=>(J.push(...ye),J)),(0,Pt.G)(null),function Me(y,w){const P=arguments.length>=2;return T=>T.pipe(y?(0,$e.I)((V,J)=>y(V,J,T)):ve.Z,nt(1),P?(0,Pt.G)(w):(0,Ee._)(()=>new Xe.G))}(),(0,Be.O)(J=>{if(null===J)return As(T);const ye=Ws(J);return function yi(y){y.sort((w,P)=>w.value.outlet===Bt?-1:P.value.outlet===Bt?1:w.value.outlet.localeCompare(P.value.outlet))}(ye),(0,ce.of)(ye)}))}processSegment(w,P,T,V,J,ye){return(0,we.Q)(P).pipe(Ae(yt=>{var an;return this.processSegmentAgainstRoute(null!==(an=yt._injector)&&void 0!==an?an:w,P,yt,T,V,J,ye).pipe(Ct(At=>{if(At instanceof bs)return(0,ce.of)(null);throw At}))}),(0,Le.K)(yt=>!!yt),Ct(yt=>{if(fe(yt))return function Ma(y,w,P){return 0===w.length&&!y.children[P]}(T,V,J)?(0,ce.of)(new Ul):As(T);throw yt}))}processSegmentAgainstRoute(w,P,T,V,J,ye,yt){return function Ja(y,w,P,T){return!!(Hi(y)===T||T!==Bt&&Rs(w,P,y))&&yo(w,y,P).matched}(T,V,J,ye)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(w,V,T,J,ye):this.allowRedirects&&yt?this.expandSegmentAgainstRouteUsingRedirect(w,V,P,T,J,ye):As(V):As(V)}expandSegmentAgainstRouteUsingRedirect(w,P,T,V,J,ye){const{matched:yt,consumedSegments:an,positionalParamSegments:At,remainingSegments:Nn}=yo(P,V,J);if(!yt)return As(P);V.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const br=this.applyRedirects.applyRedirectCommands(an,V.redirectTo,At);return this.applyRedirects.lineralizeSegments(V,br).pipe((0,Be.O)(Fi=>this.processSegment(w,T,P,Fi.concat(Nn),ye,!1)))}matchSegmentAgainstRoute(w,P,T,V,J){const ye=$l(P,T,V,w);return"**"===T.path&&(P.children={}),ye.pipe((0,ot.G)(yt=>{var an;return yt.matched?(w=null!==(an=T._injector)&&void 0!==an?an:w,this.getChildConfig(w,T,V).pipe((0,ot.G)(({routes:At})=>{var Nn,br,Fi;const Sr=null!==(Nn=T._loadedInjector)&&void 0!==Nn?Nn:w,{consumedSegments:po,remainingSegments:ma,parameters:os}=yt,cr=new Ko(po,os,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ru(y){return y.data||{}}(T),Hi(T),null!==(br=null!==(Fi=T.component)&&void 0!==Fi?Fi:T._loadedComponent)&&void 0!==br?br:null,T,function jt(y){return y.resolve||{}}(T)),{segmentGroup:va,slicedSegments:aa}=ei(P,po,ma,At);if(0===aa.length&&va.hasChildren())return this.processChildren(Sr,At,va).pipe((0,Qe.k)(_a=>null===_a?null:new re(cr,_a)));if(0===At.length&&0===aa.length)return(0,ce.of)(new re(cr,[]));const jo=Hi(T)===J;return this.processSegment(Sr,At,va,aa,jo?Bt:J,!0).pipe((0,Qe.k)(_a=>new re(cr,_a instanceof re?[_a]:[])))}))):As(P)}))}getChildConfig(w,P,T){return P.children?(0,ce.of)({routes:P.children,injector:w}):P.loadChildren?void 0!==P._loadedRoutes?(0,ce.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function vo(y,w,P,T){const V=w.canLoad;if(void 0===V||0===V.length)return(0,ce.of)(!0);const J=V.map(ye=>{const yt=fs(ye,y);return mt(function Zo(y){return y&&na(y.canLoad)}(yt)?yt.canLoad(w,P):(0,l.SMS)(y,()=>yt(w,P)))});return(0,ce.of)(J).pipe(Te(),Ts())}(w,P,T).pipe((0,Be.O)(V=>V?this.configLoader.loadChildren(w,P).pipe((0,ze.y)(J=>{P._loadedRoutes=J.routes,P._loadedInjector=J.injector})):function wo(y){return He(_r(!1,yn.GuardRejected))}())):(0,ce.of)({routes:[],injector:w})}}function Ii(y){const w=y.value.routeConfig;return w&&""===w.path}function Ws(y){const w=[],P=new Set;for(const T of y){if(!Ii(T)){w.push(T);continue}const V=w.find(J=>T.value.routeConfig===J.value.routeConfig);void 0!==V?(V.children.push(...T.children),P.add(V)):w.push(T)}for(const T of P){const V=Ws(T.children);w.push(new re(T.value,V))}return w.filter(T=>!P.has(T))}function Pa(y){const w=y.children.map(P=>Pa(P)).flat();return[y,...w]}function gs(y){return(0,ot.G)(w=>{const P=y(w);return P?(0,we.Q)(P).pipe((0,Qe.k)(()=>w)):(0,ce.of)(w)})}let zs=(()=>{var y;class w{buildTitle(T){let V,J=T.root;for(;void 0!==J;){var ye;V=null!==(ye=this.getResolvedTitleForRoute(J))&&void 0!==ye?ye:V,J=J.children.find(yt=>yt.outlet===Bt)}return V}getResolvedTitleForRoute(T){return T.data[bn]}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:()=>(0,l.uUt)(yl),providedIn:"root"}),w})(),yl=(()=>{var y;class w extends zs{constructor(T){super(),this.title=T}updateTitle(T){const V=this.buildTitle(T);void 0!==V&&this.title.setTitle(V)}}return(y=w).\u0275fac=function(T){return new(T||y)(l.CoB(Kt.OY))},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();const sa=new l.UbH("",{providedIn:"root",factory:()=>({})}),Ms=new l.UbH("");let tl=(()=>{var y;class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.uUt)(l.ESV)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ce.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const V=mt(T.loadComponent()).pipe((0,Qe.k)(ms),(0,ze.y)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ye}),ut(()=>{this.componentLoaders.delete(T)})),J=new it(V,()=>new We.E).pipe(Se());return this.componentLoaders.set(T,J),J}loadChildren(T,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,ce.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const ye=function kr(y,w,P,T){return mt(y.loadChildren()).pipe((0,Qe.k)(ms),(0,Be.O)(V=>V instanceof l.obV||Array.isArray(V)?(0,ce.of)(V):(0,we.Q)(w.compileModuleAsync(V))),(0,Qe.k)(V=>{T&&T(y);let J,ye,yt=!1;return Array.isArray(V)?(ye=V,!0):(J=V.create(P).injector,ye=J.get(Ms,[],{optional:!0,self:!0}).flat()),{routes:ye.map(pi),injector:J}}))}(V,this.compiler,T,this.onLoadEndListener).pipe(ut(()=>{this.childrenLoaders.delete(V)})),yt=new it(ye,()=>new We.E).pipe(Se());return this.childrenLoaders.set(V,yt),yt}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();function ms(y){return function qi(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Di=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:()=>(0,l.uUt)(E),providedIn:"root"}),w})(),E=(()=>{var y;class w{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,V){return T}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();const M=new l.UbH(""),De=new l.UbH("");function B(y,w,P){const T=y.get(De),V=y.get(Ke.Ud);return y.get(l.WW2).runOutsideAngular(()=>{if(!V.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,Promise.resolve();let J;const ye=new Promise(At=>{J=At}),yt=V.startViewTransition(()=>(J(),function ue(y){return new Promise(w=>{(0,l.I44)(w,{injector:y})})}(y))),{onViewTransitionCreated:an}=T;return an&&(0,l.SMS)(y,()=>an({transition:yt,from:w,to:P})),ye})}let _e=(()=>{var y;class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We.E,this.transitionAbortSubject=new We.E,this.configLoader=(0,l.uUt)(tl),this.environmentInjector=(0,l.uUt)(l.SIe),this.urlSerializer=(0,l.uUt)(vn),this.rootContexts=(0,l.uUt)(ii),this.location=(0,l.uUt)(Ke.oB),this.inputBindingEnabled=null!==(0,l.uUt)(Po,{optional:!0}),this.titleStrategy=(0,l.uUt)(zs),this.options=(0,l.uUt)(sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.uUt)(Di),this.createViewTransition=(0,l.uUt)(M,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Ot(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new It(J))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var V;const J=++this.navigationId;null===(V=this.transitions)||void 0===V||V.next({...this.transitions.value,...T,id:J})}setupNavigations(T,V,J){return this.transitions=new ae.g({id:0,currentUrlTree:V,currentRawUrl:V,extractedUrl:this.urlHandlingStrategy.extract(V),urlAfterRedirects:this.urlHandlingStrategy.extract(V),rawUrl:V,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xe,restoredState:null,currentSnapshot:J.snapshot,targetSnapshot:null,currentRouterState:J,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.I)(ye=>0!==ye.id),(0,Qe.k)(ye=>({...ye,extractedUrl:this.urlHandlingStrategy.extract(ye.rawUrl)})),(0,ot.G)(ye=>{this.currentTransition=ye;let yt=!1,an=!1;return(0,ce.of)(ye).pipe((0,ze.y)(At=>{this.currentNavigation={id:At.id,initialUrl:At.rawUrl,extractedUrl:At.extractedUrl,trigger:At.source,extras:At.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ot.G)(At=>{var Nn;const br=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Fi=null!==(Nn=At.extras.onSameUrlNavigation)&&void 0!==Nn?Nn:T.onSameUrlNavigation;if(!br&&"reload"!==Fi){const Sr="";return this.events.next(new Qn(At.id,this.urlSerializer.serialize(At.rawUrl),Sr,En.IgnoredSameUrlNavigation)),At.resolve(null),qe.k}if(this.urlHandlingStrategy.shouldProcessUrl(At.rawUrl))return(0,ce.of)(At).pipe((0,ot.G)(Sr=>{var po,ma;const os=null===(po=this.transitions)||void 0===po?void 0:po.getValue();return this.events.next(new pt(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),Sr.source,Sr.restoredState)),os!==(null===(ma=this.transitions)||void 0===ma?void 0:ma.getValue())?qe.k:Promise.resolve(Sr)}),function jr(y,w,P,T,V,J){return(0,Be.O)(ye=>function ps(y,w,P,T,V,J,ye="emptyOnly"){return new Wi(y,w,P,T,V,ye,J).recognize()}(y,w,P,T,ye.extractedUrl,V,J).pipe((0,Qe.k)(({state:yt,tree:an})=>({...ye,targetSnapshot:yt,urlAfterRedirects:an}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ze.y)(Sr=>{ye.targetSnapshot=Sr.targetSnapshot,ye.urlAfterRedirects=Sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sr.urlAfterRedirects};const po=new Et(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),this.urlSerializer.serialize(Sr.urlAfterRedirects),Sr.targetSnapshot);this.events.next(po)}));if(br&&this.urlHandlingStrategy.shouldProcessUrl(At.currentRawUrl)){const{id:Sr,extractedUrl:po,source:ma,restoredState:os,extras:cr}=At,va=new pt(Sr,this.urlSerializer.serialize(po),ma,os);this.events.next(va);const aa=Er(this.rootComponentType).snapshot;return this.currentTransition=ye={...At,targetSnapshot:aa,urlAfterRedirects:po,extras:{...cr,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=po,(0,ce.of)(ye)}{const Sr="";return this.events.next(new Qn(At.id,this.urlSerializer.serialize(At.extractedUrl),Sr,En.IgnoredByUrlHandlingStrategy)),At.resolve(null),qe.k}}),(0,ze.y)(At=>{const Nn=new q(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Nn)}),(0,Qe.k)(At=>(this.currentTransition=ye={...At,guards:ml(At.targetSnapshot,At.currentSnapshot,this.rootContexts)},ye)),function sn(y,w){return(0,Be.O)(P=>{const{targetSnapshot:T,currentSnapshot:V,guards:{canActivateChecks:J,canDeactivateChecks:ye}}=P;return 0===ye.length&&0===J.length?(0,ce.of)({...P,guardsResult:!0}):function Tn(y,w,P,T){return(0,we.Q)(y).pipe((0,Be.O)(V=>function Gs(y,w,P,T,V){const J=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,ce.of)(!0);const ye=J.map(yt=>{var an;const At=null!==(an=_i(w))&&void 0!==an?an:V,Nn=fs(yt,At);return mt(function j(y){return y&&na(y.canDeactivate)}(Nn)?Nn.canDeactivate(y,w,P,T):(0,l.SMS)(At,()=>Nn(y,w,P,T))).pipe((0,Le.K)())});return(0,ce.of)(ye).pipe(Te())}(V.component,V.route,P,w,T)),(0,Le.K)(V=>!0!==V,!0))}(ye,T,V,y).pipe((0,Be.O)(yt=>yt&&function Aa(y){return"boolean"==typeof y}(yt)?function bi(y,w,P,T){return(0,we.Q)(w).pipe(Ae(V=>(0,de.W)(function Jo(y,w){return null!==y&&w&&w(new Wt(y)),(0,ce.of)(!0)}(V.route.parent,T),function ho(y,w){return null!==y&&w&&w(new en(y)),(0,ce.of)(!0)}(V.route,T),function ws(y,w,P){const T=w[w.length-1],J=w.slice(0,w.length-1).reverse().map(ye=>function Fl(y){const w=y.routeConfig?y.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:y,guards:w}:null}(ye)).filter(ye=>null!==ye).map(ye=>Ge(()=>{const yt=ye.guards.map(an=>{var At;const Nn=null!==(At=_i(ye.node))&&void 0!==At?At:P,br=fs(an,Nn);return mt(function Za(y){return y&&na(y.canActivateChild)}(br)?br.canActivateChild(T,y):(0,l.SMS)(Nn,()=>br(T,y))).pipe((0,Le.K)())});return(0,ce.of)(yt).pipe(Te())}));return(0,ce.of)(J).pipe(Te())}(y,V.path,P),function xr(y,w,P){const T=w.routeConfig?w.routeConfig.canActivate:null;if(!T||0===T.length)return(0,ce.of)(!0);const V=T.map(J=>Ge(()=>{var ye;const yt=null!==(ye=_i(w))&&void 0!==ye?ye:P,an=fs(J,yt);return mt(function Vl(y){return y&&na(y.canActivate)}(an)?an.canActivate(w,y):(0,l.SMS)(yt,()=>an(w,y))).pipe((0,Le.K)())}));return(0,ce.of)(V).pipe(Te())}(y,V.route,P))),(0,Le.K)(V=>!0!==V,!0))}(T,J,y,w):(0,ce.of)(yt)),(0,Qe.k)(yt=>({...P,guardsResult:yt})))})}(this.environmentInjector,At=>this.events.next(At)),(0,ze.y)(At=>{if(ye.guardsResult=At.guardsResult,Gn(At.guardsResult))throw xo(0,At.guardsResult);const Nn=new te(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot,!!At.guardsResult);this.events.next(Nn)}),(0,$e.I)(At=>!!At.guardsResult||(this.cancelNavigationTransition(At,"",yn.GuardRejected),!1)),gs(At=>{if(At.guards.canActivateChecks.length)return(0,ce.of)(At).pipe((0,ze.y)(Nn=>{const br=new Ze(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(br)}),(0,ot.G)(Nn=>{let br=!1;return(0,ce.of)(Nn).pipe(function el(y,w){return(0,Be.O)(P=>{const{targetSnapshot:T,guards:{canActivateChecks:V}}=P;if(!V.length)return(0,ce.of)(P);const J=new Set(V.map(an=>an.route)),ye=new Set;for(const an of J)if(!ye.has(an))for(const At of Pa(an))ye.add(At);let yt=0;return(0,we.Q)(ye).pipe(Ae(an=>J.has(an)?function oi(y,w,P,T){const V=y.routeConfig,J=y._resolve;return void 0!==(null==V?void 0:V.title)&&!Yo(V)&&(J[bn]=V.title),function Bl(y,w,P,T){const V=Ht(y);if(0===V.length)return(0,ce.of)({});const J={};return(0,we.Q)(V).pipe((0,Be.O)(ye=>function oa(y,w,P,T){var V;const J=null!==(V=_i(w))&&void 0!==V?V:T,ye=fs(y,J);return mt(ye.resolve?ye.resolve(w,P):(0,l.SMS)(J,()=>ye(w,P)))}(y[ye],w,P,T).pipe((0,Le.K)(),(0,ze.y)(yt=>{J[ye]=yt}))),nt(1),function Oe(y){return(0,Qe.k)(()=>y)}(J),Ct(ye=>fe(ye)?qe.k:He(ye)))}(J,y,w,T).pipe((0,Qe.k)(ye=>(y._resolvedData=ye,y.data=xi(y,y.parent,P).resolve,null)))}(an,T,y,w):(an.data=xi(an,an.parent,y).resolve,(0,ce.of)(void 0))),(0,ze.y)(()=>yt++),nt(1),(0,Be.O)(an=>yt===ye.size?(0,ce.of)(P):qe.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ze.y)({next:()=>br=!0,complete:()=>{br||this.cancelNavigationTransition(Nn,"",yn.NoDataFromResolver)}}))}),(0,ze.y)(Nn=>{const br=new rt(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(br)}))}),gs(At=>{const Nn=br=>{var Fi;const Sr=[];null!==(Fi=br.routeConfig)&&void 0!==Fi&&Fi.loadComponent&&!br.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(br.routeConfig).pipe((0,ze.y)(po=>{br.component=po}),(0,Qe.k)(()=>{})));for(const po of br.children)Sr.push(...Nn(po));return Sr};return(0,be.E)(Nn(At.targetSnapshot.root)).pipe((0,Pt.G)(null),(0,me.U)(1))}),gs(()=>this.afterPreactivation()),(0,ot.G)(()=>{var At;const{currentSnapshot:Nn,targetSnapshot:br}=ye,Fi=null===(At=this.createViewTransition)||void 0===At?void 0:At.call(this,this.environmentInjector,Nn.root,br.root);return Fi?(0,we.Q)(Fi).pipe((0,Qe.k)(()=>ye)):(0,ce.of)(ye)}),(0,Qe.k)(At=>{const Nn=function Qi(y,w,P){const T=Fo(y,w._root,P?P._root:void 0);return new Qt(T,w)}(T.routeReuseStrategy,At.targetSnapshot,At.currentRouterState);return this.currentTransition=ye={...At,targetRouterState:Nn},this.currentNavigation.targetRouterState=Nn,ye}),(0,ze.y)(()=>{this.events.next(new In)}),((y,w,P,T)=>(0,Qe.k)(V=>(new gl(w,V.targetRouterState,V.currentRouterState,P,T).activate(y),V)))(this.rootContexts,T.routeReuseStrategy,At=>this.events.next(At),this.inputBindingEnabled),(0,me.U)(1),(0,ze.y)({next:At=>{var Nn;yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects))),null===(Nn=this.titleStrategy)||void 0===Nn||Nn.updateTitle(At.targetRouterState.snapshot),At.resolve(!0)},complete:()=>{yt=!0}}),function Zt(y){return(0,Ye.i)((w,P)=>{(0,le.Uv)(y).subscribe((0,Ve.e)(P,()=>P.complete(),Ue.K)),!P.closed&&w.subscribe(P)})}(this.transitionAbortSubject.pipe((0,ze.y)(At=>{throw At}))),ut(()=>{var At;!yt&&!an&&this.cancelNavigationTransition(ye,"",yn.SupersededByNewNavigation),(null===(At=this.currentTransition)||void 0===At?void 0:At.id)===ye.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ct(At=>{if(an=!0,Cs(At))this.events.next(new Vn(ye.id,this.urlSerializer.serialize(ye.extractedUrl),At.message,At.cancellationCode)),function Es(y){return Cs(y)&&Gn(y.url)}(At)?this.events.next(new Pn(At.url)):ye.resolve(!1);else{var Nn;this.events.next(new li(ye.id,this.urlSerializer.serialize(ye.extractedUrl),At,null!==(Nn=ye.targetSnapshot)&&void 0!==Nn?Nn:void 0));try{ye.resolve(T.errorHandler(At))}catch(br){this.options.resolveNavigationPromiseOnError?ye.resolve(!1):ye.reject(br)}}return qe.k}))}))}cancelNavigationTransition(T,V,J){const ye=new Vn(T.id,this.urlSerializer.serialize(T.extractedUrl),V,J);this.events.next(ye),T.resolve(!1)}isUpdatingInternalState(){var T,V;return(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())!==(null===(V=this.currentTransition)||void 0===V?void 0:V.currentUrlTree.toString())}isUpdatedBrowserUrl(){var T,V;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())&&!(null!==(V=this.currentTransition)&&void 0!==V&&V.extras.skipLocationChange)}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();function ht(y){return y!==xe}let mn=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:()=>(0,l.uUt)(vt),providedIn:"root"}),w})();class Xt{shouldDetach(w){return!1}store(w,P){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,P){return w.routeConfig===P.routeConfig}}let vt=(()=>{var y;class w extends Xt{}return(y=w).\u0275fac=(()=>{let P;return function(V){return(P||(P=l.otF(y)))(V||y)}})(),y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})(),Ut=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:()=>(0,l.uUt)(Xn),providedIn:"root"}),w})(),Xn=(()=>{var y;class w extends Ut{constructor(){super(...arguments),this.location=(0,l.uUt)(Ke.oB),this.urlSerializer=(0,l.uUt)(vn),this.options=(0,l.uUt)(sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.uUt)(Di),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Er(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var T,V;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(V=this.restoredState())||void 0===V?void 0:V.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(V=>{"popstate"===V.type&&T(V.url,V.state)})}handleRouterEvent(T,V){if(T instanceof pt)this.stateMemento=this.createStateMemento();else if(T instanceof Qn)this.rawUrlTree=V.initialUrl;else if(T instanceof Et){if("eager"===this.urlUpdateStrategy&&!V.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(V.finalUrl,V.initialUrl);this.setBrowserUrl(J,V)}}else T instanceof In?(this.currentUrlTree=V.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(V.finalUrl,V.initialUrl),this.routerState=V.targetRouterState,"deferred"===this.urlUpdateStrategy&&(V.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,V))):T instanceof Vn&&(T.code===yn.GuardRejected||T.code===yn.NoDataFromResolver)?this.restoreHistory(V):T instanceof li?this.restoreHistory(V,!0):T instanceof Yt&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,V){const J=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(J)||V.extras.replaceUrl){const yt={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId)};this.location.replaceState(J,"",yt)}else{const ye={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId+1)};this.location.go(J,"",ye)}}restoreHistory(T,V=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-this.browserPageId;0!==ye?this.location.historyGo(ye):this.currentUrlTree===T.finalUrl&&0===ye&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){var V;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(V=T.finalUrl)&&void 0!==V?V:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,V){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:V}:{navigationId:T}}}return(y=w).\u0275fac=(()=>{let P;return function(V){return(P||(P=l.otF(y)))(V||y)}})(),y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();var Pr=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Pr||{});function ti(y,w){y.events.pipe((0,$e.I)(P=>P instanceof Yt||P instanceof Vn||P instanceof li||P instanceof Qn),(0,Qe.k)(P=>P instanceof Yt||P instanceof Qn?Pr.COMPLETE:P instanceof Vn&&(P.code===yn.Redirect||P.code===yn.SupersededByNewNavigation)?Pr.REDIRECTING:Pr.FAILED),(0,$e.I)(P=>P!==Pr.REDIRECTING),(0,me.U)(1)).subscribe(()=>{w()})}function Oi(y){throw y}const Ps={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},es={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{var y;class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var T,V;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.uUt)(l.oPY),this.stateManager=(0,l.uUt)(Ut),this.options=(0,l.uUt)(sa,{optional:!0})||{},this.pendingTasks=(0,l.uUt)(l.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.uUt)(_e),this.urlSerializer=(0,l.uUt)(vn),this.location=(0,l.uUt)(Ke.oB),this.urlHandlingStrategy=(0,l.uUt)(Di),this._events=new We.E,this.errorHandler=this.options.errorHandler||Oi,this.navigated=!1,this.routeReuseStrategy=(0,l.uUt)(mn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(T=null===(V=(0,l.uUt)(Ms,{optional:!0}))||void 0===V?void 0:V.flat())&&void 0!==T?T:[],this.componentInputBindingEnabled=!!(0,l.uUt)(Po,{optional:!0}),this.eventsSubscription=new ft.wH,this.isNgZoneEnabled=(0,l.uUt)(l.WW2)instanceof l.WW2&&l.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:J=>{this.console.warn(J)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(V=>{try{const J=this.navigationTransitions.currentTransition,ye=this.navigationTransitions.currentNavigation;if(null!==J&&null!==ye)if(this.stateManager.handleRouterEvent(V,ye),V instanceof Vn&&V.code!==yn.Redirect&&V.code!==yn.SupersededByNewNavigation)this.navigated=!0;else if(V instanceof Yt)this.navigated=!0;else if(V instanceof Pn){const yt=this.urlHandlingStrategy.merge(V.url,J.currentRawUrl),an={info:J.extras.info,skipLocationChange:J.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ht(J.source)};this.scheduleNavigation(yt,xe,null,an,{resolve:J.resolve,reject:J.reject,promise:J.promise})}(function Zi(y){return!(y instanceof In||y instanceof Pn)})(V)&&this._events.next(V)}catch(J){this.navigationTransitions.transitionAbortSubject.next(J)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xe,this.stateManager.restoredState())}setUpLocationChangeListener(){var T;null!==(T=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==T||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((V,J)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(V,"popstate",J)},0)}))}navigateToSyncWithBrowser(T,V,J){const ye={replaceUrl:!0},yt=null!=J&&J.navigationId?J:null;if(J){const At={...J};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(ye.state=At)}const an=this.parseUrl(T);this.scheduleNavigation(an,V,yt,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(pi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,V={}){const{relativeTo:J,queryParams:ye,fragment:yt,queryParamsHandling:an,preserveFragment:At}=V,Nn=At?this.currentUrlTree.fragment:yt;let Fi,br=null;switch(an){case"merge":br={...this.currentUrlTree.queryParams,...ye};break;case"preserve":br=this.currentUrlTree.queryParams;break;default:br=ye||null}null!==br&&(br=this.removeEmptyProps(br));try{Fi=gt(J?J.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Fi=this.currentUrlTree.root}return _t(Fi,T,br,null!=Nn?Nn:null)}navigateByUrl(T,V={skipLocationChange:!1}){const J=Gn(T)?T:this.parseUrl(T),ye=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(ye,xe,null,V)}navigate(T,V={skipLocationChange:!1}){return function wi(y){for(let w=0;w<y.length;w++)if(null==y[w])throw new l.OBp(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,V),V)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,V){let J;if(J=!0===V?{...Ps}:!1===V?{...es}:V,Gn(T))return pr(this.currentUrlTree,T,J);const ye=this.parseUrl(T);return pr(this.currentUrlTree,ye,J)}removeEmptyProps(T){return Object.entries(T).reduce((V,[J,ye])=>(null!=ye&&(V[J]=ye),V),{})}scheduleNavigation(T,V,J,ye,yt){if(this.disposed)return Promise.resolve(!1);let an,At,Nn;yt?(an=yt.resolve,At=yt.reject,Nn=yt.promise):Nn=new Promise((Fi,Sr)=>{an=Fi,At=Sr});const br=this.pendingTasks.add();return ti(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(br))}),this.navigationTransitions.handleNavigationRequest({source:V,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:ye,resolve:an,reject:At,promise:Nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nn.catch(Fi=>Promise.reject(Fi))}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})(),Lr=(()=>{var y;class w{constructor(T,V,J,ye,yt,an){var At;this.router=T,this.route=V,this.tabIndexAttribute=J,this.renderer=ye,this.el=yt,this.locationStrategy=an,this.href=null,this.commands=null,this.onChanges=new We.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Nn=null===(At=yt.nativeElement.tagName)||void 0===At?void 0:At.toLowerCase();this.isAnchorElement="a"===Nn||"area"===Nn,this.isAnchorElement?this.subscription=T.events.subscribe(br=>{br instanceof Yt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,V,J,ye,yt){const an=this.urlTree;return!!(null===an||this.isAnchorElement&&(0!==T||V||J||ye||yt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(an,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;const V=this.urlTree;this.href=null!==V&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(V)):null;const J=null===this.href?null:(0,l.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",J)}applyAttributeValue(T,V){const J=this.renderer,ye=this.el.nativeElement;null!==V?J.setAttribute(ye,T,V):J.removeAttribute(ye,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(y=w).\u0275fac=function(T){return new(T||y)(l.GI1(Xi),l.GI1(Yr),l.gJ8("tabindex"),l.GI1(l.q87),l.GI1(l.GMv),l.GI1(Ke.Qd))},y.\u0275dir=l.Sc5({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,V){1&T&&l.qCj("click",function(ye){return V.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&T&&l.e48("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[l.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",l.cZD],skipLocationChange:[l.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",l.cZD],replaceUrl:[l.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",l.cZD],routerLink:"routerLink"},standalone:!0,features:[l.QJr,l.SYr]}),w})();class Tr{}let Il=(()=>{var y;class w{preload(T,V){return V().pipe(Ct(()=>(0,ce.of)(null)))}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})(),Ni=(()=>{var y;class w{constructor(T,V,J,ye,yt){this.router=T,this.injector=J,this.preloadingStrategy=ye,this.loader=yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.I)(T=>T instanceof Yt),Ae(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,V){const J=[];for(const At of V){var ye,yt;At.providers&&!At._injector&&(At._injector=(0,l.SIz)(At.providers,T,`Route: ${At.path}`));const Nn=null!==(ye=At._injector)&&void 0!==ye?ye:T,br=null!==(yt=At._loadedInjector)&&void 0!==yt?yt:Nn;var an;(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)&&J.push(this.preloadConfig(Nn,At)),(At.children||At._loadedRoutes)&&J.push(this.processRoutes(br,null!==(an=At.children)&&void 0!==an?an:At._loadedRoutes))}return(0,we.Q)(J).pipe((0,on.u)())}preloadConfig(T,V){return this.preloadingStrategy.preload(V,()=>{let J;J=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(T,V):(0,ce.of)(null);const ye=J.pipe((0,Be.O)(yt=>{var an;return null===yt?(0,ce.of)(void 0):(V._loadedRoutes=yt.routes,V._loadedInjector=yt.injector,this.processRoutes(null!==(an=yt.injector)&&void 0!==an?an:T,yt.routes))}));if(V.loadComponent&&!V._loadedComponent){const yt=this.loader.loadComponent(V);return(0,we.Q)([ye,yt]).pipe((0,on.u)())}return ye})}}return(y=w).\u0275fac=function(T){return new(T||y)(l.CoB(Xi),l.CoB(l.ESV),l.CoB(l.SIe),l.CoB(Tr),l.CoB(tl))},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();const Ln=new l.UbH("");let Io=(()=>{var y;class w{constructor(T,V,J,ye,yt={}){this.urlSerializer=T,this.transitions=V,this.viewportScroller=J,this.zone=ye,this.options=yt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},yt.scrollPositionRestoration||(yt.scrollPositionRestoration="disabled"),yt.anchorScrolling||(yt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof pt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Yt?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Qn&&T.code===En.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof rn&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rn(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){var T,V;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(V=this.scrollEventsSubscription)||void 0===V||V.unsubscribe()}}return(y=w).\u0275fac=function(T){l.KEo()},y.\u0275prov=l.wxM({token:y,factory:y.\u0275fac}),w})();function Fr(y,w){return{\u0275kind:y,\u0275providers:w}}function Gl(){const y=(0,l.uUt)(l.zZn);return w=>{var P,T;const V=y.get(l.Swk);if(w!==V.components[0])return;const J=y.get(Xi),ye=y.get(ao);1===y.get(Ks)&&J.initialNavigation(),null===(P=y.get(ts,null,l._6O.Optional))||void 0===P||P.setUpPreloading(),null===(T=y.get(Ln,null,l._6O.Optional))||void 0===T||T.init(),J.resetRootComponentType(V.componentTypes[0]),ye.closed||(ye.next(),ye.complete(),ye.unsubscribe())}}const ao=new l.UbH("",{factory:()=>new We.E}),Ks=new l.UbH("",{providedIn:"root",factory:()=>1}),ts=new l.UbH("");function Cr(y){return Fr(0,[{provide:ts,useExisting:Ni},{provide:Tr,useExisting:y}])}function bt(y){return Fr(9,[{provide:M,useValue:B},{provide:De,useValue:{skipNextTransition:!(null==y||!y.skipInitialTransition),...y}}])}const fo=new l.UbH("ROUTER_FORROOT_GUARD"),iu=[Ke.oB,{provide:vn,useClass:sr},Xi,ii,{provide:Yr,useFactory:function xs(y){return y.routerState.root},deps:[Xi]},tl,[]];let Qs=(()=>{var y;class w{constructor(T){}static forRoot(T,V){return{ngModule:w,providers:[iu,[],{provide:Ms,multi:!0,useValue:T},{provide:fo,useFactory:rs,deps:[[Xi,new l.T7N,new l.Qfh]]},{provide:sa,useValue:V||{}},null!=V&&V.useHash?{provide:Ke.Qd,useClass:Ke.MP}:{provide:Ke.Qd,useClass:Ke.uC},{provide:Ln,useFactory:()=>{const y=(0,l.uUt)(Ke.YZ),w=(0,l.uUt)(l.WW2),P=(0,l.uUt)(sa),T=(0,l.uUt)(_e),V=(0,l.uUt)(vn);return P.scrollOffset&&y.setOffset(P.scrollOffset),new Io(V,T,y,w,P)}},null!=V&&V.preloadingStrategy?Cr(V.preloadingStrategy).\u0275providers:[],null!=V&&V.initialNavigation?Bo(V):[],null!=V&&V.bindToComponentInputs?Fr(8,[Yi,{provide:Po,useExisting:Yi}]).\u0275providers:[],null!=V&&V.enableViewTransitions?bt().\u0275providers:[],[{provide:is,useFactory:Gl},{provide:l.qid,multi:!0,useExisting:is}]]}}static forChild(T){return{ngModule:w,providers:[{provide:Ms,multi:!0,useValue:T}]}}}return(y=w).\u0275fac=function(T){return new(T||y)(l.CoB(fo,8))},y.\u0275mod=l.a4G({type:y}),y.\u0275inj=l.s3X({}),w})();function rs(y){return"guarded"}function Bo(y){return["disabled"===y.initialNavigation?Fr(3,[{provide:l.kZF,multi:!0,useFactory:()=>{const w=(0,l.uUt)(Xi);return()=>{w.setUpLocationChangeListener()}}},{provide:Ks,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Fr(2,[{provide:Ks,useValue:0},{provide:l.kZF,multi:!0,deps:[l.zZn],useFactory:w=>{const P=w.get(Ke.mQ,Promise.resolve());return()=>P.then(()=>new Promise(T=>{const V=w.get(Xi),J=w.get(ao);ti(V,()=>{T(!0)}),w.get(_e).afterPreactivation=()=>(T(!0),J.closed?(0,ce.of)(void 0):J),V.initialNavigation()}))}}]).\u0275providers:[]]}const is=new l.UbH("")},8368:(fn,at,O)=>{"use strict";O.d(at,{c:()=>qe});var l=O(7144),x=O(4920),K=O(9360),ie=O(5976);class we{constructor(Ye,Ve){this._delegate=Ye,this.firebase=Ve,(0,K._addComponent)(Ye,new x.Yl("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Ye,Ve=K._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(Ye);return!it.isInitialized()&&"EXPLICIT"===(null===(Se=it.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Ve})}_removeServiceInstance(Ye,Ve=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Ve)}_addComponent(Ye){(0,K._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,K._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new l.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Xe(){const ft=function be(ft){const Ye={},Ve={__esModule:!0,initializeApp:function We(me,z={}){const $e=K.initializeApp(me,z);if((0,l.Y7)(Ye,$e.name))return Ye[$e.name];const Be=new ft($e,Ve);return Ye[$e.name]=Be,Be},app:it,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function Qe(me){const z=me.name,$e=z.replace("-compat","");if(K._registerComponent(me)&&"PUBLIC"===me.type){const Be=(Le=it())=>{if("function"!=typeof Le[$e])throw ae.create("invalid-app-argument",{appName:z});return Le[$e]()};void 0!==me.serviceProps&&(0,l.Ww)(Be,me.serviceProps),Ve[$e]=Be,ft.prototype[$e]=function(...Le){return this._getService.bind(this,z).apply(this,me.multipleInstances?Le:[])}}return"PUBLIC"===me.type?Ve[$e]:null},removeApp:function Se(me){delete Ye[me]},useAsService:function ot(me,z){return"serverAuth"===z?null:z},modularAPIs:K}};function it(me){if(!(0,l.Y7)(Ye,me=me||K._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:me});return Ye[me]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ke(){return Object.keys(Ye).map(me=>Ye[me])}}),it.App=ft,Ve}(we);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Xe,extendNamespace:function Ye(Ve){(0,l.Ww)(ft,Ve)},createSubscribe:l.my,ErrorFactory:l.UR,deepExtend:l.Ww}),ft}(),le=new ie.YJ("@firebase/app-compat");if((0,l.uH)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=de;!function He(ft){(0,K.registerVersion)("@firebase/app-compat","0.2.28",ft)}()},9360:(fn,at,O)=>{"use strict";O.r(at),O.d(at,{FirebaseError:()=>ie.kx,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>mr,_addComponent:()=>vr,_addOrOverwriteComponent:()=>di,_apps:()=>An,_clearComponents:()=>Fn,_components:()=>$n,_getProvider:()=>Cn,_registerComponent:()=>zn,_removeServiceInstance:()=>Ir,deleteApp:()=>Zn,getApp:()=>Dr,getApps:()=>Bn,initializeApp:()=>ai,onLog:()=>Rt,registerVersion:()=>Ei,setLogLevel:()=>et});var l=O(1528),x=O(4920),K=O(5976),ie=O(7144);const we=(gt,_t)=>_t.some(Gt=>gt instanceof Gt);let ce,ae;const de=new WeakMap,le=new WeakMap,Ge=new WeakMap,je=new WeakMap,He=new WeakMap;let Ye={get(gt,_t,Gt){if(gt instanceof IDBTransaction){if("done"===_t)return le.get(gt);if("objectStoreNames"===_t)return gt.objectStoreNames||Ge.get(gt);if("store"===_t)return Gt.objectStoreNames[1]?void 0:Gt.objectStore(Gt.objectStoreNames[0])}return We(gt[_t])},set:(gt,_t,Gt)=>(gt[_t]=Gt,!0),has:(gt,_t)=>gt instanceof IDBTransaction&&("done"===_t||"store"===_t)||_t in gt};function it(gt){return"function"==typeof gt?function Se(gt){return gt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(gt)?function(..._t){return gt.apply(Ke(this),_t),We(de.get(this))}:function(..._t){return We(gt.apply(Ke(this),_t))}:function(_t,...Gt){const _n=gt.call(Ke(this),_t,...Gt);return Ge.set(_n,_t.sort?_t.sort():[_t]),We(_n)}}(gt):(gt instanceof IDBTransaction&&function ft(gt){if(le.has(gt))return;const _t=new Promise((Gt,_n)=>{const ir=()=>{gt.removeEventListener("complete",Hn),gt.removeEventListener("error",er),gt.removeEventListener("abort",er)},Hn=()=>{Gt(),ir()},er=()=>{_n(gt.error||new DOMException("AbortError","AbortError")),ir()};gt.addEventListener("complete",Hn),gt.addEventListener("error",er),gt.addEventListener("abort",er)});le.set(gt,_t)}(gt),we(gt,function be(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(gt,Ye):gt)}function We(gt){if(gt instanceof IDBRequest)return function qe(gt){const _t=new Promise((Gt,_n)=>{const ir=()=>{gt.removeEventListener("success",Hn),gt.removeEventListener("error",er)},Hn=()=>{Gt(We(gt.result)),ir()},er=()=>{_n(gt.error),ir()};gt.addEventListener("success",Hn),gt.addEventListener("error",er)});return _t.then(Gt=>{Gt instanceof IDBCursor&&de.set(Gt,gt)}).catch(()=>{}),He.set(_t,gt),_t}(gt);if(je.has(gt))return je.get(gt);const _t=it(gt);return _t!==gt&&(je.set(gt,_t),He.set(_t,gt)),_t}const Ke=gt=>He.get(gt),me=["get","getKey","getAll","getAllKeys","count"],z=["put","add","delete","clear"],$e=new Map;function Be(gt,_t){if(!(gt instanceof IDBDatabase)||_t in gt||"string"!=typeof _t)return;if($e.get(_t))return $e.get(_t);const Gt=_t.replace(/FromIndex$/,""),_n=_t!==Gt,ir=z.includes(Gt);if(!(Gt in(_n?IDBIndex:IDBObjectStore).prototype)||!ir&&!me.includes(Gt))return;const Hn=function(){var er=(0,l.c)(function*(Br,...Ar){const Mr=this.transaction(Br,ir?"readwrite":"readonly");let ki=Mr.store;return _n&&(ki=ki.index(Ar.shift())),(yield Promise.all([ki[Gt](...Ar),ir&&Mr.done]))[0]});return function(Ar){return er.apply(this,arguments)}}();return $e.set(_t,Hn),Hn}!function Ve(gt){Ye=gt(Ye)}(gt=>({...gt,get:(_t,Gt,_n)=>Be(_t,Gt)||gt.get(_t,Gt,_n),has:(_t,Gt)=>!!Be(_t,Gt)||gt.has(_t,Gt)}));class Le{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function Ae(gt){const _t=gt.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(Gt)){const _n=Gt.getImmediate();return`${_n.library}/${_n.version}`}return null}).filter(Gt=>Gt).join(" ")}}const ze="@firebase/app",zt=new K.YJ("@firebase/app"),mr="[DEFAULT]",lr={[ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,$n=new Map;function vr(gt,_t){try{gt.container.addComponent(_t)}catch(Gt){zt.debug(`Component ${_t.name} failed to register with FirebaseApp ${gt.name}`,Gt)}}function di(gt,_t){gt.container.addOrOverwriteComponent(_t)}function zn(gt){const _t=gt.name;if($n.has(_t))return zt.debug(`There were multiple attempts to register component ${_t}.`),!1;$n.set(_t,gt);for(const Gt of An.values())vr(Gt,gt);return!0}function Cn(gt,_t){const Gt=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),gt.container.getProvider(_t)}function Ir(gt,_t,Gt=mr){Cn(gt,_t).clearInstance(Gt)}function Fn(){$n.clear()}const Un=new ie.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vn{constructor(_t,Gt,_n){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=_n,this.container.addComponent(new x.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const sr="10.8.1";function ai(gt,_t={}){let Gt=gt;"object"!=typeof _t&&(_t={name:_t});const _n=Object.assign({name:mr,automaticDataCollectionEnabled:!1},_t),ir=_n.name;if("string"!=typeof ir||!ir)throw Un.create("bad-app-name",{appName:String(ir)});if(Gt||(Gt=(0,ie.Yd)()),!Gt)throw Un.create("no-options");const Hn=An.get(ir);if(Hn){if((0,ie.IN)(Gt,Hn.options)&&(0,ie.IN)(_n,Hn.config))return Hn;throw Un.create("duplicate-app",{appName:ir})}const er=new x.op(ir);for(const Ar of $n.values())er.addComponent(Ar);const Br=new vn(Gt,_n,er);return An.set(ir,Br),Br}function Dr(gt=mr){const _t=An.get(gt);if(!_t&&gt===mr&&(0,ie.Yd)())return ai();if(!_t)throw Un.create("no-app",{appName:gt});return _t}function Bn(){return Array.from(An.values())}function Zn(gt){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.c)(function*(gt){const _t=gt.name;An.has(_t)&&(An.delete(_t),yield Promise.all(gt.container.getProviders().map(Gt=>Gt.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function Ei(gt,_t,Gt){var _n;let ir=null!==(_n=lr[gt])&&void 0!==_n?_n:gt;Gt&&(ir+=`-${Gt}`);const Hn=ir.match(/\s|\//),er=_t.match(/\s|\//);if(Hn||er){const Br=[`Unable to register library "${ir}" with version "${_t}":`];return Hn&&Br.push(`library name "${ir}" contains illegal characters (whitespace or "/")`),Hn&&er&&Br.push("and"),er&&Br.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void zt.warn(Br.join(" "))}zn(new x.Yl(`${ir}-version`,()=>({library:ir,version:_t}),"VERSION"))}function Rt(gt,_t){if(null!==gt&&"function"!=typeof gt)throw Un.create("invalid-log-argument");(0,K.S2)(gt,_t)}function et(gt){(0,K.QN)(gt)}const Tt="firebase-heartbeat-database",tt=1,oe="firebase-heartbeat-store";let he=null;function Z(){return he||(he=function Qe(gt,_t,{blocked:Gt,upgrade:_n,blocking:ir,terminated:Hn}={}){const er=indexedDB.open(gt,_t),Br=We(er);return _n&&er.addEventListener("upgradeneeded",Ar=>{_n(We(er.result),Ar.oldVersion,Ar.newVersion,We(er.transaction),Ar)}),Gt&&er.addEventListener("blocked",Ar=>Gt(Ar.oldVersion,Ar.newVersion,Ar)),Br.then(Ar=>{Hn&&Ar.addEventListener("close",()=>Hn()),ir&&Ar.addEventListener("versionchange",Mr=>ir(Mr.oldVersion,Mr.newVersion,Mr))}).catch(()=>{}),Br}(Tt,tt,{upgrade:(gt,_t)=>{if(0===_t)try{gt.createObjectStore(oe)}catch(Gt){console.warn(Gt)}}}).catch(gt=>{throw Un.create("idb-open",{originalErrorMessage:gt.message})})),he}function F(){return(F=(0,l.c)(function*(gt){try{const Gt=(yield Z()).transaction(oe),_n=yield Gt.objectStore(oe).get(ct(gt));return yield Gt.done,_n}catch(_t){if(_t instanceof ie.kx)zt.warn(_t.message);else{const Gt=Un.create("idb-get",{originalErrorMessage:null==_t?void 0:_t.message});zt.warn(Gt.message)}}})).apply(this,arguments)}function pe(gt,_t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,l.c)(function*(gt,_t){try{const _n=(yield Z()).transaction(oe,"readwrite");yield _n.objectStore(oe).put(_t,ct(gt)),yield _n.done}catch(Gt){if(Gt instanceof ie.kx)zt.warn(Gt.message);else{const _n=Un.create("idb-set",{originalErrorMessage:null==Gt?void 0:Gt.message});zt.warn(_n.message)}}})).apply(this,arguments)}function ct(gt){return`${gt.name}!${gt.options.appId}`}class tn{constructor(_t){this.container=_t,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new Rn(Gt),this._heartbeatsCachePromise=this._storage.read().then(_n=>(this._heartbeatsCache=_n,_n))}triggerHeartbeat(){var _t=this;return(0,l.c)(function*(){var Gt,_n;const Hn=_t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),er=Vt();if((null!=(null===(Gt=_t._heartbeatsCache)||void 0===Gt?void 0:Gt.heartbeats)||(_t._heartbeatsCache=yield _t._heartbeatsCachePromise,null!=(null===(_n=_t._heartbeatsCache)||void 0===_n?void 0:_n.heartbeats)))&&_t._heartbeatsCache.lastSentHeartbeatDate!==er&&!_t._heartbeatsCache.heartbeats.some(Br=>Br.date===er))return _t._heartbeatsCache.heartbeats.push({date:er,agent:Hn}),_t._heartbeatsCache.heartbeats=_t._heartbeatsCache.heartbeats.filter(Br=>{const Ar=new Date(Br.date).valueOf();return Date.now()-Ar<=2592e6}),_t._storage.overwrite(_t._heartbeatsCache)})()}getHeartbeatsHeader(){var _t=this;return(0,l.c)(function*(){var Gt;if(null===_t._heartbeatsCache&&(yield _t._heartbeatsCachePromise),null==(null===(Gt=_t._heartbeatsCache)||void 0===Gt?void 0:Gt.heartbeats)||0===_t._heartbeatsCache.heartbeats.length)return"";const _n=Vt(),{heartbeatsToSend:ir,unsentEntries:Hn}=function dn(gt,_t=1024){const Gt=[];let _n=gt.slice();for(const ir of gt){const Hn=Gt.find(er=>er.agent===ir.agent);if(Hn){if(Hn.dates.push(ir.date),Gn(Gt)>_t){Hn.dates.pop();break}}else if(Gt.push({agent:ir.agent,dates:[ir.date]}),Gn(Gt)>_t){Gt.pop();break}_n=_n.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:_n}}(_t._heartbeatsCache.heartbeats),er=(0,ie.Wg)(JSON.stringify({version:2,heartbeats:ir}));return _t._heartbeatsCache.lastSentHeartbeatDate=_n,Hn.length>0?(_t._heartbeatsCache.heartbeats=Hn,yield _t._storage.overwrite(_t._heartbeatsCache)):(_t._heartbeatsCache.heartbeats=[],_t._storage.overwrite(_t._heartbeatsCache)),er})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.c)(function*(){return!!(0,ie.yy)()&&(0,ie.A3)().then(()=>!0).catch(()=>!1)})()}read(){var _t=this;return(0,l.c)(function*(){if(yield _t._canUseIndexedDBPromise){const _n=yield function R(gt){return F.apply(this,arguments)}(_t.app);return null!=_n&&_n.heartbeats?_n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_t){var Gt=this;return(0,l.c)(function*(){var _n;if(yield Gt._canUseIndexedDBPromise){const Hn=yield Gt.read();return pe(Gt.app,{lastSentHeartbeatDate:null!==(_n=_t.lastSentHeartbeatDate)&&void 0!==_n?_n:Hn.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}})()}add(_t){var Gt=this;return(0,l.c)(function*(){var _n;if(yield Gt._canUseIndexedDBPromise){const Hn=yield Gt.read();return pe(Gt.app,{lastSentHeartbeatDate:null!==(_n=_t.lastSentHeartbeatDate)&&void 0!==_n?_n:Hn.lastSentHeartbeatDate,heartbeats:[...Hn.heartbeats,..._t.heartbeats]})}})()}}function Gn(gt){return(0,ie.Wg)(JSON.stringify({version:2,heartbeats:gt})).length}!function Jn(gt){zn(new x.Yl("platform-logger",_t=>new Le(_t),"PRIVATE")),zn(new x.Yl("heartbeat",_t=>new tn(_t),"PRIVATE")),Ei(ze,"0.9.28",gt),Ei(ze,"0.9.28","esm2017"),Ei("fire-js","")}("")},4920:(fn,at,O)=>{"use strict";O.d(at,{Yl:()=>K,op:()=>be});var l=O(1528),x=O(7144);class K{constructor(de,le,Ge){this.name=de,this.instanceFactory=le,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const ie="[DEFAULT]";class we{constructor(de,le){this.name=de,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const le=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(le)){const Ge=new x.o9;if(this.instancesDeferred.set(le,Ge),this.isInitialized(le)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:le});je&&Ge.resolve(je)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(de){var le;const Ge=this.normalizeInstanceIdentifier(null==de?void 0:de.identifier),je=null!==(le=null==de?void 0:de.optional)&&void 0!==le&&le;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(He){if(je)return null;throw He}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function ae(Xe){return"EAGER"===Xe.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[le,Ge]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(le);try{const He=this.getOrInitializeService({instanceIdentifier:je});Ge.resolve(He)}catch{}}}}clearInstance(de=ie){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,l.c)(function*(){const le=Array.from(de.instances.values());yield Promise.all([...le.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...le.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=ie){return this.instances.has(de)}getOptions(de=ie){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:le={}}=de,Ge=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Ge,options:le});for(const[He,qe]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(He)&&qe.resolve(je);return je}onInit(de,le){var Ge;const je=this.normalizeInstanceIdentifier(le),He=null!==(Ge=this.onInitCallbacks.get(je))&&void 0!==Ge?Ge:new Set;He.add(de),this.onInitCallbacks.set(je,He);const qe=this.instances.get(je);return qe&&de(qe,je),()=>{He.delete(de)}}invokeOnInitCallbacks(de,le){const Ge=this.onInitCallbacks.get(le);if(Ge)for(const je of Ge)try{je(de,le)}catch{}}getOrInitializeService({instanceIdentifier:de,options:le={}}){let Ge=this.instances.get(de);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Xe=de,Xe===ie?void 0:Xe),options:le}),this.instances.set(de,Ge),this.instancesOptions.set(de,le),this.invokeOnInitCallbacks(Ge,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Ge)}catch{}var Xe;return Ge||null}normalizeInstanceIdentifier(de=ie){return this.component?this.component.multipleInstances?de:ie:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const le=this.getProvider(de.name);if(le.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);le.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const le=new we(de,this);return this.providers.set(de,le),le}getProviders(){return Array.from(this.providers.values())}}},5976:(fn,at,O)=>{"use strict";O.d(at,{Ge:()=>x,QN:()=>be,S2:()=>Xe,YJ:()=>ae});const l=[];var x=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(x||{});const K={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},ie=x.INFO,we={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},ce=(de,le,...Ge)=>{if(le<de.logLevel)return;const je=(new Date).toISOString(),He=we[le];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[He](`[${je}]  ${de.name}:`,...Ge)};class ae{constructor(le){this.name=le,this._logLevel=ie,this._logHandler=ce,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in x))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?K[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...le),this._logHandler(this,x.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...le),this._logHandler(this,x.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,x.INFO,...le),this._logHandler(this,x.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,x.WARN,...le),this._logHandler(this,x.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...le),this._logHandler(this,x.ERROR,...le)}}function be(de){l.forEach(le=>{le.setLogLevel(de)})}function Xe(de,le){for(const Ge of l){let je=null;le&&le.level&&(je=K[le.level]),Ge.userLogHandler=null===de?null:(He,qe,...ft)=>{const Ye=ft.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");qe>=(null!=je?je:He.logLevel)&&de({level:x[qe].toLowerCase(),message:Ye,args:ft,type:He.name})}}}},304:(fn,at,O)=>{"use strict";O.d(at,{kh:()=>zn,_U:()=>An,m2:()=>$n,Im:()=>_n,Qz:()=>tt,Ej:()=>Ar,sW:()=>Rt,Cg:()=>dn,CE:()=>Mr,um:()=>Kn,wX:()=>kn,gk:()=>Eo,g5:()=>ir,GY:()=>Hn,uU:()=>so,Al:()=>gt,cl:()=>ki,ag:()=>hr});var l=O(1528),x=O(4496),K=O(4196),ie=O(1368);class we{constructor(){this.m=new Map}reset(xe){this.m=new Map(Object.entries(xe))}get(xe,X){const Ce=this.m.get(xe);return void 0!==Ce?Ce:X}getBoolean(xe,X=!1){const Ce=this.m.get(xe);return void 0===Ce?X:"string"==typeof Ce?"true"===Ce:!!Ce}getNumber(xe,X){const Ce=parseFloat(this.m.get(xe));return isNaN(Ce)?void 0!==X?X:NaN:Ce}set(xe,X){this.m.set(xe,X)}}const ce=new we,je=Re=>qe(Re),qe=(Re=window)=>{if(typeof Re>"u")return[];Re.Ionic=Re.Ionic||{};let xe=Re.Ionic.platforms;return null==xe&&(xe=Re.Ionic.platforms=ft(Re),xe.forEach(X=>Re.document.documentElement.classList.add(`plt-${X}`))),xe},ft=Re=>{const xe=ce.get("platform");return Object.keys(Pt).filter(X=>{const Ce=null==xe?void 0:xe[X];return"function"==typeof Ce?Ce(Re):Pt[X](Re)})},Ve=Re=>!!(Ct(Re,/iPad/i)||Ct(Re,/Macintosh/i)&&me(Re)),We=Re=>Ct(Re,/android|sink/i),me=Re=>zt(Re,"(any-pointer:coarse)"),$e=Re=>Be(Re)||Le(Re),Be=Re=>!!(Re.cordova||Re.phonegap||Re.PhoneGap),Le=Re=>{const xe=Re.Capacitor;return!(null==xe||!xe.isNative)},Ct=(Re,xe)=>xe.test(Re.navigator.userAgent),zt=(Re,xe)=>{var X;return null===(X=Re.matchMedia)||void 0===X?void 0:X.call(Re,xe).matches},Pt={ipad:Ve,iphone:Re=>Ct(Re,/iPhone/i),ios:Re=>Ct(Re,/iPhone|iPod/i)||Ve(Re),android:We,phablet:Re=>{const xe=Re.innerWidth,X=Re.innerHeight,Ce=Math.min(xe,X),pt=Math.max(xe,X);return Ce>390&&Ce<520&&pt>620&&pt<800},tablet:Re=>{const xe=Re.innerWidth,X=Re.innerHeight,Ce=Math.min(xe,X),pt=Math.max(xe,X);return Ve(Re)||(Re=>We(Re)&&!Ct(Re,/mobile/i))(Re)||Ce>460&&Ce<820&&pt>780&&pt<1400},cordova:Be,capacitor:Le,electron:Re=>Ct(Re,/electron/i),pwa:Re=>{var xe;return!!(null!==(xe=Re.matchMedia)&&void 0!==xe&&xe.call(Re,"(display-mode: standalone)").matches||Re.navigator.standalone)},mobile:me,mobileweb:Re=>me(Re)&&!$e(Re),desktop:Re=>!me(Re),hybrid:$e};var Me=O(1896),Oe=O(9248),ut=O(5657),Ue=O(800),Zt=O(6700),on=O(6040),Kt=O(2700),Bt=O(1316),bn=O(6684),tr=O(7368),qn=O(4e3),Ft=O(4716);const Dt=["tabsInner"];let qt=(()=>{class Re{constructor(X,Ce){this.doc=X,this.backButton=new ut.E,this.keyboardDidShow=new ut.E,this.keyboardDidHide=new ut.E,this.pause=new ut.E,this.resume=new ut.E,this.resize=new ut.E,Ce.run(()=>{var pt;let Yt;this.win=X.defaultView,this.backButton.subscribeWithPriority=function(yn,En){return this.subscribe(Vn=>Vn.register(yn,Qn=>Ce.run(()=>En(Qn))))},wn(this.pause,X,"pause",Ce),wn(this.resume,X,"resume",Ce),wn(this.backButton,X,"ionBackButton",Ce),wn(this.resize,this.win,"resize",Ce),wn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Ce),wn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Ce),this._readyPromise=new Promise(yn=>{Yt=yn}),null!==(pt=this.win)&&void 0!==pt&&pt.cordova?X.addEventListener("deviceready",()=>{Yt("cordova")},{once:!0}):Yt("dom")})}is(X){return((Re,xe)=>("string"==typeof Re&&(xe=Re,Re=void 0),je(Re).includes(xe)))(this.win,X)}platforms(){return je(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(X){return mt(this.win.location.href,X)}isLandscape(){return!this.isPortrait()}isPortrait(){var X,Ce;return null===(X=(Ce=this.win).matchMedia)||void 0===X?void 0:X.call(Ce,"(orientation: portrait)").matches}testUserAgent(X){const Ce=this.win.navigator;return!!(null!=Ce&&Ce.userAgent&&Ce.userAgent.indexOf(X)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Re.\u0275fac=function(X){return new(X||Re)(x.CoB(ie.Ud),x.CoB(x.WW2))},Re.\u0275prov=x.wxM({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();const mt=(Re,xe)=>{xe=xe.replace(/[[\]\\]/g,"\\$&");const Ce=new RegExp("[\\?&]"+xe+"=([^&#]*)").exec(Re);return Ce?decodeURIComponent(Ce[1].replace(/\+/g," ")):null},wn=(Re,xe,X,Ce)=>{xe&&xe.addEventListener(X,pt=>{Ce.run(()=>{Re.next(null!=pt?pt.detail:void 0)})})};let kn=(()=>{class Re{constructor(X,Ce,pt,Yt){this.location=Ce,this.serializer=pt,this.router=Yt,this.direction=mr,this.animated=lr,this.guessDirection="forward",this.lastNavId=-1,Yt&&Yt.events.subscribe(yn=>{if(yn instanceof K.Qx){const En=yn.restoredState?yn.restoredState.navigationId:yn.id;this.guessDirection=En<this.lastNavId?"back":"forward",this.guessAnimation=yn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?yn.id:En}}),X.backButton.subscribeWithPriority(0,yn=>{this.pop(),yn()})}navigateForward(X,Ce={}){return this.setDirection("forward",Ce.animated,Ce.animationDirection,Ce.animation),this.navigate(X,Ce)}navigateBack(X,Ce={}){return this.setDirection("back",Ce.animated,Ce.animationDirection,Ce.animation),this.navigate(X,Ce)}navigateRoot(X,Ce={}){return this.setDirection("root",Ce.animated,Ce.animationDirection,Ce.animation),this.navigate(X,Ce)}back(X={animated:!0,animationDirection:"back"}){return this.setDirection("back",X.animated,X.animationDirection,X.animation),this.location.back()}pop(){var X=this;return(0,l.c)(function*(){let Ce=X.topOutlet;for(;Ce;){if(yield Ce.pop())return!0;Ce=Ce.parentOutlet}return!1})()}setDirection(X,Ce,pt,Yt){this.direction=X,this.animated=pr(X,Ce,pt),this.animationBuilder=Yt}setTopOutlet(X){this.topOutlet=X}consumeTransition(){let Ce,X="root";const pt=this.animationBuilder;return"auto"===this.direction?(X=this.guessDirection,Ce=this.guessAnimation):(Ce=this.animated,X=this.direction),this.direction=mr,this.animated=lr,this.animationBuilder=void 0,{direction:X,animation:Ce,animationBuilder:pt}}navigate(X,Ce){if(Array.isArray(X))return this.router.navigate(X,Ce);{const pt=this.serializer.parse(X.toString());return void 0!==Ce.queryParams&&(pt.queryParams={...Ce.queryParams}),void 0!==Ce.fragment&&(pt.fragment=Ce.fragment),this.router.navigateByUrl(pt,Ce)}}}return Re.\u0275fac=function(X){return new(X||Re)(x.CoB(qt),x.CoB(ie.oB),x.CoB(K.qd),x.CoB(K.E5,8))},Re.\u0275prov=x.wxM({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();const pr=(Re,xe,X)=>{if(!1!==xe){if(void 0!==X)return X;if("forward"===Re||"back"===Re)return Re;if("root"===Re&&!0===xe)return"forward"}},mr="auto",lr=void 0;let An=(()=>{class Re{get(X,Ce){const pt=vr();return pt?pt.get(X,Ce):null}getBoolean(X,Ce){const pt=vr();return!!pt&&pt.getBoolean(X,Ce)}getNumber(X,Ce){const pt=vr();return pt?pt.getNumber(X,Ce):0}}return Re.\u0275fac=function(X){return new(X||Re)},Re.\u0275prov=x.wxM({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();const $n=new x.UbH("USERCONFIG"),vr=()=>{if(typeof window<"u"){const Re=window.Ionic;if(null!=Re&&Re.config)return Re.config}return null};class di{constructor(xe={}){this.data=xe}get(xe){return this.data[xe]}}let zn=(()=>{class Re{constructor(){this.zone=(0,x.uUt)(x.WW2),this.applicationRef=(0,x.uUt)(x.Swk)}create(X,Ce,pt){return new Cn(X,Ce,this.applicationRef,this.zone,pt)}}return Re.\u0275fac=function(X){return new(X||Re)},Re.\u0275prov=x.wxM({token:Re,factory:Re.\u0275fac}),Re})();class Cn{constructor(xe,X,Ce,pt,Yt){this.environmentInjector=xe,this.injector=X,this.applicationRef=Ce,this.zone=pt,this.elementReferenceKey=Yt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(xe,X,Ce,pt){return this.zone.run(()=>new Promise(Yt=>{const yn={...Ce};void 0!==this.elementReferenceKey&&(yn[this.elementReferenceKey]=xe),Yt(Ir(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,xe,X,yn,pt,this.elementReferenceKey))}))}removeViewFromDom(xe,X){return this.zone.run(()=>new Promise(Ce=>{const pt=this.elRefMap.get(X);if(pt){pt.destroy(),this.elRefMap.delete(X);const Yt=this.elEventsMap.get(X);Yt&&(Yt(),this.elEventsMap.delete(X))}Ce()}))}}const Ir=(Re,xe,X,Ce,pt,Yt,yn,En,Vn,Qn,li)=>{const Et=x.zZn.create({providers:vn(Vn),parent:X}),q=(0,x.kdu)(En,{environmentInjector:xe,elementInjector:Et}),te=q.instance,Ze=q.location.nativeElement;if(Vn&&(li&&void 0!==te[li]&&console.error(`[Ionic Error]: ${li} is a reserved property when using ${yn.tagName.toLowerCase()}. Rename or remove the "${li}" property from ${En.name}.`),Object.assign(te,Vn)),Qn)for(const It of Qn)Ze.classList.add(It);const rt=Sn(Re,te,Ze);return yn.appendChild(Ze),Ce.attachView(q.hostView),pt.set(Ze,q),Yt.set(Ze,rt),Ze},Fn=[Me.L,Me.a,Me.b,Me.c,Me.d],Sn=(Re,xe,X)=>Re.run(()=>{const Ce=Fn.filter(pt=>"function"==typeof xe[pt]).map(pt=>{const Yt=yn=>xe[pt](yn.detail);return X.addEventListener(pt,Yt),()=>X.removeEventListener(pt,Yt)});return()=>Ce.forEach(pt=>pt())}),Un=new x.UbH("NavParamsToken"),vn=Re=>[{provide:Un,useValue:Re},{provide:di,useFactory:sr,deps:[Un]}],sr=Re=>new di(Re),ai=(Re,xe)=>{const X=Re.prototype;xe.forEach(Ce=>{Object.defineProperty(X,Ce,{get(){return this.el[Ce]},set(pt){this.z.runOutsideAngular(()=>this.el[Ce]=pt)}})})},Dr=(Re,xe)=>{const X=Re.prototype;xe.forEach(Ce=>{X[Ce]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[Ce].apply(this.el,pt))}})},Bn=(Re,xe,X)=>{X.forEach(Ce=>Re[Ce]=(0,Ue.w)(xe,Ce))};function Zn(Re){return function(X){const{defineCustomElementFn:Ce,inputs:pt,methods:Yt}=Re;return void 0!==Ce&&Ce(),pt&&ai(X,pt),Yt&&Dr(X,Yt),X}}const wr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ei=["present","dismiss","onDidDismiss","onWillDismiss"];let Rt=(()=>{let Re=class{constructor(X,Ce,pt){this.z=pt,this.isCmpOpen=!1,this.el=Ce.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,X.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,X.detectChanges()}),Bn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(x.kD9),x.GI1(x.GMv),x.GI1(x.WW2))},Re.\u0275dir=x.Sc5({type:Re,selectors:[["ion-popover"]],contentQueries:function(X,Ce,pt){if(1&X&&x.szK(pt,x.Yw2,5),2&X){let Yt;x.wto(Yt=x.Gqi())&&(Ce.template=Yt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),Re=(0,Bt.UN)([Zn({inputs:wr,methods:Ei})],Re),Re})();const et=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Tt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let tt=(()=>{let Re=class{constructor(X,Ce,pt){this.z=pt,this.isCmpOpen=!1,this.el=Ce.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,X.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,X.detectChanges()}),Bn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(x.kD9),x.GI1(x.GMv),x.GI1(x.WW2))},Re.\u0275dir=x.Sc5({type:Re,selectors:[["ion-modal"]],contentQueries:function(X,Ce,pt){if(1&X&&x.szK(pt,x.Yw2,5),2&X){let Yt;x.wto(Yt=x.Gqi())&&(Ce.template=Yt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),Re=(0,Bt.UN)([Zn({inputs:et,methods:Tt})],Re),Re})();const he=(Re,xe)=>((Re=Re.filter(X=>X.stackId!==xe.stackId)).push(xe),Re),F=(Re,xe)=>{const X=Re.createUrlTree(["."],{relativeTo:xe});return Re.serializeUrl(X)},pe=(Re,xe)=>!xe||Re.stackId!==xe.stackId,Pe=(Re,xe)=>{if(!Re)return;const X=ct(xe);for(let Ce=0;Ce<X.length;Ce++){if(Ce>=Re.length)return X[Ce];if(X[Ce]!==Re[Ce])return}},ct=Re=>Re.split("/").map(xe=>xe.trim()).filter(xe=>""!==xe),Mt=Re=>{Re&&(Re.ref.destroy(),Re.unlistenEvents())};class xt{constructor(xe,X,Ce,pt,Yt,yn){this.containerEl=X,this.router=Ce,this.navCtrl=pt,this.zone=Yt,this.location=yn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==xe?ct(xe):void 0}createView(xe,X){var Ce;const pt=F(this.router,X),Yt=null==xe||null===(Ce=xe.location)||void 0===Ce?void 0:Ce.nativeElement,yn=Sn(this.zone,xe.instance,Yt);return{id:this.nextId++,stackId:Pe(this.tabsPrefix,pt),unlistenEvents:yn,element:Yt,ref:xe,url:pt}}getExistingView(xe){const X=F(this.router,xe),Ce=this.views.find(pt=>pt.url===X);return Ce&&Ce.ref.changeDetectorRef.reattach(),Ce}setActive(xe){var X,Ce;const pt=this.navCtrl.consumeTransition();let{direction:Yt,animation:yn,animationBuilder:En}=pt;const Vn=this.activeView,Qn=pe(xe,Vn);Qn&&(Yt="back",yn=void 0);const li=this.views.slice();let Et;const q=this.router;q.getCurrentNavigation?Et=q.getCurrentNavigation():null!==(X=q.navigations)&&void 0!==X&&X.value&&(Et=q.navigations.value),null!==(Ce=Et)&&void 0!==Ce&&null!==(Ce=Ce.extras)&&void 0!==Ce&&Ce.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const te=this.views.includes(xe),Ze=this.insertView(xe,Yt);te||xe.ref.changeDetectorRef.detectChanges();const rt=xe.animationBuilder;return void 0===En&&"back"===Yt&&!Qn&&void 0!==rt&&(En=rt),Vn&&(Vn.animationBuilder=En),this.zone.runOutsideAngular(()=>this.wait(()=>(Vn&&Vn.ref.changeDetectorRef.detach(),xe.ref.changeDetectorRef.reattach(),this.transition(xe,Vn,yn,this.canGoBack(1),!1,En).then(()=>tn(xe,Ze,li,this.location,this.zone)).then(()=>({enteringView:xe,direction:Yt,animation:yn,tabSwitch:Qn})))))}canGoBack(xe,X=this.getActiveStackId()){return this.getStack(X).length>xe}pop(xe,X=this.getActiveStackId()){return this.zone.run(()=>{const Ce=this.getStack(X);if(Ce.length<=xe)return Promise.resolve(!1);const pt=Ce[Ce.length-xe-1];let Yt=pt.url;const yn=pt.savedData;if(yn){var En;const Qn=yn.get("primary");null!=Qn&&null!==(En=Qn.route)&&void 0!==En&&null!==(En=En._routerState)&&void 0!==En&&En.snapshot.url&&(Yt=Qn.route._routerState.snapshot.url)}const{animationBuilder:Vn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Yt,{...pt.savedExtras,animation:Vn}).then(()=>!0)})}startBackTransition(){const xe=this.activeView;if(xe){const X=this.getStack(xe.stackId),Ce=X[X.length-2],pt=Ce.animationBuilder;return this.wait(()=>this.transition(Ce,xe,"back",this.canGoBack(2),!0,pt))}return Promise.resolve()}endBackTransition(xe){xe?(this.skipTransition=!0,this.pop(1)):this.activeView&&Vt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(xe){const X=this.getStack(xe);return X.length>0?X[X.length-1]:void 0}getRootUrl(xe){const X=this.getStack(xe);return X.length>0?X[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Mt),this.activeView=void 0,this.views=[]}getStack(xe){return this.views.filter(X=>X.stackId===xe)}insertView(xe,X){return this.activeView=xe,this.views=((Re,xe,X)=>"root"===X?he(Re,xe):"forward"===X?((Re,xe)=>(Re.indexOf(xe)>=0?Re=Re.filter(Ce=>Ce.stackId!==xe.stackId||Ce.id<=xe.id):Re.push(xe),Re))(Re,xe):((Re,xe)=>Re.indexOf(xe)>=0?Re.filter(Ce=>Ce.stackId!==xe.stackId||Ce.id<=xe.id):he(Re,xe))(Re,xe))(this.views,xe,X),this.views.slice()}transition(xe,X,Ce,pt,Yt,yn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(X===xe)return Promise.resolve(!1);const En=xe?xe.element:void 0,Vn=X?X.element:void 0,Qn=this.containerEl;return En&&En!==Vn&&(En.classList.add("ion-page"),En.classList.add("ion-page-invisible"),En.parentElement!==Qn&&Qn.appendChild(En),Qn.commit)?Qn.commit(En,Vn,{duration:void 0===Ce?0:void 0,direction:Ce,showGoBack:pt,progressAnimation:Yt,animationBuilder:yn}):Promise.resolve(!1)}wait(xe){var X=this;return(0,l.c)(function*(){void 0!==X.runningTask&&(yield X.runningTask,X.runningTask=void 0);const Ce=X.runningTask=xe();return Ce.finally(()=>X.runningTask=void 0),Ce})()}}const tn=(Re,xe,X,Ce,pt)=>"function"==typeof requestAnimationFrame?new Promise(Yt=>{requestAnimationFrame(()=>{Vt(Re,xe,X,Ce,pt),Yt()})}):Promise.resolve(),Vt=(Re,xe,X,Ce,pt)=>{pt.run(()=>X.filter(Yt=>!xe.includes(Yt)).forEach(Mt)),xe.forEach(Yt=>{const En=Ce.path().split("?")[0].split("#")[0];if(Yt!==Re&&Yt.url!==En){const Vn=Yt.element;Vn.setAttribute("aria-hidden","true"),Vn.classList.add("ion-page-hidden"),Yt.ref.changeDetectorRef.detach()}})};let dn=(()=>{class Re{constructor(X,Ce,pt,Yt,yn,En,Vn,Qn){this.parentOutlet=Qn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Zt.g(null),this.activated=null,this._activatedRoute=null,this.name=K.gf,this.stackWillChange=new x._w7,this.stackDidChange=new x._w7,this.activateEvents=new x._w7,this.deactivateEvents=new x._w7,this.parentContexts=(0,x.uUt)(K.O4),this.location=(0,x.uUt)(x.y8U),this.environmentInjector=(0,x.uUt)(x.SIe),this.inputBinder=(0,x.uUt)(Gn,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,x.uUt)(An),this.navCtrl=(0,x.uUt)(kn),this.nativeEl=Yt.nativeElement,this.name=X||K.gf,this.tabsPrefix="true"===Ce?F(yn,Vn):void 0,this.stackCtrl=new xt(this.tabsPrefix,this.nativeEl,yn,this.navCtrl,En,pt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(X){this.nativeEl.animation=X}set animated(X){this.nativeEl.animated=X}set swipeGesture(X){this._swipeGesture=X,this.nativeEl.swipeHandler=X?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Ce=>this.stackCtrl.endBackTransition(Ce)}:void 0}ngOnDestroy(){var X;this.stackCtrl.destroy(),null===(X=this.inputBinder)||void 0===X||X.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const X=this.getContext();null!=X&&X.route&&this.activateWith(X.route,X.injector)}new Promise(X=>(0,Oe.c)(this.nativeEl,X)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(X,Ce){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Ce=this.getContext();this.activatedView.savedData=new Map(Ce.children.contexts);const pt=this.activatedView.savedData.get("primary");if(pt&&Ce.route&&(pt.route={...Ce.route}),this.activatedView.savedExtras={},Ce.route){const Yt=Ce.route.snapshot;this.activatedView.savedExtras.queryParams=Yt.queryParams,this.activatedView.savedExtras.fragment=Yt.fragment}}const X=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(X)}}activateWith(X,Ce){var pt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=X;let Yt,yn=this.stackCtrl.getExistingView(X);if(yn){Yt=this.activated=yn.ref;const Qn=yn.savedData;Qn&&(this.getContext().children.contexts=Qn),this.updateActivatedRouteProxy(Yt.instance,X)}else{var En;const Qn=X._futureSnapshot,li=this.parentContexts.getOrCreateContext(this.name).children,Et=new Zt.g(null),q=this.createActivatedRouteProxy(Et,X),te=new Rn(q,li,this.location.injector),Ze=null!==(En=Qn.routeConfig.component)&&void 0!==En?En:Qn.component;Yt=this.activated=this.location.createComponent(Ze,{index:this.location.length,injector:te,environmentInjector:null!=Ce?Ce:this.environmentInjector}),Et.next(Yt.instance),yn=this.stackCtrl.createView(this.activated,X),this.proxyMap.set(Yt.instance,q),this.currentActivatedRoute$.next({component:Yt.instance,activatedRoute:X})}null===(pt=this.inputBinder)||void 0===pt||pt.bindActivatedRouteToOutletComponent(this),this.activatedView=yn,this.navCtrl.setTopOutlet(this);const Vn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:yn,tabSwitch:pe(yn,Vn)}),this.stackCtrl.setActive(yn).then(Qn=>{this.activateEvents.emit(Yt.instance),this.stackDidChange.emit(Qn)})}canGoBack(X=1,Ce){return this.stackCtrl.canGoBack(X,Ce)}pop(X=1,Ce){return this.stackCtrl.pop(X,Ce)}getLastUrl(X){const Ce=this.stackCtrl.getLastUrl(X);return Ce?Ce.url:void 0}getLastRouteView(X){return this.stackCtrl.getLastUrl(X)}getRootView(X){return this.stackCtrl.getRootUrl(X)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(X,Ce){const pt=new K.gV;return pt._futureSnapshot=Ce._futureSnapshot,pt._routerState=Ce._routerState,pt.snapshot=Ce.snapshot,pt.outlet=Ce.outlet,pt.component=Ce.component,pt._paramMap=this.proxyObservable(X,"paramMap"),pt._queryParamMap=this.proxyObservable(X,"queryParamMap"),pt.url=this.proxyObservable(X,"url"),pt.params=this.proxyObservable(X,"params"),pt.queryParams=this.proxyObservable(X,"queryParams"),pt.fragment=this.proxyObservable(X,"fragment"),pt.data=this.proxyObservable(X,"data"),pt}proxyObservable(X,Ce){return X.pipe((0,bn.I)(pt=>!!pt),(0,tr.G)(pt=>this.currentActivatedRoute$.pipe((0,bn.I)(Yt=>null!==Yt&&Yt.component===pt),(0,tr.G)(Yt=>Yt&&Yt.activatedRoute[Ce]),(0,qn.a)())))}updateActivatedRouteProxy(X,Ce){const pt=this.proxyMap.get(X);if(!pt)throw new Error("Could not find activated route proxy for view");pt._futureSnapshot=Ce._futureSnapshot,pt._routerState=Ce._routerState,pt.snapshot=Ce.snapshot,pt.outlet=Ce.outlet,pt.component=Ce.component,this.currentActivatedRoute$.next({component:X,activatedRoute:Ce})}}return Re.\u0275fac=function(X){return new(X||Re)(x.gJ8("name"),x.gJ8("tabs"),x.GI1(ie.oB),x.GI1(x.GMv),x.GI1(K.E5),x.GI1(x.WW2),x.GI1(K.gV),x.GI1(Re,12))},Re.\u0275dir=x.Sc5({type:Re,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Re})();class Rn{constructor(xe,X,Ce){this.route=xe,this.childContexts=X,this.parent=Ce}get(xe,X){return xe===K.gV?this.route:xe===K.O4?this.childContexts:this.parent.get(xe,X)}}const Gn=new x.UbH("");let Jn=(()=>{class Re{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(X){this.unsubscribeFromRouteData(X),this.subscribeToRouteData(X)}unsubscribeFromRouteData(X){var Ce;null===(Ce=this.outletDataSubscriptions.get(X))||void 0===Ce||Ce.unsubscribe(),this.outletDataSubscriptions.delete(X)}subscribeToRouteData(X){const{activatedRoute:Ce}=X,pt=(0,on.E)([Ce.queryParams,Ce.params,Ce.data]).pipe((0,tr.G)(([Yt,yn,En],Vn)=>(En={...Yt,...yn,...En},0===Vn?(0,Kt.of)(En):Promise.resolve(En)))).subscribe(Yt=>{if(!X.isActivated||!X.activatedComponentRef||X.activatedRoute!==Ce||null===Ce.component)return void this.unsubscribeFromRouteData(X);const yn=(0,x.o9M)(Ce.component);if(yn)for(const{templateName:En}of yn.inputs)X.activatedComponentRef.setInput(En,Yt[En]);else this.unsubscribeFromRouteData(X)});this.outletDataSubscriptions.set(X,pt)}}return Re.\u0275fac=function(X){return new(X||Re)},Re.\u0275prov=x.wxM({token:Re,factory:Re.\u0275fac}),Re})();const gt=()=>({provide:Gn,useFactory:_t,deps:[K.E5]});function _t(Re){return null!=Re&&Re.componentInputBindingEnabled?new Jn:null}const Gt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let _n=(()=>{let Re=class{constructor(X,Ce,pt,Yt,yn,En){this.routerOutlet=X,this.navCtrl=Ce,this.config=pt,this.r=Yt,this.z=yn,En.detach(),this.el=this.r.nativeElement}onClick(X){var Ce;const pt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Ce=this.routerOutlet)&&void 0!==Ce&&Ce.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),X.preventDefault()):null!=pt&&(this.navCtrl.navigateBack(pt,{animation:this.routerAnimation}),X.preventDefault())}};return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(dn,8),x.GI1(kn),x.GI1(An),x.GI1(x.GMv),x.GI1(x.WW2),x.GI1(x.kD9))},Re.\u0275dir=x.Sc5({type:Re,hostBindings:function(X,Ce){1&X&&x.qCj("click",function(Yt){return Ce.onClick(Yt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),Re=(0,Bt.UN)([Zn({inputs:Gt})],Re),Re})(),ir=(()=>{class Re{constructor(X,Ce,pt,Yt,yn){this.locationStrategy=X,this.navCtrl=Ce,this.elementRef=pt,this.router=Yt,this.routerLink=yn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var X;if(null!==(X=this.routerLink)&&void 0!==X&&X.urlTree){const Ce=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ce}}onClick(X){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),X.preventDefault()}}return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(ie.Qd),x.GI1(kn),x.GI1(x.GMv),x.GI1(K.E5),x.GI1(K.ER,8))},Re.\u0275dir=x.Sc5({type:Re,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(X,Ce){1&X&&x.qCj("click",function(Yt){return Ce.onClick(Yt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[x.SYr]}),Re})(),Hn=(()=>{class Re{constructor(X,Ce,pt,Yt,yn){this.locationStrategy=X,this.navCtrl=Ce,this.elementRef=pt,this.router=Yt,this.routerLink=yn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var X;if(null!==(X=this.routerLink)&&void 0!==X&&X.urlTree){const Ce=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ce}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(ie.Qd),x.GI1(kn),x.GI1(x.GMv),x.GI1(K.E5),x.GI1(K.ER,8))},Re.\u0275dir=x.Sc5({type:Re,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(X,Ce){1&X&&x.qCj("click",function(){return Ce.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[x.SYr]}),Re})();const er=["animated","animation","root","rootParams","swipeGesture"],Br=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Ar=(()=>{let Re=class{constructor(X,Ce,pt,Yt,yn,En){this.z=yn,En.detach(),this.el=X.nativeElement,X.nativeElement.delegate=Yt.create(Ce,pt),Bn(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(x.GMv),x.GI1(x.SIe),x.GI1(x.zZn),x.GI1(zn),x.GI1(x.WW2),x.GI1(x.kD9))},Re.\u0275dir=x.Sc5({type:Re,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),Re=(0,Bt.UN)([Zn({inputs:er,methods:Br})],Re),Re})(),Mr=(()=>{class Re{constructor(X){this.navCtrl=X,this.ionTabsWillChange=new x._w7,this.ionTabsDidChange=new x._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:X,tabSwitch:Ce}){const pt=X.stackId;Ce&&void 0!==pt&&this.ionTabsWillChange.emit({tab:pt})}onStackDidChange({enteringView:X,tabSwitch:Ce}){const pt=X.stackId;Ce&&void 0!==pt&&(this.tabBar&&(this.tabBar.selectedTab=pt),this.ionTabsDidChange.emit({tab:pt}))}select(X){const Ce="string"==typeof X,pt=Ce?X:X.detail.tab,Yt=this.outlet.getActiveStackId()===pt,yn=`${this.outlet.tabsPrefix}/${pt}`;if(Ce||X.stopPropagation(),Yt){const En=this.outlet.getActiveStackId(),Vn=this.outlet.getLastRouteView(En);if((null==Vn?void 0:Vn.url)===yn)return;const Qn=this.outlet.getRootView(pt);return this.navCtrl.navigateRoot(yn,{...Qn&&yn===Qn.url&&Qn.savedExtras,animated:!0,animationDirection:"back"})}{const En=this.outlet.getLastRouteView(pt);return this.navCtrl.navigateRoot((null==En?void 0:En.url)||yn,{...null==En?void 0:En.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(X=>{const Ce=X.el.getAttribute("slot");Ce!==this.tabBarSlot&&(this.tabBarSlot=Ce,this.relocateTabBar())})}relocateTabBar(){const X=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(X):this.tabsInner.nativeElement.after(X)}}return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(kn))},Re.\u0275dir=x.Sc5({type:Re,selectors:[["ion-tabs"]],viewQuery:function(X,Ce){if(1&X&&x.CC$(Dt,7,x.GMv),2&X){let pt;x.wto(pt=x.Gqi())&&(Ce.tabsInner=pt.first)}},hostBindings:function(X,Ce){1&X&&x.qCj("ionTabButtonClick",function(Yt){return Ce.select(Yt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),Re})();const ki=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re);let so=(()=>{class Re{constructor(X,Ce){this.injector=X,this.elementRef=Ce,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(X){this.elementRef.nativeElement.value=this.lastValue=X,hr(this.elementRef)}handleValueChange(X,Ce){X===this.elementRef.nativeElement&&(Ce!==this.lastValue&&(this.lastValue=Ce,this.onChange(Ce)),hr(this.elementRef))}_handleBlurEvent(X){X===this.elementRef.nativeElement&&(this.onTouched(),hr(this.elementRef))}registerOnChange(X){this.onChange=X}registerOnTouched(X){this.onTouched=X}setDisabledState(X){this.elementRef.nativeElement.disabled=X}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let X;try{X=this.injector.get(Ft.eq)}catch{}if(!X)return;X.statusChanges&&(this.statusChanges=X.statusChanges.subscribe(()=>hr(this.elementRef)));const Ce=X.control;Ce&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Yt=>{if(typeof Ce[Yt]<"u"){const yn=Ce[Yt].bind(Ce);Ce[Yt]=(...En)=>{yn(...En),hr(this.elementRef)}}})}}return Re.\u0275fac=function(X){return new(X||Re)(x.GI1(x.zZn),x.GI1(x.GMv))},Re.\u0275dir=x.Sc5({type:Re,hostBindings:function(X,Ce){1&X&&x.qCj("ionBlur",function(Yt){return Ce._handleBlurEvent(Yt.target)})}}),Re})();const hr=Re=>{ki(()=>{const xe=Re.nativeElement,X=null!=xe.value&&xe.value.toString().length>0,Ce=Bi(xe);Ci(xe,Ce);const pt=xe.closest("ion-item");pt&&Ci(pt,X?[...Ce,"item-has-value"]:Ce)})},Bi=Re=>{const xe=Re.classList,X=[];for(let Ce=0;Ce<xe.length;Ce++){const pt=xe.item(Ce);null!==pt&&Gr(pt,"ng-")&&X.push(`ion-${pt.substring(3)}`)}return X},Ci=(Re,xe)=>{const X=Re.classList;X.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),X.add(...xe)},Gr=(Re,xe)=>Re.substring(0,xe.length)===xe;class Kn{shouldDetach(xe){return!1}shouldAttach(xe){return!1}store(xe,X){}retrieve(xe){return null}shouldReuseRoute(xe,X){if(xe.routeConfig!==X.routeConfig)return!1;const Ce=xe.params,pt=X.params,Yt=Object.keys(Ce),yn=Object.keys(pt);if(Yt.length!==yn.length)return!1;for(const En of Yt)if(pt[En]!==Ce[En])return!1;return!0}}class Eo{constructor(xe){this.ctrl=xe}create(xe){return this.ctrl.create(xe||{})}dismiss(xe,X,Ce){return this.ctrl.dismiss(xe,X,Ce)}getTop(){return this.ctrl.getTop()}}},2112:(fn,at,O)=>{"use strict";O.d(at,{iW:()=>Ze,qk:()=>bn,O7:()=>tr,Im:()=>pt,sn:()=>Ht,GS:()=>hn,KC:()=>qt,cz:()=>lr,_i:()=>$n,q8:()=>zn,Wq:()=>Cn,eV:()=>Fn,wB:()=>Un,Ko:()=>vn,A5:()=>Bn,Yb:()=>Zn,uW:()=>Rt,gf:()=>et,UB:()=>Tt,QR:()=>tt,OC:()=>oe,$C:()=>R,QT:()=>F,WY:()=>pe,_I:()=>Rn,Wi:()=>Gn,Cg:()=>X,iI:()=>Ar,Wg:()=>Bi,tM:()=>Kn,Md:()=>xe,wZ:()=>ii,Kg:()=>Wt,qS:()=>en,mY:()=>yn,qG:()=>Ee,Gq:()=>In});var l=O(4496),x=O(4716),K=O(304),ie=O(1316),we=O(800),ce=O(1368),ae=O(4196),je=(O(388),O(6256),O(8512),O(6556),O(2528),O(8523)),He=O(9637),ft=(O(3452),O(3816)),Ve=(O(4829),O(2992));O(6560),O(2784);var Qe=O(1528);const ot=je.i,me=function(){var D=(0,Qe.c)(function*(se,L){if(!(typeof window>"u"))return yield ot(),(0,Ve.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),L)});return function(L,re){return D.apply(this,arguments)}}(),z=["*"];let Ee=(()=>{class D extends K.uU{constructor(L,re){super(L,re)}_handleInputEvent(L){this.handleValueChange(L,L.value)}}return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.zZn),l.GI1(l.GMv))},D.\u0275dir=l.Sc5({type:D,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(L,re){1&L&&l.qCj("ionInput",function(Qt){return re._handleInputEvent(Qt.target)})},features:[l.M5G([{provide:x.Y6,useExisting:D,multi:!0}]),l.eg9]}),D})();const ve=(D,se)=>{const L=D.prototype;se.forEach(re=>{Object.defineProperty(L,re,{get(){return this.el[re]},set(Ne){this.z.runOutsideAngular(()=>this.el[re]=Ne)},configurable:!0})})},Me=(D,se)=>{const L=D.prototype;se.forEach(re=>{L[re]=function(){const Ne=arguments;return this.z.runOutsideAngular(()=>this.el[re].apply(this.el,Ne))}})},Oe=(D,se,L)=>{L.forEach(re=>D[re]=(0,we.w)(se,re))};function Ue(D){return function(L){const{defineCustomElementFn:re,inputs:Ne,methods:Qt}=D;return void 0!==re&&re(),Ne&&ve(L,Ne),Qt&&Me(L,Qt),L}}let bn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-app"]],ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({})],D),D})(),tr=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-avatar"]],ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({})],D),D})(),Ht=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],D),D})(),hn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["collapse"]})],D),D})(),qt=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],D),D})(),lr=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","disabled","mode","outline"]})],D),D})(),$n=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],D),D})(),zn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],D),D})(),Cn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],D),D})(),Fn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["collapse","mode","translucent"]})],D),D})(),Un=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["collapse","mode","translucent"]})],D),D})(),vn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],D),D})(),Bn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],D),D})(),Zn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],D),D})(),Rt=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],D),D})(),et=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionSwipe"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["side"]})],D),D})(),Tt=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionDrag"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],D),D})(),tt=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","mode","position"]})],D),D})(),oe=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],D),D})(),R=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],D),D})(),F=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["autoHide","color","disabled","menu","mode","type"]})],D),D})(),pe=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["autoHide","menu"]})],D),D})(),Rn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement,Oe(this,this.el,["ionRefresh","ionPull","ionStart"])}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",mode:"mode",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["closeDuration","disabled","mode","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],D),D})(),Gn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],D),D})(),Ar=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["animated"]})],D),D})(),Bi=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","mode"]})],D),D})(),Kn=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","size"]})],D),D})(),xe=(()=>{let D=class{constructor(L,re,Ne){this.z=Ne,L.detach(),this.el=re.nativeElement}};return D.\u0275fac=function(L){return new(L||D)(l.GI1(l.kD9),l.GI1(l.GMv),l.GI1(l.WW2))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D=(0,ie.UN)([Ue({inputs:["color","mode"]})],D),D})(),X=(()=>{class D extends K.Cg{constructor(L,re,Ne,Qt,Er,Zr,Yr,xi){super(L,re,Ne,Qt,Er,Zr,Yr,xi),this.parentOutlet=xi}}return D.\u0275fac=function(L){return new(L||D)(l.gJ8("name"),l.gJ8("tabs"),l.GI1(ce.oB),l.GI1(l.GMv),l.GI1(ae.E5),l.GI1(l.WW2),l.GI1(ae.gV),l.GI1(D,12))},D.\u0275dir=l.Sc5({type:D,selectors:[["ion-router-outlet"]],features:[l.eg9]}),D})(),pt=(()=>{class D extends K.Im{constructor(L,re,Ne,Qt,Er,Zr){super(L,re,Ne,Qt,Er,Zr)}}return D.\u0275fac=function(L){return new(L||D)(l.GI1(X,8),l.GI1(K.wX),l.GI1(K._U),l.GI1(l.GMv),l.GI1(l.WW2),l.GI1(l.kD9))},D.\u0275cmp=l.In1({type:D,selectors:[["ion-back-button"]],features:[l.eg9],ngContentSelectors:z,decls:1,vars:0,template:function(L,re){1&L&&(l.kPM(),l._Xx(0))},encapsulation:2,changeDetection:0}),D})(),yn=(()=>{class D extends K.g5{}return D.\u0275fac=(()=>{let se;return function(re){return(se||(se=l.otF(D)))(re||D)}})(),D.\u0275dir=l.Sc5({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.eg9]}),D})();const li={provide:x.WM,useExisting:(0,l.wd)(()=>Et),multi:!0};let Et=(()=>{class D extends x._t{}return D.\u0275fac=(()=>{let se;return function(re){return(se||(se=l.otF(D)))(re||D)}})(),D.\u0275dir=l.Sc5({type:D,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&l.e48("max",re._enabled?re.max:null)},features:[l.M5G([li]),l.eg9]}),D})();const q={provide:x.WM,useExisting:(0,l.wd)(()=>te),multi:!0};let te=(()=>{class D extends x.Gu{}return D.\u0275fac=(()=>{let se;return function(re){return(se||(se=l.otF(D)))(re||D)}})(),D.\u0275dir=l.Sc5({type:D,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,re){2&L&&l.e48("min",re._enabled?re.min:null)},features:[l.M5G([q]),l.eg9]}),D})(),Ze=(()=>{class D extends K.gk{constructor(){super(ft.a)}}return D.\u0275fac=function(L){return new(L||D)},D.\u0275prov=l.wxM({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Wt=(()=>{class D extends K.gk{constructor(){super(ft.l)}}return D.\u0275fac=function(L){return new(L||D)},D.\u0275prov=l.wxM({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),en=(()=>{class D extends K.gk{constructor(){super(ft.m),this.angularDelegate=(0,l.uUt)(K.kh),this.injector=(0,l.uUt)(l.zZn),this.environmentInjector=(0,l.uUt)(l.SIe)}create(L){return super.create({...L,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return D.\u0275fac=function(L){return new(L||D)},D.\u0275prov=l.wxM({token:D,factory:D.\u0275fac}),D})();class rn extends K.gk{constructor(){super(ft.c),this.angularDelegate=(0,l.uUt)(K.kh),this.injector=(0,l.uUt)(l.zZn),this.environmentInjector=(0,l.uUt)(l.SIe)}create(se){return super.create({...se,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let In=(()=>{class D extends K.gk{constructor(){super(ft.t)}}return D.\u0275fac=function(L){return new(L||D)},D.\u0275prov=l.wxM({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Pn=(D,se,L)=>()=>{const re=se.defaultView;if(re&&typeof window<"u"){(0,He.s)({...D,_zoneGate:Qt=>L.run(Qt)});const Ne="__zone_symbol__addEventListener"in se.body?"__zone_symbol__addEventListener":"addEventListener";return function Ke(){var D=[];if(typeof window<"u"){var se=window;(!se.customElements||se.Element&&(!se.Element.prototype.closest||!se.Element.prototype.matches||!se.Element.prototype.remove||!se.Element.prototype.getRootNode))&&D.push(O.e(4448).then(O.t.bind(O,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||se.NodeList&&!se.NodeList.prototype.forEach||!se.fetch||!function(){try{var re=new URL("b","http://a");return re.pathname="c%20d","http://a/c%20d"===re.href&&re.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&D.push(O.e(488).then(O.t.bind(O,6304,23)))}return Promise.all(D)}().then(()=>me(re,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:K.cl,jmp:Qt=>L.runOutsideAngular(Qt),ael(Qt,Er,Zr,Yr){Qt[Ne](Er,Zr,Yr)},rel(Qt,Er,Zr,Yr){Qt.removeEventListener(Er,Zr,Yr)}}))}};let ii=(()=>{class D{static forRoot(L){return{ngModule:D,providers:[{provide:K.m2,useValue:L},{provide:l.kZF,useFactory:Pn,multi:!0,deps:[K.m2,ce.Ud,l.WW2]},(0,K.Al)()]}}}return D.\u0275fac=function(L){return new(L||D)},D.\u0275mod=l.a4G({type:D}),D.\u0275inj=l.s3X({providers:[K.kh,en,rn],imports:[ce.MD]}),D})()},3680:(fn,at,O)=>{"use strict";O.d(at,{UH:()=>l.getApps,WE:()=>l.getApp});var l=O(9360);(0,l.registerVersion)("firebase","10.8.1","app")},9252:(fn,at,O)=>{"use strict";O.d(at,{c:()=>l.c});var l=O(8368);l.c.registerVersion("firebase","10.8.1","app-compat")},6858:(fn,at,O)=>{"use strict";O.r(at);var l=O(1528),x=O(8368),K=O(7888),ie=O(7144),ae=(O(9360),O(5976),O(4920));function be(){return window}function le(){return le=(0,l.c)(function*(Z,R,F){var pe;const{BuildInfo:Pe}=be();(0,K.au)(R.sessionId,"AuthEvent did not contain a session ID");const ct=yield function Ve(Z){return Se.apply(this,arguments)}(R.sessionId),Mt={};return(0,K.av)()?Mt.ibi=Pe.packageName:(0,K.aw)()?Mt.apn=Pe.packageName:(0,K.ax)(Z,"operation-not-supported-in-this-environment"),Pe.displayName&&(Mt.appDisplayName=Pe.displayName),Mt.sessionId=ct,(0,K.ay)(Z,F,R.type,void 0,null!==(pe=R.eventId)&&void 0!==pe?pe:void 0,Mt)}),le.apply(this,arguments)}function je(){return(je=(0,l.c)(function*(Z){const{BuildInfo:R}=be(),F={};(0,K.av)()?F.iosBundleId=R.packageName:(0,K.aw)()?F.androidPackageName=R.packageName:(0,K.ax)(Z,"operation-not-supported-in-this-environment"),yield(0,K.az)(Z,F)})).apply(this,arguments)}function ft(){return(ft=(0,l.c)(function*(Z,R,F){const{cordova:pe}=be();let Pe=()=>{};try{yield new Promise((ct,Mt)=>{let xt=null;function tn(){var Rn;ct();const Gn=null===(Rn=pe.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof Gn&&Gn(),"function"==typeof(null==F?void 0:F.close)&&F.close()}function Vt(){xt||(xt=window.setTimeout(()=>{Mt((0,K.aB)(Z,"redirect-cancelled-by-user"))},2e3))}function dn(){"visible"===(null==document?void 0:document.visibilityState)&&Vt()}R.addPassiveListener(tn),document.addEventListener("resume",Vt,!1),(0,K.aw)()&&document.addEventListener("visibilitychange",dn,!1),Pe=()=>{R.removePassiveListener(tn),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",dn,!1),xt&&window.clearTimeout(xt)}})}finally{Pe()}})).apply(this,arguments)}function Se(){return(Se=(0,l.c)(function*(Z){const R=function it(Z){if((0,K.au)(/[0-9a-zA-Z]+/.test(Z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Z);const R=new ArrayBuffer(Z.length),F=new Uint8Array(R);for(let pe=0;pe<Z.length;pe++)F[pe]=Z.charCodeAt(pe);return F}(Z),F=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(F)).map(Pe=>Pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ke extends K.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(R)),super.onEvent(R)}initialized(){var R=this;return(0,l.c)(function*(){yield R.initPromise})()}}function me(Z){return z.apply(this,arguments)}function z(){return(z=(0,l.c)(function*(Z){const R=yield Le()._get(Ae(Z));return R&&(yield Le()._remove(Ae(Z))),R})).apply(this,arguments)}function Be(){const Z=[];for(let F=0;F<20;F++){const pe=Math.floor(62*Math.random());Z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(pe))}return Z.join("")}function Le(){return(0,K.aE)(K.b)}function Ae(Z){return(0,K.aF)("authEvent",Z.config.apiKey,Z.name)}function zt(Z){if(null==Z||!Z.includes("?"))return{};const[R,...F]=Z.split("?");return(0,ie.aw)(F.join("?"))}const Ee=class nt{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aG,this._overrideRedirectResult=K.aH}_initialize(R){var F=this;return(0,l.c)(function*(){const pe=R._key();let Pe=F.eventManagers.get(pe);return Pe||(Pe=new Ke(R),F.eventManagers.set(pe,Pe),F.attachCallbackListeners(R,Pe)),Pe})()}_openPopup(R){(0,K.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,F,pe,Pe){var ct=this;return(0,l.c)(function*(){!function Ye(Z){var R,F,pe,Pe,ct,Mt,xt,tn,Vt,dn;const Rn=be();(0,K.aC)("function"==typeof(null===(R=null==Rn?void 0:Rn.universalLinks)||void 0===R?void 0:R.subscribe),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aC)(typeof(null===(F=null==Rn?void 0:Rn.BuildInfo)||void 0===F?void 0:F.packageName)<"u",Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aC)("function"==typeof(null===(ct=null===(Pe=null===(pe=null==Rn?void 0:Rn.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Pe?void 0:Pe.browsertab)||void 0===ct?void 0:ct.openUrl),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aC)("function"==typeof(null===(tn=null===(xt=null===(Mt=null==Rn?void 0:Rn.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===tn?void 0:tn.isAvailable),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aC)("function"==typeof(null===(dn=null===(Vt=null==Rn?void 0:Rn.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===dn?void 0:dn.open),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Mt=yield ct._initialize(R);yield Mt.initialized(),Mt.resetRedirect(),(0,K.aI)(),yield ct._originValidation(R);const xt=function Qe(Z,R,F=null){return{type:R,eventId:F,urlResponse:null,sessionId:Be(),postBody:null,tenantId:Z.tenantId,error:(0,K.aB)(Z,"no-auth-event")}}(R,pe,Pe);yield function ot(Z,R){return Le()._set(Ae(Z),R)}(R,xt);const tn=yield function de(Z,R,F){return le.apply(this,arguments)}(R,xt,F),Vt=yield function He(Z){const{cordova:R}=be();return new Promise(F=>{R.plugins.browsertab.isAvailable(pe=>{let Pe=null;pe?R.plugins.browsertab.openUrl(Z):Pe=R.InAppBrowser.open(Z,(0,K.aA)()?"_blank":"_system","location=yes"),F(Pe)})})}(tn);return function qe(Z,R,F){return ft.apply(this,arguments)}(R,Mt,Vt)})()}_isIframeWebStorageSupported(R,F){throw new Error("Method not implemented.")}_originValidation(R){const F=R._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function Ge(Z){return je.apply(this,arguments)}(R)),this.originValidationPromises[F]}attachCallbackListeners(R,F){const{universalLinks:pe,handleOpenURL:Pe,BuildInfo:ct}=be(),Mt=setTimeout((0,l.c)(function*(){yield me(R),F.onEvent(ve())}),500),xt=function(){var dn=(0,l.c)(function*(Rn){clearTimeout(Mt);const Gn=yield me(R);let Jn=null;Gn&&null!=Rn&&Rn.url&&(Jn=function $e(Z,R){var F,pe;const Pe=function Ct(Z){const R=zt(Z),F=R.link?decodeURIComponent(R.link):void 0,pe=zt(F).link,Pe=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return zt(Pe).link||Pe||pe||F||Z}(R);if(Pe.includes("/__/auth/callback")){const ct=zt(Pe),Mt=ct.firebaseError?function ze(Z){try{return JSON.parse(Z)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,xt=null===(pe=null===(F=null==Mt?void 0:Mt.code)||void 0===F?void 0:F.split("auth/"))||void 0===pe?void 0:pe[1],tn=xt?(0,K.aB)(xt):null;return tn?{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,error:tn,urlResponse:null,sessionId:null,postBody:null}:{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,sessionId:Z.sessionId,urlResponse:Pe,postBody:null}}return null}(Gn,Rn.url)),F.onEvent(Jn||ve())});return function(Gn){return dn.apply(this,arguments)}}();typeof pe<"u"&&"function"==typeof pe.subscribe&&pe.subscribe(null,xt);const tn=Pe,Vt=`${ct.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var dn=(0,l.c)(function*(Rn){if(Rn.toLowerCase().startsWith(Vt)&&xt({url:Rn}),"function"==typeof tn)try{tn(Rn)}catch(Gn){console.error(Gn)}});return function(Rn){return dn.apply(this,arguments)}}()}};function ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.aB)("no-auth-event")}}function Zt(){var Z;return(null===(Z=null==self?void 0:self.location)||void 0===Z?void 0:Z.protocol)||null}function Kt(Z=(0,ie.Su)()){return!("file:"!==Zt()&&"ionic:"!==Zt()&&"capacitor:"!==Zt()||!Z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ft(){try{const Z=self.localStorage,R=K.aN();if(Z)return Z.setItem(R,"1"),Z.removeItem(R),!function qn(Z=(0,ie.Su)()){return function bn(){return(0,ie.Uv)()&&11===(null==document?void 0:document.documentMode)}()||function tr(Z=(0,ie.Su)()){return/Edge\/\d+/.test(Z)}(Z)}()||(0,ie.yy)()}catch{return Dt()&&(0,ie.yy)()}return!1}function Dt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wt(){return(function on(){return"http:"===Zt()||"https:"===Zt()}()||(0,ie.Cc)()||Kt())&&!function Bt(){return(0,ie.AL)()||(0,ie.yW)()}()&&Ft()&&!Dt()}function Ht(){return Kt()&&typeof document<"u"}function qt(){return(qt=(0,l.c)(function*(){return!!Ht()&&new Promise(Z=>{const R=setTimeout(()=>{Z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),Z(!0)})})})).apply(this,arguments)}const wn={LOCAL:"local",NONE:"none",SESSION:"session"},kn=K.aC,pr="persistence";function lr(Z){return An.apply(this,arguments)}function An(){return(An=(0,l.c)(function*(Z){yield Z._initializationPromise;const R=vr(),F=K.aF(pr,Z.config.apiKey,Z.name);R&&R.setItem(F,Z._getPersistence())})).apply(this,arguments)}function vr(){var Z;try{return(null===(Z=function mt(){return typeof window<"u"?window:null}())||void 0===Z?void 0:Z.sessionStorage)||null}catch{return null}}const di=K.aC;class zn{constructor(){this.browserResolver=K.aE(K.k),this.cordovaResolver=K.aE(Ee),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aG,this._overrideRedirectResult=K.aH}_initialize(R){var F=this;return(0,l.c)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,F,pe,Pe){var ct=this;return(0,l.c)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(R,F,pe,Pe)})()}_openRedirect(R,F,pe,Pe){var ct=this;return(0,l.c)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(R,F,pe,Pe)})()}_isIframeWebStorageSupported(R,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,F)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Ht()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return di(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,l.c)(function*(){if(R.underlyingResolver)return;const F=yield function hn(){return qt.apply(this,arguments)}();R.underlyingResolver=F?R.cordovaResolver:R.browserResolver})()}}function Cn(Z){return Z.unwrap()}function Fn(Z){return Un(Z)}function Un(Z){const{_tokenResponse:R}=Z instanceof ie.kx?Z.customData:Z;if(!R)return null;if(!(Z instanceof ie.kx)&&"temporaryProof"in R&&"phoneNumber"in R)return K.P.credentialFromResult(Z);const F=R.providerId;if(!F||F===K.p.PASSWORD)return null;let pe;switch(F){case K.p.GOOGLE:pe=K.X;break;case K.p.FACEBOOK:pe=K.W;break;case K.p.GITHUB:pe=K.Y;break;case K.p.TWITTER:pe=K.$;break;default:const{oauthIdToken:Pe,oauthAccessToken:ct,oauthTokenSecret:Mt,pendingToken:xt,nonce:tn}=R;return ct||Mt||Pe||xt?xt?F.startsWith("saml.")?K.aQ._create(F,xt):K.N._fromParams({providerId:F,signInMethod:F,pendingToken:xt,idToken:Pe,accessToken:ct}):new K.Z(F).credential({idToken:Pe,accessToken:ct,rawNonce:tn}):null}return Z instanceof ie.kx?pe.credentialFromError(Z):pe.credentialFromResult(Z)}function vn(Z,R){return R.catch(F=>{throw F instanceof ie.kx&&function Sn(Z,R){var F;const pe=null===(F=R.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===(null==R?void 0:R.code))R.resolver=new Dr(Z,K.as(Z,R));else if(pe){const Pe=Un(R),ct=R;Pe&&(ct.credential=Pe,ct.tenantId=pe.tenantId||void 0,ct.email=pe.email||void 0,ct.phoneNumber=pe.phoneNumber||void 0)}}(Z,F),F}).then(F=>{const Pe=F.user;return{operationType:F.operationType,credential:Fn(F),additionalUserInfo:K.aq(F),user:Bn.getOrCreate(Pe)}})}function sr(Z,R){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.c)(function*(Z,R){const F=yield R;return{verificationId:F.verificationId,confirm:pe=>vn(Z,F.confirm(pe))}})).apply(this,arguments)}class Dr{constructor(R,F){this.resolver=F,this.auth=function Ir(Z){return Z.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return vn(Cn(this.auth),this.resolver.resolveSignIn(R))}}class Bn{constructor(R){this._delegate=R,this.multiFactor=K.at(R)}static getOrCreate(R){return Bn.USER_MAP.has(R)||Bn.USER_MAP.set(R,new Bn(R)),Bn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var F=this;return(0,l.c)(function*(){return vn(F.auth,K.a2(F._delegate,R))})()}linkWithPhoneNumber(R,F){var pe=this;return(0,l.c)(function*(){return sr(pe.auth,K.l(pe._delegate,R,F))})()}linkWithPopup(R){var F=this;return(0,l.c)(function*(){return vn(F.auth,K.d(F._delegate,R,zn))})()}linkWithRedirect(R){var F=this;return(0,l.c)(function*(){return yield lr(K.aJ(F.auth)),K.g(F._delegate,R,zn)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var F=this;return(0,l.c)(function*(){return vn(F.auth,K.a3(F._delegate,R))})()}reauthenticateWithPhoneNumber(R,F){return sr(this.auth,K.r(this._delegate,R,F))}reauthenticateWithPopup(R){return vn(this.auth,K.e(this._delegate,R,zn))}reauthenticateWithRedirect(R){var F=this;return(0,l.c)(function*(){return yield lr(K.aJ(F.auth)),K.h(F._delegate,R,zn)})()}sendEmailVerification(R){return K.ag(this._delegate,R)}unlink(R){var F=this;return(0,l.c)(function*(){return yield K.ap(F._delegate,R),F})()}updateEmail(R){return K.al(this._delegate,R)}updatePassword(R){return K.am(this._delegate,R)}updatePhoneNumber(R){return K.u(this._delegate,R)}updateProfile(R){return K.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,F){return K.ah(this._delegate,R,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const Zn=K.aC;let wr=(()=>{class Z{constructor(F,pe){if(this.app=F,pe.isInitialized())return this._delegate=pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Pe}=F.options;Zn(Pe,"invalid-api-key",{appName:F.name}),Zn(Pe,"invalid-api-key",{appName:F.name});const ct=typeof window<"u"?zn:void 0;this._delegate=pe.initialize({options:{persistence:Rt(Pe,F.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(K.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,pe){K.K(this._delegate,F,pe)}applyActionCode(F){return K.a7(this._delegate,F)}checkActionCode(F){return K.a8(this._delegate,F)}confirmPasswordReset(F,pe){return K.a6(this._delegate,F,pe)}createUserWithEmailAndPassword(F,pe){var Pe=this;return(0,l.c)(function*(){return vn(Pe._delegate,K.aa(Pe._delegate,F,pe))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return K.af(this._delegate,F)}isSignInWithEmailLink(F){return K.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,l.c)(function*(){Zn(wt(),F._delegate,"operation-not-supported-in-this-environment");const pe=yield K.j(F._delegate,zn);return pe?vn(F._delegate,Promise.resolve(pe)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Me(Z,R){(0,K.aJ)(Z)._logFramework(R)}(this._delegate,F)}onAuthStateChanged(F,pe,Pe){const{next:ct,error:Mt,complete:xt}=Ei(F,pe,Pe);return this._delegate.onAuthStateChanged(ct,Mt,xt)}onIdTokenChanged(F,pe,Pe){const{next:ct,error:Mt,complete:xt}=Ei(F,pe,Pe);return this._delegate.onIdTokenChanged(ct,Mt,xt)}sendSignInLinkToEmail(F,pe){return K.ac(this._delegate,F,pe)}sendPasswordResetEmail(F,pe){return K.a5(this._delegate,F,pe||void 0)}setPersistence(F){var pe=this;return(0,l.c)(function*(){let Pe;switch(function mr(Z,R){kn(Object.values(wn).includes(R),Z,"invalid-persistence-type"),(0,ie.AL)()?kn(R!==wn.SESSION,Z,"unsupported-persistence-type"):(0,ie.yW)()?kn(R===wn.NONE,Z,"unsupported-persistence-type"):Dt()?kn(R===wn.NONE||R===wn.LOCAL&&(0,ie.yy)(),Z,"unsupported-persistence-type"):kn(R===wn.NONE||Ft(),Z,"unsupported-persistence-type")}(pe._delegate,F),F){case wn.SESSION:Pe=K.a;break;case wn.LOCAL:Pe=(yield K.aE(K.i)._isAvailable())?K.i:K.b;break;case wn.NONE:Pe=K.U;break;default:return K.ax("argument-error",{appName:pe._delegate.name})}return pe._delegate.setPersistence(Pe)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return vn(this._delegate,K.a0(this._delegate))}signInWithCredential(F){return vn(this._delegate,K.a1(this._delegate,F))}signInWithCustomToken(F){return vn(this._delegate,K.a4(this._delegate,F))}signInWithEmailAndPassword(F,pe){return vn(this._delegate,K.ab(this._delegate,F,pe))}signInWithEmailLink(F,pe){return vn(this._delegate,K.ae(this._delegate,F,pe))}signInWithPhoneNumber(F,pe){return sr(this._delegate,K.s(this._delegate,F,pe))}signInWithPopup(F){var pe=this;return(0,l.c)(function*(){return Zn(wt(),pe._delegate,"operation-not-supported-in-this-environment"),vn(pe._delegate,K.c(pe._delegate,F,zn))})()}signInWithRedirect(F){var pe=this;return(0,l.c)(function*(){return Zn(wt(),pe._delegate,"operation-not-supported-in-this-environment"),yield lr(pe._delegate),K.f(pe._delegate,F,zn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return K.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Z.Persistence=wn,Z})();function Ei(Z,R,F){let pe=Z;"function"!=typeof Z&&({next:pe,error:R,complete:F}=Z);const Pe=pe;return{next:Mt=>Pe(Mt&&Bn.getOrCreate(Mt)),error:R,complete:F}}function Rt(Z,R){const F=function $n(Z,R){const F=vr();if(!F)return[];const pe=K.aF(pr,Z,R);switch(F.getItem(pe)){case wn.NONE:return[K.U];case wn.LOCAL:return[K.i,K.a];case wn.SESSION:return[K.a];default:return[]}}(Z,R);if(typeof self<"u"&&!F.includes(K.i)&&F.push(K.i),typeof window<"u")for(const pe of[K.b,K.a])F.includes(pe)||F.push(pe);return F.includes(K.U)||F.push(K.U),F}class et{constructor(){this.providerId="phone",this._delegate=new K.P(Cn(x.c.auth()))}static credential(R,F){return K.P.credential(R,F)}verifyPhoneNumber(R,F){return this._delegate.verifyPhoneNumber(R,F)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=K.P.PROVIDER_ID;const Tt=K.aC;class tt{constructor(R,F,pe=x.c.app()){var Pe;Tt(null===(Pe=pe.options)||void 0===Pe?void 0:Pe.apiKey,"invalid-api-key",{appName:pe.name}),this._delegate=new K.R(pe.auth(),R,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(Z){Z.INTERNAL.registerComponent(new ae.Yl("auth-compat",R=>{const F=R.getProvider("app-compat").getImmediate(),pe=R.getProvider("auth");return new wr(F,pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.V,FacebookAuthProvider:K.W,GithubAuthProvider:K.Y,GoogleAuthProvider:K.X,OAuthProvider:K.Z,SAMLAuthProvider:K._,PhoneAuthProvider:et,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:tt,TwitterAuthProvider:K.$,Auth:wr,AuthCredential:K.L,Error:ie.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Z.registerVersion("@firebase/auth-compat","0.5.3")}(x.c)},872:(fn,at,O)=>{"use strict";O.d(at,{Sm:()=>l.Sm,UN:()=>l.UN,ag:()=>l.ag,gD:()=>l.gD,gZ:()=>l.gZ,i4:()=>l.i4,k$:()=>l.k$,kt:()=>l.kt,oV:()=>l.oV,oh:()=>l.oh,sB:()=>l.sB});var l=O(5718)},1528:(fn,at,O)=>{"use strict";function l(K,ie,we,ce,ae,be,Xe){try{var de=K[be](Xe),le=de.value}catch(Ge){return void we(Ge)}de.done?ie(le):Promise.resolve(le).then(ce,ae)}function x(K){return function(){var ie=this,we=arguments;return new Promise(function(ce,ae){var be=K.apply(ie,we);function Xe(le){l(be,ce,ae,Xe,de,"next",le)}function de(le){l(be,ce,ae,Xe,de,"throw",le)}Xe(void 0)})}}O.d(at,{c:()=>x})},4580:(fn,at,O)=>{"use strict";function l(we){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(we)}function ie(we,ce,ae){return(ce=function K(we){var ce=function x(we,ce){if("object"!=l(we)||!we)return we;var ae=we[Symbol.toPrimitive];if(void 0!==ae){var be=ae.call(we,ce||"default");if("object"!=l(be))return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ce?String:Number)(we)}(we,"string");return"symbol"==l(ce)?ce:String(ce)}(ce))in we?Object.defineProperty(we,ce,{value:ae,enumerable:!0,configurable:!0,writable:!0}):we[ce]=ae,we}O.d(at,{c:()=>ie})},1316:(fn,at,O)=>{"use strict";function ie(Ee,ve){var Me={};for(var Oe in Ee)Object.prototype.hasOwnProperty.call(Ee,Oe)&&ve.indexOf(Oe)<0&&(Me[Oe]=Ee[Oe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Oe=Object.getOwnPropertySymbols(Ee);ut<Oe.length;ut++)ve.indexOf(Oe[ut])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Oe[ut])&&(Me[Oe[ut]]=Ee[Oe[ut]])}return Me}function we(Ee,ve,Me,Oe){var Zt,ut=arguments.length,Ue=ut<3?ve:null===Oe?Oe=Object.getOwnPropertyDescriptor(ve,Me):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(Ee,ve,Me,Oe);else for(var on=Ee.length-1;on>=0;on--)(Zt=Ee[on])&&(Ue=(ut<3?Zt(Ue):ut>3?Zt(ve,Me,Ue):Zt(ve,Me))||Ue);return ut>3&&Ue&&Object.defineProperty(ve,Me,Ue),Ue}function Ge(Ee,ve,Me,Oe){return new(Me||(Me=Promise))(function(Ue,Zt){function on(bn){try{Bt(Oe.next(bn))}catch(tr){Zt(tr)}}function Kt(bn){try{Bt(Oe.throw(bn))}catch(tr){Zt(tr)}}function Bt(bn){bn.done?Ue(bn.value):function ut(Ue){return Ue instanceof Me?Ue:new Me(function(Zt){Zt(Ue)})}(bn.value).then(on,Kt)}Bt((Oe=Oe.apply(Ee,ve||[])).next())})}function We(Ee){return this instanceof We?(this.v=Ee,this):new We(Ee)}function Ke(Ee,ve,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Oe=Me.apply(Ee,ve||[]),Ue=[];return ut={},Zt("next"),Zt("throw"),Zt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Zt(qn){Oe[qn]&&(ut[qn]=function(Ft){return new Promise(function(Dt,wt){Ue.push([qn,Ft,Dt,wt])>1||on(qn,Ft)})})}function on(qn,Ft){try{!function Kt(qn){qn.value instanceof We?Promise.resolve(qn.value.v).then(Bt,bn):tr(Ue[0][2],qn)}(Oe[qn](Ft))}catch(Dt){tr(Ue[0][3],Dt)}}function Bt(qn){on("next",qn)}function bn(qn){on("throw",qn)}function tr(qn,Ft){qn(Ft),Ue.shift(),Ue.length&&on(Ue[0][0],Ue[0][1])}}function ot(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ve=Ee[Symbol.asyncIterator];return ve?ve.call(Ee):(Ee=function ft(Ee){var ve="function"==typeof Symbol&&Symbol.iterator,Me=ve&&Ee[ve],Oe=0;if(Me)return Me.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Oe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Oe++],done:!Ee}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Me={},Oe("next"),Oe("throw"),Oe("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Oe(Ue){Me[Ue]=Ee[Ue]&&function(Zt){return new Promise(function(on,Kt){!function ut(Ue,Zt,on,Kt){Promise.resolve(Kt).then(function(Bt){Ue({value:Bt,done:on})},Zt)}(on,Kt,(Zt=Ee[Ue](Zt)).done,Zt.value)})}}}O.d(at,{U1:()=>We,UN:()=>we,kH:()=>Ge,mA:()=>ot,o7:()=>Ke,sX:()=>ie}),"function"==typeof SuppressedError&&SuppressedError}},fn=>{fn(fn.s=2744)}]);