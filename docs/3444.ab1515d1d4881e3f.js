"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3444],{3444:(Y,m,n)=>{n.r(m),n.d(m,{ProfilePageModule:()=>E});var g=n(1368),v=n(4716),r=n(2112),f=n(4196),d=n(1528),e=n(4496),h=n(9208),y=n(7284),I=n(5088);function R(o,i){if(1&o&&e.wR5(0,"img",9),2&o){const l=e.GaO();let t;e.E7m("src",null==(t=l.user())?null:t.image,e.K6U)}}function C(o,i){1&o&&e.wR5(0,"ion-icon",10)}const M=[{path:"",component:(()=>{var o;class i{constructor(){this.firebaseSvc=(0,e.uUt)(h.C),this.utilsSvc=(0,e.uUt)(y.e)}ngOnInit(){}user(){return this.utilsSvc.getFromLocalStorage("user")}takeImage(){var t=this;return(0,d.c)(function*(){let a=t.user(),s=`users/${a.uid}`;const c=(yield t.utilsSvc.takePicture("Profile Image")).dataUrl,p=yield t.utilsSvc.loading();yield p.present();let T=`${a.uid}/profile`;a.image=yield t.firebaseSvc.uploadImage(T,c),t.firebaseSvc.updateDoc(s,{image:a.image}).then(function(){var u=(0,d.c)(function*(P){t.utilsSvc.saveInLocalStorage("user",a),console.log(P),t.utilsSvc.presentToast({message:"Image updated",duration:1500,color:"success",position:"middle",icon:"checkmark-circle-outline"})});return function(P){return u.apply(this,arguments)}}()).catch(u=>{console.log(u),t.utilsSvc.presentToast({message:u.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{p.dismiss()})})()}}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.In1({type:o,selectors:[["app-profile"]],decls:19,vars:4,consts:[["title","Profile",3,"showMenu"],[1,"ion-padding-top","ion-text-center"],[3,"src",4,"ngIf"],["class","empty-icon","name","person-circle-outline",4,"ngIf"],["mode","ios","size","small","shape","round",1,"photo-btn",3,"click"],["name","camera-outline"],["button","","detail",""],["color","primary","slot","start","name","person-outline"],["color","primary","slot","start","name","document-outline"],[3,"src"],["name","person-circle-outline",1,"empty-icon"]],template:function(t,a){if(1&t&&(e.wR5(0,"app-header",0),e.I0R(1,"ion-content",1)(2,"ion-avatar"),e.yuY(3,R,1,1,"img",2)(4,C,1,0,"ion-icon",3),e.C$Y(),e.I0R(5,"ion-button",4),e.qCj("click",function(){return a.takeImage()}),e.wR5(6,"ion-icon",5),e.C$Y(),e.I0R(7,"h2"),e.OEk(8),e.C$Y(),e.I0R(9,"div"),e.OEk(10,"Vendor"),e.C$Y(),e.I0R(11,"ion-item",6),e.wR5(12,"ion-icon",7),e.I0R(13,"ion-label"),e.OEk(14,"Edit Profile"),e.C$Y()(),e.I0R(15,"ion-item",6),e.wR5(16,"ion-icon",8),e.I0R(17,"ion-label"),e.OEk(18,"Term & Conditions"),e.C$Y()()()),2&t){let s,c;e.E7m("showMenu",!0),e.yG2(3),e.E7m("ngIf",null==(s=a.user())?null:s.image),e.yG2(),e.E7m("ngIf",!(null!=(c=a.user())&&c.image)),e.yG2(4),e.cNF(a.user().name)}},dependencies:[g.u_,r.O7,r.sn,r._i,r.Ko,r.Yb,r.QR,I.k],styles:["ion-avatar[_ngcontent-%COMP%]{width:140px;height:140px;margin:0 auto}.photo-btn[_ngcontent-%COMP%]{position:relative;bottom:25px}h2[_ngcontent-%COMP%]{margin-bottom:0}ion-item[_ngcontent-%COMP%]{--padding-top: 15px}.empty-icon[_ngcontent-%COMP%]{font-size:140px;opacity:30%}"]}),i})()}];let O=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[f.qQ.forChild(M),f.qQ]}),i})();var S=n(1455);let E=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[g.MD,v.y,r.wZ,O,S.k]}),i})()}}]);